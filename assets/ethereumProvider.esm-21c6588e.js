import{c as tt,ac as xn,ag as Ve,B as V,a as ia,ah as Ro,ai as Di,$ as zo,aj as oa,ak as sa,al as aa,d as fa,ad as ca,am as Uo,an as Gi,ao as ua,ap as Hn,a6 as jo,C as zn,_ as Yt,k as $e,w as Qt,y as Qi,D as eo,a7 as mn,J as qo,a8 as Vo,M as ha,aq as Xt,ar as da,a9 as Ko,as as Yn,aa as Nt,g as Zo,at as Rt,a5 as Un,ab as la}from"./index-6f172409.js";var Wo={},Mn={},jt={},Qe={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.output=Ot.exists=Ot.hash=Ot.bytes=Ot.bool=Ot.number=void 0;function jn(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}Ot.number=jn;function Yo(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}Ot.bool=Yo;function Ri(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}Ot.bytes=Ri;function Xo(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");jn(r.outputLen),jn(r.blockLen)}Ot.hash=Xo;function Jo(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}Ot.exists=Jo;function Qo(r,e){Ri(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}Ot.output=Qo;const ma={number:jn,bool:Yo,bytes:Ri,hash:Xo,exists:Jo,output:Qo};Ot.default=ma;var es={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.add=r.toBig=r.split=r.fromBig=void 0;const e=BigInt(2**32-1),t=BigInt(32);function n(M,m=!1){return m?{h:Number(M&e),l:Number(M>>t&e)}:{h:Number(M>>t&e)|0,l:Number(M&e)|0}}r.fromBig=n;function s(M,m=!1){let i=new Uint32Array(M.length),c=new Uint32Array(M.length);for(let l=0;l<M.length;l++){const{h:b,l:w}=n(M[l],m);[i[l],c[l]]=[b,w]}return[i,c]}r.split=s;const o=(M,m)=>BigInt(M>>>0)<<t|BigInt(m>>>0);r.toBig=o;const u=(M,m,i)=>M>>>i,d=(M,m,i)=>M<<32-i|m>>>i,y=(M,m,i)=>M>>>i|m<<32-i,T=(M,m,i)=>M<<32-i|m>>>i,A=(M,m,i)=>M<<64-i|m>>>i-32,O=(M,m,i)=>M>>>i-32|m<<64-i,$=(M,m)=>m,G=(M,m)=>M,Y=(M,m,i)=>M<<i|m>>>32-i,he=(M,m,i)=>m<<i|M>>>32-i,de=(M,m,i)=>m<<i-32|M>>>64-i,re=(M,m,i)=>M<<i-32|m>>>64-i;function we(M,m,i,c){const l=(m>>>0)+(c>>>0);return{h:M+i+(l/2**32|0)|0,l:l|0}}r.add=we;const W=(M,m,i)=>(M>>>0)+(m>>>0)+(i>>>0),_=(M,m,i,c)=>m+i+c+(M/2**32|0)|0,C=(M,m,i,c)=>(M>>>0)+(m>>>0)+(i>>>0)+(c>>>0),R=(M,m,i,c,l)=>m+i+c+l+(M/2**32|0)|0,q=(M,m,i,c,l)=>(M>>>0)+(m>>>0)+(i>>>0)+(c>>>0)+(l>>>0),N=(M,m,i,c,l,b)=>m+i+c+l+b+(M/2**32|0)|0,F={fromBig:n,split:s,toBig:r.toBig,shrSH:u,shrSL:d,rotrSH:y,rotrSL:T,rotrBH:A,rotrBL:O,rotr32H:$,rotr32L:G,rotlSH:Y,rotlSL:he,rotlBH:de,rotlBL:re,add:we,add3L:W,add3H:_,add4L:C,add4H:R,add5H:N,add5L:q};r.default=F})(es);var Xr={},Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.crypto=void 0;Xn.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};(function(r){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.isLE=r.rotr=r.createView=r.u32=r.u8=void 0;const e=Xn,t=_=>new Uint8Array(_.buffer,_.byteOffset,_.byteLength);r.u8=t;const n=_=>new Uint32Array(_.buffer,_.byteOffset,Math.floor(_.byteLength/4));r.u32=n;const s=_=>new DataView(_.buffer,_.byteOffset,_.byteLength);r.createView=s;const o=(_,C)=>_<<32-C|_>>>C;if(r.rotr=o,r.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!r.isLE)throw new Error("Non little-endian hardware is not supported");const u=Array.from({length:256},(_,C)=>C.toString(16).padStart(2,"0"));function d(_){if(!(_ instanceof Uint8Array))throw new Error("Uint8Array expected");let C="";for(let R=0;R<_.length;R++)C+=u[_[R]];return C}r.bytesToHex=d;function y(_){if(typeof _!="string")throw new TypeError("hexToBytes: expected string, got "+typeof _);if(_.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const C=new Uint8Array(_.length/2);for(let R=0;R<C.length;R++){const q=R*2,N=_.slice(q,q+2),F=Number.parseInt(N,16);if(Number.isNaN(F)||F<0)throw new Error("Invalid byte sequence");C[R]=F}return C}r.hexToBytes=y;const T=async()=>{};r.nextTick=T;async function A(_,C,R){let q=Date.now();for(let N=0;N<_;N++){R(N);const F=Date.now()-q;F>=0&&F<C||(await(0,r.nextTick)(),q+=F)}}r.asyncLoop=A;function O(_){if(typeof _!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof _}`);return new TextEncoder().encode(_)}r.utf8ToBytes=O;function $(_){if(typeof _=="string"&&(_=O(_)),!(_ instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof _})`);return _}r.toBytes=$;function G(..._){if(!_.every(q=>q instanceof Uint8Array))throw new Error("Uint8Array list expected");if(_.length===1)return _[0];const C=_.reduce((q,N)=>q+N.length,0),R=new Uint8Array(C);for(let q=0,N=0;q<_.length;q++){const F=_[q];R.set(F,N),N+=F.length}return R}r.concatBytes=G;class Y{clone(){return this._cloneInto()}}r.Hash=Y;const he=_=>Object.prototype.toString.call(_)==="[object Object]"&&_.constructor===Object;function de(_,C){if(C!==void 0&&(typeof C!="object"||!he(C)))throw new TypeError("Options should be object or undefined");return Object.assign(_,C)}r.checkOpts=de;function re(_){const C=q=>_().update($(q)).digest(),R=_();return C.outputLen=R.outputLen,C.blockLen=R.blockLen,C.create=()=>_(),C}r.wrapConstructor=re;function we(_){const C=(q,N)=>_(N).update($(q)).digest(),R=_({});return C.outputLen=R.outputLen,C.blockLen=R.blockLen,C.create=q=>_(q),C}r.wrapConstructorWithOpts=we;function W(_=32){if(e.crypto.web)return e.crypto.web.getRandomValues(new Uint8Array(_));if(e.crypto.node)return new Uint8Array(e.crypto.node.randomBytes(_).buffer);throw new Error("The environment doesn't have randomBytes function")}r.randomBytes=W})(Xr);Object.defineProperty(Qe,"__esModule",{value:!0});Qe.shake256=Qe.shake128=Qe.keccak_512=Qe.keccak_384=Qe.keccak_256=Qe.keccak_224=Qe.sha3_512=Qe.sha3_384=Qe.sha3_256=Qe.sha3_224=Qe.Keccak=Qe.keccakP=void 0;const Cr=Ot,wn=es,pn=Xr,[ts,rs,ns]=[[],[],[]],pa=BigInt(0),on=BigInt(1),ga=BigInt(2),va=BigInt(7),ba=BigInt(256),ya=BigInt(113);for(let r=0,e=on,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],ts.push(2*(5*n+t)),rs.push((r+1)*(r+2)/2%64);let s=pa;for(let o=0;o<7;o++)e=(e<<on^(e>>va)*ya)%ba,e&ga&&(s^=on<<(on<<BigInt(o))-on);ns.push(s)}const[xa,wa]=wn.default.split(ns,!0),to=(r,e,t)=>t>32?wn.default.rotlBH(r,e,t):wn.default.rotlSH(r,e,t),ro=(r,e,t)=>t>32?wn.default.rotlBL(r,e,t):wn.default.rotlSL(r,e,t);function is(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let u=0;u<10;u++)t[u]=r[u]^r[u+10]^r[u+20]^r[u+30]^r[u+40];for(let u=0;u<10;u+=2){const d=(u+8)%10,y=(u+2)%10,T=t[y],A=t[y+1],O=to(T,A,1)^t[d],$=ro(T,A,1)^t[d+1];for(let G=0;G<50;G+=10)r[u+G]^=O,r[u+G+1]^=$}let s=r[2],o=r[3];for(let u=0;u<24;u++){const d=rs[u],y=to(s,o,d),T=ro(s,o,d),A=ts[u];s=r[A],o=r[A+1],r[A]=y,r[A+1]=T}for(let u=0;u<50;u+=10){for(let d=0;d<10;d++)t[d]=r[u+d];for(let d=0;d<10;d++)r[u+d]^=~t[(d+2)%10]&t[(d+4)%10]}r[0]^=xa[n],r[1]^=wa[n]}t.fill(0)}Qe.keccakP=is;let zi=class os extends pn.Hash{constructor(e,t,n,s=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Cr.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,pn.u32)(this.state)}keccak(){is(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Cr.default.exists(this);const{blockLen:t,state:n}=this;e=(0,pn.toBytes)(e);const s=e.length;for(let o=0;o<s;){const u=Math.min(t-this.pos,s-o);for(let d=0;d<u;d++)n[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,t&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Cr.default.exists(this,!1),Cr.default.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let s=0,o=e.length;s<o;){this.posOut>=n&&this.keccak();const u=Math.min(n-this.posOut,o-s);e.set(t.subarray(this.posOut,this.posOut+u),s),this.posOut+=u,s+=u}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Cr.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Cr.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:s,rounds:o,enableXOF:u}=this;return e||(e=new os(t,n,s,u,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=s,e.enableXOF=u,e.destroyed=this.destroyed,e}};Qe.Keccak=zi;const xr=(r,e,t)=>(0,pn.wrapConstructor)(()=>new zi(e,r,t));Qe.sha3_224=xr(6,144,224/8);Qe.sha3_256=xr(6,136,256/8);Qe.sha3_384=xr(6,104,384/8);Qe.sha3_512=xr(6,72,512/8);Qe.keccak_224=xr(1,144,224/8);Qe.keccak_256=xr(1,136,256/8);Qe.keccak_384=xr(1,104,384/8);Qe.keccak_512=xr(1,72,512/8);const ss=(r,e,t)=>(0,pn.wrapConstructorWithOpts)((n={})=>new zi(e,r,n.dkLen===void 0?t:n.dkLen,!0));Qe.shake128=ss(31,168,128/8);Qe.shake256=ss(31,136,256/8);var En={},Ea={get exports(){return En},set exports(r){En=r}};(function(r,e){var t=tt&&tt.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=e.wrapHash=e.equalsBytes=e.hexToBytes=e.bytesToUtf8=e.utf8ToBytes=e.createView=e.concatBytes=e.toHex=e.bytesToHex=e.assertBytes=e.assertBool=void 0;const n=t(Ot),s=Xr,o=n.default.bool;e.assertBool=o;const u=n.default.bytes;e.assertBytes=u;var d=Xr;Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return d.bytesToHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return d.bytesToHex}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return d.concatBytes}}),Object.defineProperty(e,"createView",{enumerable:!0,get:function(){return d.createView}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return d.utf8ToBytes}});function y($){if(!($ instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof $}`);return new TextDecoder().decode($)}e.bytesToUtf8=y;function T($){const G=$.startsWith("0x")?$.substring(2):$;return(0,s.hexToBytes)(G)}e.hexToBytes=T;function A($,G){if($.length!==G.length)return!1;for(let Y=0;Y<$.length;Y++)if($[Y]!==G[Y])return!1;return!0}e.equalsBytes=A;function O($){return G=>(n.default.bytes(G),$(G))}e.wrapHash=O,e.crypto=(()=>{const $=typeof self=="object"&&"crypto"in self?self.crypto:void 0,G=typeof xn=="function"&&xn.bind(r);return{node:G&&!$?G("crypto"):void 0,web:$}})()})(Ea,En);Object.defineProperty(jt,"__esModule",{value:!0});jt.keccak512=jt.keccak384=jt.keccak256=jt.keccak224=void 0;const Pn=Qe,Jn=En;jt.keccak224=(0,Jn.wrapHash)(Pn.keccak_224);jt.keccak256=(()=>{const r=(0,Jn.wrapHash)(Pn.keccak_256);return r.create=Pn.keccak_256.create,r})();jt.keccak384=(0,Jn.wrapHash)(Pn.keccak_384);jt.keccak512=(0,Jn.wrapHash)(Pn.keccak_512);var $r={},gn={},Qn={},as={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(r){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?r:{})})(function(e){e.version="1.2.2";function t(){for(var N=0,F=new Array(256),M=0;M!=256;++M)N=M,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,F[M]=N;return typeof Int32Array<"u"?new Int32Array(F):F}var n=t();function s(N){var F=0,M=0,m=0,i=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(m=0;m!=256;++m)i[m]=N[m];for(m=0;m!=256;++m)for(M=N[m],F=256+m;F<4096;F+=256)M=i[F]=M>>>8^N[M&255];var c=[];for(m=1;m!=16;++m)c[m-1]=typeof Int32Array<"u"?i.subarray(m*256,m*256+256):i.slice(m*256,m*256+256);return c}var o=s(n),u=o[0],d=o[1],y=o[2],T=o[3],A=o[4],O=o[5],$=o[6],G=o[7],Y=o[8],he=o[9],de=o[10],re=o[11],we=o[12],W=o[13],_=o[14];function C(N,F){for(var M=F^-1,m=0,i=N.length;m<i;)M=M>>>8^n[(M^N.charCodeAt(m++))&255];return~M}function R(N,F){for(var M=F^-1,m=N.length-15,i=0;i<m;)M=_[N[i++]^M&255]^W[N[i++]^M>>8&255]^we[N[i++]^M>>16&255]^re[N[i++]^M>>>24]^de[N[i++]]^he[N[i++]]^Y[N[i++]]^G[N[i++]]^$[N[i++]]^O[N[i++]]^A[N[i++]]^T[N[i++]]^y[N[i++]]^d[N[i++]]^u[N[i++]]^n[N[i++]];for(m+=15;i<m;)M=M>>>8^n[(M^N[i++])&255];return~M}function q(N,F){for(var M=F^-1,m=0,i=N.length,c=0,l=0;m<i;)c=N.charCodeAt(m++),c<128?M=M>>>8^n[(M^c)&255]:c<2048?(M=M>>>8^n[(M^(192|c>>6&31))&255],M=M>>>8^n[(M^(128|c&63))&255]):c>=55296&&c<57344?(c=(c&1023)+64,l=N.charCodeAt(m++)&1023,M=M>>>8^n[(M^(240|c>>8&7))&255],M=M>>>8^n[(M^(128|c>>2&63))&255],M=M>>>8^n[(M^(128|l>>6&15|(c&3)<<4))&255],M=M>>>8^n[(M^(128|l&63))&255]):(M=M>>>8^n[(M^(224|c>>12&15))&255],M=M>>>8^n[(M^(128|c>>6&63))&255],M=M>>>8^n[(M^(128|c&63))&255]);return~M}e.table=n,e.bstr=C,e.buf=R,e.str=q})})(as);const Pa="goerli",_a=5,Ta=5,Aa="merge",Ma={type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},ka="Cross-client PoA test network",Ia="https://github.com/goerli/testnet",$a={timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},Sa=[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],Ba=[{ip:"51.141.78.53",port:30303,id:"011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a",location:"",comment:"Upstream bootnode 1"},{ip:"13.93.54.137",port:30303,id:"176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b",location:"",comment:"Upstream bootnode 2"},{ip:"94.237.54.114",port:30313,id:"46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291",location:"",comment:"Upstream bootnode 3"},{ip:"18.218.250.66",port:30313,id:"b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949",location:"",comment:"Upstream bootnode 4"},{ip:"3.11.147.67",port:30303,id:"a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91",location:"",comment:"Ethereum Foundation bootnode"},{ip:"51.15.116.226",port:30303,id:"a869b02cec167211fb4815a82941db2e7ed2936fd90e78619c53eb17753fcf0207463e3419c264e2a1dd8786de0df7e68cf99571ab8aeb7c4e51367ef186b1dd",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:30303,id:"807b37ee4816ecf407e9112224494b74dd5933625f655962d892f2f0f02d7fbbb3e2a94cf87a96609526f30c998fd71e93e2f53015c558ffc8b03eceaf30ee33",location:"",comment:"Goerli Initiative bootnode"},{ip:"51.15.119.157",port:40303,id:"a59e33ccd2b3e52d578f1fbd70c6f9babda2650f0760d6ff3b37742fdcdfdb3defba5d56d315b40c46b70198c7621e63ffa3f987389c7118634b0fefbbdfa7fd",location:"",comment:"Goerli Initiative bootnode"}],Oa=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"],Fa={name:Pa,chainId:_a,networkId:Ta,defaultHardfork:Aa,consensus:Ma,comment:ka,url:Ia,genesis:$a,hardforks:Sa,bootstrapNodes:Ba,dnsNetworks:Oa},Ca="mainnet",La=1,Ha=1,Na="merge",Da={type:"pow",algorithm:"ethash",ethash:{}},Ga="The Ethereum main chain",Ra="https://ethstats.net/",za={gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},Ua=[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],ja=[{ip:"18.138.108.67",port:30303,id:"d860a01f9722d78051619d1e2351aba3f43f943f6f00718d1b9baa4101932a1f5011f16bb2b1bb35db20d6fe28fa0bf09636d26a87d31de9ec6203eeedb1f666",location:"ap-southeast-1-001",comment:"bootnode-aws-ap-southeast-1-001"},{ip:"3.209.45.79",port:30303,id:"22a8232c3abc76a16ae9d6c3b164f98775fe226f0917b0ca871128a74a8e9630b458460865bab457221f1d448dd9791d24c4e5d88786180ac185df813a68d4de",location:"us-east-1-001",comment:"bootnode-aws-us-east-1-001"},{ip:"34.255.23.113",port:30303,id:"ca6de62fce278f96aea6ec5a2daadb877e51651247cb96ee310a318def462913b653963c155a0ef6c7d50048bba6e6cea881130857413d9f50a621546b590758",location:"eu-west-1-001",comment:"bootnode-aws-eu-west-1-001"},{ip:"35.158.244.151",port:30303,id:"279944d8dcd428dffaa7436f25ca0ca43ae19e7bcf94a8fb7d1641651f92d121e972ac2e8f381414b80cc8e5555811c2ec6e1a99bb009b3f53c4c69923e11bd8",location:"eu-central-1-001",comment:"bootnode-aws-eu-central-1-001"},{ip:"52.187.207.27",port:30303,id:"8499da03c47d637b20eee24eec3c356c9a2e6148d6fe25ca195c7949ab8ec2c03e3556126b0d7ed644675e78c4318b08691b7b57de10e5f0d40d05b09238fa0a",location:"australiaeast-001",comment:"bootnode-azure-australiaeast-001"},{ip:"191.234.162.198",port:30303,id:"103858bdb88756c71f15e9b5e09b56dc1be52f0a5021d46301dbbfb7e130029cc9d0d6f73f693bc29b665770fff7da4d34f3c6379fe12721b5d7a0bcb5ca1fc1",location:"brazilsouth-001",comment:"bootnode-azure-brazilsouth-001"},{ip:"52.231.165.108",port:30303,id:"715171f50508aba88aecd1250af392a45a330af91d7b90701c436b618c86aaa1589c9184561907bebbb56439b8f8787bc01f49a7c77276c58c1b09822d75e8e8",location:"koreasouth-001",comment:"bootnode-azure-koreasouth-001"},{ip:"104.42.217.25",port:30303,id:"5d6d7cd20d6da4bb83a1d28cadb5d409b64edf314c0335df658c1a54e32c7c4a7ab7823d57c39b6a757556e68ff1df17c748b698544a55cb488b52479a92b60f",location:"westus-001",comment:"bootnode-azure-westus-001"}],qa=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"],Va={name:Ca,chainId:La,networkId:Ha,defaultHardfork:Na,consensus:Da,comment:Ga,url:Ra,genesis:za,hardforks:Ua,bootstrapNodes:ja,dnsNetworks:qa},Ka="rinkeby",Za=4,Wa=4,Ya="london",Xa={type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},Ja="PoA test network",Qa="https://www.rinkeby.io",ef={timestamp:"0x58ee40ba",gasLimit:47e5,difficulty:1,nonce:"0x0000000000000000",extraData:"0x52657370656374206d7920617574686f7269746168207e452e436172746d616e42eb768f2244c8811c63729a21a3569731535f067ffc57839b00206d1ad20c69a1981b489f772031b279182d99e65703f0076e4812653aab85fca0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},tf=[{name:"chainstart",block:0,forkHash:"0x3b8e0691"},{name:"homestead",block:1,forkHash:"0x60949295"},{name:"tangerineWhistle",block:2,forkHash:"0x8bde40dd"},{name:"spuriousDragon",block:3,forkHash:"0xcb3a64bb"},{name:"byzantium",block:1035301,forkHash:"0x8d748b57"},{name:"constantinople",block:3660663,forkHash:"0xe49cab14"},{name:"petersburg",block:4321234,forkHash:"0xafec6b27"},{name:"istanbul",block:5435345,forkHash:"0xcbdb8838"},{name:"berlin",block:8290928,forkHash:"0x6910c8bd"},{name:"london",block:8897988,forkHash:"0x8e29f2f3"},{name:"merge",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],rf=[{ip:"52.169.42.101",port:30303,id:"a24ac7c5484ef4ed0c5eb2d36620ba4e4aa13b8c84684e1b4aab0cebea2ae45cb4d375b77eab56516d34bfbd3c1a833fc51296ff084b770b94fb9028c4d25ccf",location:"",comment:"IE"},{ip:"52.3.158.184",port:30303,id:"343149e4feefa15d882d9fe4ac7d88f885bd05ebb735e547f12e12080a9fa07c8014ca6fd7f373123488102fe5e34111f8509cf0b7de3f5b44339c9f25e87cb8",location:"",comment:"INFURA"},{ip:"159.89.28.211",port:30303,id:"b6b28890b006743680c52e64e0d16db57f28124885595fa03a562be1d2bf0f3a1da297d56b13da25fb992888fd556d4c1a27b1f39d531bde7de1921c90061cc6",location:"",comment:"AKASHA"}],nf=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.rinkeby.ethdisco.net"],of={name:Ka,chainId:Za,networkId:Wa,defaultHardfork:Ya,consensus:Xa,comment:Ja,url:Qa,genesis:ef,hardforks:tf,bootstrapNodes:rf,dnsNetworks:nf},sf="ropsten",af=3,ff=3,cf="merge",uf={type:"pow",algorithm:"ethash",ethash:{}},hf="PoW test network",df="https://github.com/ethereum/ropsten",lf={gasLimit:16777216,difficulty:1048576,nonce:"0x0000000000000042",extraData:"0x3535353535353535353535353535353535353535353535353535353535353535"},mf=[{name:"chainstart",block:0,forkHash:"0x30c7ddbc"},{name:"homestead",block:0,forkHash:"0x30c7ddbc"},{name:"tangerineWhistle",block:0,forkHash:"0x30c7ddbc"},{name:"spuriousDragon",block:10,forkHash:"0x63760190"},{name:"byzantium",block:17e5,forkHash:"0x3ea159c7"},{name:"constantinople",block:423e4,forkHash:"0x97b544f3"},{name:"petersburg",block:4939394,forkHash:"0xd6e2149b"},{name:"istanbul",block:6485846,forkHash:"0x4bc66396"},{name:"muirGlacier",block:7117117,forkHash:"0x6727ef90"},{name:"berlin",block:9812189,forkHash:"0xa157d377"},{name:"london",block:10499401,forkHash:"0x7119b6b3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge",name:"merge",ttd:"50000000000000000",block:null,forkHash:"0x7119b6b3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],pf=[{ip:"52.176.7.10",port:30303,id:"30b7ab30a01c124a6cceca36863ece12c4f5fa68e3ba9b0b51407ccc002eeed3b3102d20a88f1c1d3c3154e2449317b8ef95090e77b312d5cc39354f86d5d606",location:"",comment:"US-Azure geth"},{ip:"52.176.100.77",port:30303,id:"865a63255b3bb68023b6bffd5095118fcc13e79dcf014fe4e47e065c350c7cc72af2e53eff895f11ba1bbb6a2b33271c1116ee870f266618eadfc2e78aa7349c",location:"",comment:"US-Azure parity"},{ip:"52.232.243.152",port:30303,id:"6332792c4a00e3e4ee0926ed89e0d27ef985424d97b6a45bf0f23e51f0dcb5e66b875777506458aea7af6f9e4ffb69f43f3778ee73c81ed9d34c51c4b16b0b0f",location:"",comment:"Parity"},{ip:"192.81.208.223",port:30303,id:"94c15d1b9e2fe7ce56e458b9a3b672ef11894ddedd0c6f247e0f1d3487f52b66208fb4aeb8179fce6e3a749ea93ed147c37976d67af557508d199d9594c35f09",location:"",comment:"@gpip"}],gf=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.ropsten.ethdisco.net"],vf={name:sf,chainId:af,networkId:ff,defaultHardfork:cf,consensus:uf,comment:hf,url:df,genesis:lf,hardforks:mf,bootstrapNodes:pf,dnsNetworks:gf},bf="sepolia",yf=11155111,xf=11155111,wf="merge",Ef={type:"pow",algorithm:"ethash",ethash:{}},Pf="PoW test network to replace Ropsten",_f="https://github.com/ethereum/go-ethereum/pull/23730",Tf={timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},Af=[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],Mf=[{ip:"18.168.182.86",port:30303,id:"9246d00bc8fd1742e5ad2428b80fc4dc45d786283e05ef6edbd9002cbc335d40998444732fbe921cb88e1d2c73d1b1de53bae6a2237996e9bfe14f871baf7066",location:"",comment:"geth"},{ip:"52.14.151.177",port:30303,id:"ec66ddcf1a974950bd4c782789a7e04f8aa7110a72569b6e65fcd51e937e74eed303b1ea734e4d19cfaec9fbff9b6ee65bf31dcb50ba79acce9dd63a6aca61c7",location:"",comment:"besu"},{ip:"165.22.196.173",port:30303,id:"ce970ad2e9daa9e14593de84a8b49da3d54ccfdf83cbc4fe519cb8b36b5918ed4eab087dedd4a62479b8d50756b492d5f762367c8d20329a7854ec01547568a6",location:"",comment:"EF"},{ip:"65.108.95.67",port:30303,id:"075503b13ed736244896efcde2a992ec0b451357d46cb7a8132c0384721742597fc8f0d91bbb40bb52e7d6e66728d36a1fda09176294e4a30cfac55dcce26bc6",location:"",comment:"lodestar"}],kf=["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"],If={name:bf,chainId:yf,networkId:xf,defaultHardfork:wf,consensus:Ef,comment:Pf,url:_f,genesis:Tf,hardforks:Af,bootstrapNodes:Mf,dnsNetworks:kf};var ei={};const $f="EIP-1153",Sf=1153,Bf="Transient Storage",Of="https://eips.ethereum.org/EIPS/eip-1153",Ff="Review",Cf="chainstart",Lf=[],Hf={},Nf={tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},Df={},Gf={},Rf={name:$f,number:Sf,comment:Bf,url:Of,status:Ff,minimumHardfork:Cf,requiredEIPs:Lf,gasConfig:Hf,gasPrices:Nf,vm:Df,pow:Gf},zf="EIP-1559",Uf=1559,jf="Fee market change for ETH 1.0 chain",qf="https://eips.ethereum.org/EIPS/eip-1559",Vf="Final",Kf="berlin",Zf=[2930],Wf={baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},Yf={},Xf={},Jf={},Qf={name:zf,number:Uf,comment:jf,url:qf,status:Vf,minimumHardfork:Kf,requiredEIPs:Zf,gasConfig:Wf,gasPrices:Yf,vm:Xf,pow:Jf},ec="EIP-2315",tc=2315,rc="Simple subroutines for the EVM",nc="https://eips.ethereum.org/EIPS/eip-2315",ic="Draft",oc="istanbul",sc={},ac={beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},fc={},cc={},uc={name:ec,number:tc,comment:rc,url:nc,status:ic,minimumHardfork:oc,gasConfig:sc,gasPrices:ac,vm:fc,pow:cc},hc="EIP-2537",dc=2537,lc="BLS12-381 precompiles",mc="https://eips.ethereum.org/EIPS/eip-2537",pc="Draft",gc="chainstart",vc={},bc={Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},yc={},xc={},wc={name:hc,number:dc,comment:lc,url:mc,status:pc,minimumHardfork:gc,gasConfig:vc,gasPrices:bc,vm:yc,pow:xc},Ec="EIP-2565",Pc=2565,_c="ModExp gas cost",Tc="https://eips.ethereum.org/EIPS/eip-2565",Ac="Final",Mc="byzantium",kc={},Ic={modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},$c={},Sc={},Bc={name:Ec,number:Pc,comment:_c,url:Tc,status:Ac,minimumHardfork:Mc,gasConfig:kc,gasPrices:Ic,vm:$c,pow:Sc},Oc="EIP-2718",Fc="Typed Transaction Envelope",Cc="https://eips.ethereum.org/EIPS/eip-2718",Lc="Final",Hc="chainstart",Nc={},Dc={},Gc={},Rc={},zc={name:Oc,comment:Fc,url:Cc,status:Lc,minimumHardfork:Hc,gasConfig:Nc,gasPrices:Dc,vm:Gc,pow:Rc},Uc="EIP-2929",jc="Gas cost increases for state access opcodes",qc="https://eips.ethereum.org/EIPS/eip-2929",Vc="Final",Kc="chainstart",Zc={},Wc={coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},Yc={},Xc={},Jc={name:Uc,comment:jc,url:qc,status:Vc,minimumHardfork:Kc,gasConfig:Zc,gasPrices:Wc,vm:Yc,pow:Xc},Qc="EIP-2930",e0="Optional access lists",t0="https://eips.ethereum.org/EIPS/eip-2930",r0="Final",n0="istanbul",i0=[2718,2929],o0={},s0={accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},a0={},f0={},c0={name:Qc,comment:e0,url:t0,status:r0,minimumHardfork:n0,requiredEIPs:i0,gasConfig:o0,gasPrices:s0,vm:a0,pow:f0},u0="EIP-3074",h0=3074,d0="AUTH and AUTHCALL opcodes",l0="https://eips.ethereum.org/EIPS/eip-3074",m0="Review",p0="london",g0={},v0={auth:{v:3100,d:"Gas cost of the AUTH opcode"},authcall:{v:0,d:"Gas cost of the AUTHCALL opcode"},authcallValueTransfer:{v:6700,d:"Paid for CALL when the value transfer is non-zero"}},b0={},y0={},x0={name:u0,number:h0,comment:d0,url:l0,status:m0,minimumHardfork:p0,gasConfig:g0,gasPrices:v0,vm:b0,pow:y0},w0="EIP-3198",E0=3198,P0="BASEFEE opcode",_0="https://eips.ethereum.org/EIPS/eip-3198",T0="Final",A0="london",M0={},k0={basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},I0={},$0={},S0={name:w0,number:E0,comment:P0,url:_0,status:T0,minimumHardfork:A0,gasConfig:M0,gasPrices:k0,vm:I0,pow:$0},B0="EIP-3529",O0="Reduction in refunds",F0="https://eips.ethereum.org/EIPS/eip-3529",C0="Final",L0="berlin",H0=[2929],N0={maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},D0={selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},G0={},R0={},z0={name:B0,comment:O0,url:F0,status:C0,minimumHardfork:L0,requiredEIPs:H0,gasConfig:N0,gasPrices:D0,vm:G0,pow:R0},U0="EIP-3540",j0=3540,q0="EVM Object Format (EOF) v1",V0="https://eips.ethereum.org/EIPS/eip-3540",K0="Review",Z0="london",W0=[3541],Y0={},X0={},J0={},Q0={},eu={name:U0,number:j0,comment:q0,url:V0,status:K0,minimumHardfork:Z0,requiredEIPs:W0,gasConfig:Y0,gasPrices:X0,vm:J0,pow:Q0},tu="EIP-3541",ru="Reject new contracts starting with the 0xEF byte",nu="https://eips.ethereum.org/EIPS/eip-3541",iu="Final",ou="berlin",su=[],au={},fu={},cu={},uu={},hu={name:tu,comment:ru,url:nu,status:iu,minimumHardfork:ou,requiredEIPs:su,gasConfig:au,gasPrices:fu,vm:cu,pow:uu},du="EIP-3554",lu="Reduction in refunds",mu="Difficulty Bomb Delay to December 1st 2021",pu="Final",gu="muirGlacier",vu=[],bu={},yu={},xu={},wu={difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}},Eu={name:du,comment:lu,url:mu,status:pu,minimumHardfork:gu,requiredEIPs:vu,gasConfig:bu,gasPrices:yu,vm:xu,pow:wu},Pu="EIP-3607",_u=3607,Tu="Reject transactions from senders with deployed code",Au="https://eips.ethereum.org/EIPS/eip-3607",Mu="Final",ku="chainstart",Iu=[],$u={},Su={},Bu={},Ou={},Fu={name:Pu,number:_u,comment:Tu,url:Au,status:Mu,minimumHardfork:ku,requiredEIPs:Iu,gasConfig:$u,gasPrices:Su,vm:Bu,pow:Ou},Cu="EIP-3651",Lu=3198,Hu="Warm COINBASE",Nu="https://eips.ethereum.org/EIPS/eip-3651",Du="Review",Gu="london",Ru=[2929],zu={},Uu={},ju={},qu={},Vu={name:Cu,number:Lu,comment:Hu,url:Nu,status:Du,minimumHardfork:Gu,requiredEIPs:Ru,gasConfig:zu,gasPrices:Uu,vm:ju,pow:qu},Ku="EIP-3670",Zu=3670,Wu="EOF - Code Validation",Yu="https://eips.ethereum.org/EIPS/eip-3670",Xu="Review",Ju="london",Qu=[3540],eh={},th={},rh={},nh={},ih={name:Ku,number:Zu,comment:Wu,url:Yu,status:Xu,minimumHardfork:Ju,requiredEIPs:Qu,gasConfig:eh,gasPrices:th,vm:rh,pow:nh},oh="EIP-3675",sh=3675,ah="Upgrade consensus to Proof-of-Stake",fh="https://eips.ethereum.org/EIPS/eip-3675",ch="Final",uh="london",hh=[],dh={},lh={},mh={},ph={},gh={name:oh,number:sh,comment:ah,url:fh,status:ch,minimumHardfork:uh,requiredEIPs:hh,gasConfig:dh,gasPrices:lh,vm:mh,pow:ph},vh="EIP-3855",bh=3855,yh="PUSH0 instruction",xh="https://eips.ethereum.org/EIPS/eip-3855",wh="Review",Eh="chainstart",Ph=[],_h={},Th={push0:{v:2,d:"Base fee of the PUSH0 opcode"}},Ah={},Mh={},kh={name:vh,number:bh,comment:yh,url:xh,status:wh,minimumHardfork:Eh,requiredEIPs:Ph,gasConfig:_h,gasPrices:Th,vm:Ah,pow:Mh},Ih="EIP-3860",$h=3860,Sh="Limit and meter initcode",Bh="https://eips.ethereum.org/EIPS/eip-3860",Oh="Review",Fh="spuriousDragon",Ch=[],Lh={},Hh={initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},Nh={maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},Dh={},Gh={name:Ih,number:$h,comment:Sh,url:Bh,status:Oh,minimumHardfork:Fh,requiredEIPs:Ch,gasConfig:Lh,gasPrices:Hh,vm:Nh,pow:Dh},Rh="EIP-4345",zh=4345,Uh="Difficulty Bomb Delay to June 2022",jh="https://eips.ethereum.org/EIPS/eip-4345",qh="Final",Vh="london",Kh={},Zh={},Wh={},Yh={difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}},Xh={name:Rh,number:zh,comment:Uh,url:jh,status:qh,minimumHardfork:Vh,gasConfig:Kh,gasPrices:Zh,vm:Wh,pow:Yh},Jh="EIP-4399",Qh=4399,ed="Supplant DIFFICULTY opcode with PREVRANDAO",td="https://eips.ethereum.org/EIPS/eip-4399",rd="Review",nd="london",id=[],od={},sd={},ad={},fd={},cd={name:Jh,number:Qh,comment:ed,url:td,status:rd,minimumHardfork:nd,requiredEIPs:id,gasConfig:od,gasPrices:sd,vm:ad,pow:fd},ud="EIP-4844",hd=4844,dd="Shard Blob Transactions",ld="https://eips.ethereum.org/EIPS/eip-4844",md="Draft",pd="merge",gd=[1559,2718,2930,4895],vd={dataGasPerBlob:{v:131072,d:"The base fee for data gas per blob"},targetDataGasPerBlock:{v:262144,d:"The target data gas consumed per block"},maxDataGasPerBlock:{v:524288,d:"The max data gas allowable per block"},dataGasPriceUpdateFraction:{v:2225652,d:"The denominator used in the exponential when calculating a data gas price"}},bd={simpleGasPerBlob:{v:12e3,d:"The basic gas fee for each blob"},minDataGasPrice:{v:1,d:"The minimum fee per data gas"},kzgPointEvaluationGasPrecompilePrice:{v:5e4,d:"The fee associated with the point evaluation precompile"},datahash:{v:3,d:"Base fee of the DATAHASH opcode"}},yd={blobCommitmentVersionKzg:{v:1,d:"The number indicated a versioned hash is a KZG commitment"},fieldElementsPerBlob:{v:4096,d:"The number of field elements allowed per blob"}},xd={},wd={},Ed={name:ud,number:hd,comment:dd,url:ld,status:md,minimumHardfork:pd,requiredEIPs:gd,gasConfig:vd,gasPrices:bd,sharding:yd,vm:xd,pow:wd},Pd="EIP-4895",_d=4895,Td="Beacon chain push withdrawals as operations",Ad="https://eips.ethereum.org/EIPS/eip-4895",Md="Review",kd="merge",Id=[],$d={},Sd={},Bd={},Od={},Fd={name:Pd,number:_d,comment:Td,url:Ad,status:Md,minimumHardfork:kd,requiredEIPs:Id,gasConfig:$d,gasPrices:Sd,vm:Bd,pow:Od},Cd="EIP-5133",Ld=5133,Hd="Delaying Difficulty Bomb to mid-September 2022",Nd="https://eips.ethereum.org/EIPS/eip-5133",Dd="Draft",Gd="grayGlacier",Rd={},zd={},Ud={},jd={difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}},qd={name:Cd,number:Ld,comment:Hd,url:Nd,status:Dd,minimumHardfork:Gd,gasConfig:Rd,gasPrices:zd,vm:Ud,pow:jd};Object.defineProperty(ei,"__esModule",{value:!0});ei.EIPs=void 0;ei.EIPs={1153:Rf,1559:Qf,2315:uc,2537:wc,2565:Bc,2718:zc,2929:Jc,2930:c0,3074:x0,3198:S0,3529:z0,3540:eu,3541:hu,3554:Eu,3607:Fu,3651:Vu,3670:ih,3675:gh,3855:kh,3860:Gh,4345:Xh,4399:cd,4844:Ed,4895:Fd,5133:qd};var ti={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.CustomChain=r.ConsensusAlgorithm=r.ConsensusType=r.Hardfork=r.Chain=void 0,function(e){e[e.Mainnet=1]="Mainnet",e[e.Ropsten=3]="Ropsten",e[e.Rinkeby=4]="Rinkeby",e[e.Goerli=5]="Goerli",e[e.Sepolia=11155111]="Sepolia"}(r.Chain||(r.Chain={})),function(e){e.Chainstart="chainstart",e.Homestead="homestead",e.Dao="dao",e.TangerineWhistle="tangerineWhistle",e.SpuriousDragon="spuriousDragon",e.Byzantium="byzantium",e.Constantinople="constantinople",e.Petersburg="petersburg",e.Istanbul="istanbul",e.MuirGlacier="muirGlacier",e.Berlin="berlin",e.London="london",e.ArrowGlacier="arrowGlacier",e.GrayGlacier="grayGlacier",e.MergeForkIdTransition="mergeForkIdTransition",e.Merge="merge",e.Shanghai="shanghai",e.ShardingForkDev="shardingFork"}(r.Hardfork||(r.Hardfork={})),function(e){e.ProofOfStake="pos",e.ProofOfWork="pow",e.ProofOfAuthority="poa"}(r.ConsensusType||(r.ConsensusType={})),function(e){e.Ethash="ethash",e.Clique="clique",e.Casper="casper"}(r.ConsensusAlgorithm||(r.ConsensusAlgorithm={})),function(e){e.PolygonMainnet="polygon-mainnet",e.PolygonMumbai="polygon-mumbai",e.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",e.ArbitrumOne="arbitrum-one",e.xDaiChain="x-dai-chain",e.OptimisticKovan="optimistic-kovan",e.OptimisticEthereum="optimistic-ethereum"}(r.CustomChain||(r.CustomChain={}))})(ti);var ri={};const Vd="chainstart",Kd="Start of the Ethereum main chain",Zd="",Wd="",Yd={minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},Xd={base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},Jd={stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},Qd={minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}},el={name:Vd,comment:Kd,url:Zd,status:Wd,gasConfig:Yd,gasPrices:Xd,vm:Jd,pow:Qd},tl="homestead",rl="Homestead hardfork with protocol and network changes",nl="https://eips.ethereum.org/EIPS/eip-606",il="Final",ol={},sl={delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},al={},fl={},cl={name:tl,comment:rl,url:nl,status:il,gasConfig:ol,gasPrices:sl,vm:al,pow:fl},ul="dao",hl="DAO rescue hardfork",dl="https://eips.ethereum.org/EIPS/eip-779",ll="Final",ml={},pl={},gl={},vl={},bl={name:ul,comment:hl,url:dl,status:ll,gasConfig:ml,gasPrices:pl,vm:gl,pow:vl},yl="tangerineWhistle",xl="Hardfork with gas cost changes for IO-heavy operations",wl="https://eips.ethereum.org/EIPS/eip-608",El="Final",Pl={},_l={sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},Tl={},Al={},Ml={name:yl,comment:xl,url:wl,status:El,gasConfig:Pl,gasPrices:_l,vm:Tl,pow:Al},kl="spuriousDragon",Il="HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",$l="https://eips.ethereum.org/EIPS/eip-607",Sl="Final",Bl={},Ol={expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},Fl={maxCodeSize:{v:24576,d:"Maximum length of contract code"}},Cl={},Ll={name:kl,comment:Il,url:$l,status:Sl,gasConfig:Bl,gasPrices:Ol,vm:Fl,pow:Cl},Hl="byzantium",Nl="Hardfork with new precompiles, instructions and other protocol changes",Dl="https://eips.ethereum.org/EIPS/eip-609",Gl="Final",Rl={},zl={modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},Ul={},jl={minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}},ql={name:Hl,comment:Nl,url:Dl,status:Gl,gasConfig:Rl,gasPrices:zl,vm:Ul,pow:jl},Vl="constantinople",Kl="Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",Zl="https://eips.ethereum.org/EIPS/eip-1013",Wl="Final",Yl={},Xl={netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},Jl={},Ql={minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}},em={name:Vl,comment:Kl,url:Zl,status:Wl,gasConfig:Yl,gasPrices:Xl,vm:Jl,pow:Ql},tm="petersburg",rm="Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",nm="https://eips.ethereum.org/EIPS/eip-1716",im="Final",om={},sm={netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},am={},fm={},cm={name:tm,comment:rm,url:nm,status:im,gasConfig:om,gasPrices:sm,vm:am,pow:fm},um="istanbul",hm="HF targeted for December 2019 following the Constantinople/Petersburg HF",dm="https://eips.ethereum.org/EIPS/eip-1679",lm="Final",mm={},pm={blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},gm={},vm={},bm={name:um,comment:hm,url:dm,status:lm,gasConfig:mm,gasPrices:pm,vm:gm,pow:vm},ym="muirGlacier",xm="HF to delay the difficulty bomb",wm="https://eips.ethereum.org/EIPS/eip-2384",Em="Final",Pm={},_m={},Tm={},Am={difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}},Mm={name:ym,comment:xm,url:wm,status:Em,gasConfig:Pm,gasPrices:_m,vm:Tm,pow:Am},km="berlin",Im="HF targeted for July 2020 following the Muir Glacier HF",$m="https://eips.ethereum.org/EIPS/eip-2070",Sm="Final",Bm=[2565,2929,2718,2930],Om={name:km,comment:Im,url:$m,status:Sm,eips:Bm},Fm="london",Cm="HF targeted for July 2021 following the Berlin fork",Lm="https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",Hm="Final",Nm=[1559,3198,3529,3541],Dm={name:Fm,comment:Cm,url:Lm,status:Hm,eips:Nm},Gm="shanghai",Rm="Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",zm="https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",Um="Final",jm=[3651,3855,3860,4895],qm={name:Gm,comment:Rm,url:zm,status:Um,eips:jm},Vm="arrowGlacier",Km="HF to delay the difficulty bomb",Zm="https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",Wm="Final",Ym=[4345],Xm={},Jm={},Qm={},ep={},tp={name:Vm,comment:Km,url:Zm,status:Wm,eips:Ym,gasConfig:Xm,gasPrices:Jm,vm:Qm,pow:ep},rp="grayGlacier",np="Delaying the difficulty bomb to Mid September 2022",ip="https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",op="Draft",sp=[5133],ap={},fp={},cp={},up={},hp={name:rp,comment:np,url:ip,status:op,eips:sp,gasConfig:ap,gasPrices:fp,vm:cp,pow:up},dp="mergeForkIdTransition",lp="Pre-merge hardfork to fork off non-upgraded clients",mp="https://eips.ethereum.org/EIPS/eip-3675",pp="Draft",gp=[],vp={name:dp,comment:lp,url:mp,status:pp,eips:gp},bp="merge",yp="Hardfork to upgrade the consensus mechanism to Proof-of-Stake",xp="https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",wp="Final",Ep={type:"pos",algorithm:"casper",casper:{}},Pp=[3675,4399],_p={name:bp,comment:yp,url:xp,status:wp,consensus:Ep,eips:Pp},Tp="shardingFork",Ap="Internal hardfork to test proto-danksharding (do not use in production)",Mp="https://eips.ethereum.org/EIPS/eip-4844",kp="Experimental",Ip=[4844],$p={name:Tp,comment:Ap,url:Mp,status:kp,eips:Ip};Object.defineProperty(ri,"__esModule",{value:!0});ri.hardforks=void 0;ri.hardforks={chainstart:el,homestead:cl,dao:bl,tangerineWhistle:Ml,spuriousDragon:Ll,byzantium:ql,constantinople:em,petersburg:cm,istanbul:bm,muirGlacier:Mm,berlin:Om,london:Dm,shanghai:qm,arrowGlacier:tp,grayGlacier:hp,mergeForkIdTransition:vp,merge:_p,shardingFork:$p};var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.parseGethGenesis=void 0;const qn=Ve,Ht=ti;function Sp(r){return!r||r==="0x0"?"0x0000000000000000":(0,qn.isHexPrefixed)(r)?"0x"+(0,qn.stripHexPrefix)(r).padStart(16,"0"):"0x"+r.padStart(16,"0")}function Bp(r,e=!0){const{name:t,config:n,difficulty:s,mixHash:o,gasLimit:u,coinbase:d,baseFeePerGas:y}=r;let{extraData:T,timestamp:A,nonce:O}=r;const $=Number(A),{chainId:G}=n;if(T===""&&(T="0x"),(0,qn.isHexPrefixed)(A)||(A=(0,qn.intToHex)(parseInt(A))),O.length!==18&&(O=Sp(O)),n.eip155Block!==n.eip158Block)throw new Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");const Y={name:t,chainId:G,networkId:G,genesis:{timestamp:A,gasLimit:parseInt(u),difficulty:parseInt(s),nonce:O,extraData:T,mixHash:o,coinbase:d,baseFeePerGas:y},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:n.clique!==void 0?{type:"poa",algorithm:"clique",clique:{period:n.clique.period??n.clique.blockperiodseconds,epoch:n.clique.epoch??n.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},he={[Ht.Hardfork.Homestead]:{name:"homesteadBlock"},[Ht.Hardfork.Dao]:{name:"daoForkBlock"},[Ht.Hardfork.TangerineWhistle]:{name:"eip150Block"},[Ht.Hardfork.SpuriousDragon]:{name:"eip155Block"},[Ht.Hardfork.Byzantium]:{name:"byzantiumBlock"},[Ht.Hardfork.Constantinople]:{name:"constantinopleBlock"},[Ht.Hardfork.Petersburg]:{name:"petersburgBlock"},[Ht.Hardfork.Istanbul]:{name:"istanbulBlock"},[Ht.Hardfork.MuirGlacier]:{name:"muirGlacierBlock"},[Ht.Hardfork.Berlin]:{name:"berlinBlock"},[Ht.Hardfork.London]:{name:"londonBlock"},[Ht.Hardfork.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:e},[Ht.Hardfork.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[Ht.Hardfork.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},de=Object.keys(he).reduce((W,_)=>(W[he[_].name]=_,W),{}),re=Object.keys(n).filter(W=>de[W]!==void 0&&n[W]!==void 0&&n[W]!==null);if(Y.hardforks=re.map(W=>({name:de[W],block:he[de[W]].isTimestamp===!0||typeof n[W]!="number"?null:n[W],timestamp:he[de[W]].isTimestamp===!0&&typeof n[W]=="number"?n[W]:void 0})).filter(W=>W.block!==null||W.timestamp!==void 0),Y.hardforks.sort(function(W,_){return(W.block??1/0)-(_.block??1/0)}),Y.hardforks.sort(function(W,_){return(W.timestamp??$)-(_.timestamp??$)}),n.terminalTotalDifficulty!==void 0){const W={name:Ht.Hardfork.Merge,ttd:n.terminalTotalDifficulty,block:null},_=Y.hardforks.findIndex(C=>he[C.name]?.postMerge===!0);_!==-1?Y.hardforks.splice(_,0,W):Y.hardforks.push(W)}const we=Y.hardforks.length>0?Y.hardforks.slice(-1)[0]:void 0;return Y.hardfork=we?.name,Y.hardforks.unshift({name:Ht.Hardfork.Chainstart,block:0}),Y}function Op(r,e,t){try{if(["config","difficulty","gasLimit","alloc"].some(n=>!(n in r)))throw new Error("Invalid format, expected geth genesis fields missing");return e!==void 0&&(r.name=e),Bp(r,t)}catch(n){throw new Error(`Error parsing parameters file: ${n.message}`)}}kn.parseGethGenesis=Op;Object.defineProperty(Qn,"__esModule",{value:!0});Qn.Common=void 0;const zt=Ve,Fp=as,Cp=ia,Lp=Fa,Hp=Va,Np=of,Dp=vf,Gp=If,Lr=ei,At=ti,Rp=ri,zp=kn;class Ut extends Cp.EventEmitter{constructor(e){super(),this._eips=[],this._customChains=e.customChains??[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=this._chainParams.defaultHardfork??At.Hardfork.Merge,this.HARDFORK_CHANGES=this.hardforks().map(t=>[t.name,Rp.hardforks[t.name]]),this._hardfork=this.DEFAULT_HARDFORK,e.hardfork!==void 0&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}static custom(e,t={}){const n=t.baseChain??"mainnet",s={...Ut._getChainParams(n)};if(s.name="custom-chain",typeof e!="string")return new Ut({chain:{...s,...e},...t});if(e===At.CustomChain.PolygonMainnet)return Ut.custom({name:At.CustomChain.PolygonMainnet,chainId:137,networkId:137},t);if(e===At.CustomChain.PolygonMumbai)return Ut.custom({name:At.CustomChain.PolygonMumbai,chainId:80001,networkId:80001},t);if(e===At.CustomChain.ArbitrumRinkebyTestnet)return Ut.custom({name:At.CustomChain.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},t);if(e===At.CustomChain.ArbitrumOne)return Ut.custom({name:At.CustomChain.ArbitrumOne,chainId:42161,networkId:42161},t);if(e===At.CustomChain.xDaiChain)return Ut.custom({name:At.CustomChain.xDaiChain,chainId:100,networkId:100},t);if(e===At.CustomChain.OptimisticKovan)return Ut.custom({name:At.CustomChain.OptimisticKovan,chainId:69,networkId:69},{hardfork:At.Hardfork.Berlin,...t});if(e===At.CustomChain.OptimisticEthereum)return Ut.custom({name:At.CustomChain.OptimisticEthereum,chainId:10,networkId:10},{hardfork:At.Hardfork.Berlin,...t});throw new Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:t,eips:n,genesisHash:s,hardfork:o,mergeForkIdPostMerge:u}){const d=(0,zp.parseGethGenesis)(e,t,u),y=new Ut({chain:d.name??"custom",customChains:[d],eips:n,hardfork:o??d.hardfork});return s!==void 0&&y.setForkHashes(s),y}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,t){const n=this._getInitializedChains(t);if(typeof e=="number"||typeof e=="bigint"){if(e=e.toString(),n.names[e]){const s=n.names[e];return n[s]}throw new Error(`Chain with ID ${e} not supported`)}if(n[e]!==void 0)return n[e];throw new Error(`Chain with name ${e} not supported`)}setChain(e){if(typeof e=="number"||typeof e=="bigint"||typeof e=="string")this._chainParams=Ut._getChainParams(e,this._customChains);else if(typeof e=="object"){if(this._customChains.length>0)throw new Error("Chain must be a string, number, or bigint when initialized with customChains passed in");const t=["networkId","genesis","hardforks","bootstrapNodes"];for(const n of t)if(!(n in e))throw new Error(`Missing required chain parameter: ${n}`);this._chainParams=e}else throw new Error("Wrong input format");for(const t of this.hardforks())if(t.block===void 0)throw new Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let t=!1;for(const n of this.HARDFORK_CHANGES)n[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),t=!0);if(!t)throw new Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,t,n){e=(0,zt.toType)(e,zt.TypeOutput.BigInt),t=(0,zt.toType)(t,zt.TypeOutput.BigInt),n=(0,zt.toType)(n,zt.TypeOutput.Number);const s=this.hardforks().filter(A=>A.block!==null||A.ttd!==null&&A.ttd!==void 0||A.timestamp!==void 0),o=s.findIndex(A=>A.ttd!==null&&A.ttd!==void 0);if(s.slice(o+1).findIndex(A=>A.ttd!==null&&A.ttd!==void 0)>=0)throw Error("More than one merge hardforks found with ttd specified");let d=s.findIndex(A=>A.block!==null&&A.block>e||n!==void 0&&Number(A.timestamp)>n);if(d===-1)d=s.length;else if(d===0)throw Error("Must have at least one hardfork at block 0");if(n===void 0){const A=s.slice(0,d).reverse().findIndex(O=>O.block!==null||O.ttd!==void 0);d=d-A}if(d=d-1,s[d].block===null&&s[d].timestamp===void 0)(t==null||BigInt(s[d].ttd)>t)&&(d-=1);else if(o>=0&&t!==void 0&&t!==null){if(d>=o&&BigInt(s[o].ttd)>t)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(d<o&&BigInt(s[o].ttd)<=t)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}const y=d;for(;d<s.length-1&&!(s[d].block!==s[d+1].block||s[d].timestamp!==s[d+1].timestamp);d++);if(n){if(s.slice(0,y).reduce(($,G)=>Math.max(Number(G.timestamp??"0"),$),0)>n)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(s.slice(d+1).reduce(($,G)=>Math.min(Number(G.timestamp??n),$),n)<n)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return s[d].name}setHardforkByBlockNumber(e,t,n){const s=this.getHardforkByBlockNumber(e,t,n);return this.setHardfork(s),s}_getHardfork(e){const t=this.hardforks();for(const n of t)if(n.name===e)return n;return null}setEIPs(e=[]){for(const t of e){if(!(t in Lr.EIPs))throw new Error(`${t} not supported`);const n=this.gteHardfork(Lr.EIPs[t].minimumHardfork);if(!n)throw new Error(`${t} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${n}`);if(Lr.EIPs[t].requiredEIPs!==void 0){for(const s of Lr.EIPs[t].requiredEIPs)if(!(e.includes(s)||this.isActivatedEIP(s)))throw new Error(`${t} requires EIP ${s}, but is not included in the EIP list`)}}this._eips=e}param(e,t){let n;for(const s of this._eips)if(n=this.paramByEIP(e,t,s),n!==void 0)return n;return this.paramByHardfork(e,t,this._hardfork)}paramByHardfork(e,t,n){let s=null;for(const o of this.HARDFORK_CHANGES){if("eips"in o[1]){const u=o[1].eips;for(const d of u){const y=this.paramByEIP(e,t,d);s=typeof y=="bigint"?y:s}}else{if(o[1][e]===void 0)throw new Error(`Topic ${e} not defined`);o[1][e][t]!==void 0&&(s=o[1][e][t].v)}if(o[0]===n)break}return BigInt(s??0)}paramByEIP(e,t,n){if(!(n in Lr.EIPs))throw new Error(`${n} not supported`);const s=Lr.EIPs[n];if(!(e in s))throw new Error(`Topic ${e} not defined`);if(s[e][t]===void 0)return;const o=s[e][t].v;return BigInt(o)}paramByBlock(e,t,n,s,o){const u=this.getHardforkByBlockNumber(n,s,o);return this.paramByHardfork(e,t,u)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(const t of this.HARDFORK_CHANGES){const n=t[1];if(this.gteHardfork(n.name)&&"eips"in n&&n.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,t){t=(0,zt.toType)(t,zt.TypeOutput.BigInt),e=e??this._hardfork;const n=this.hardforkBlock(e);return typeof n=="bigint"&&n!==BigInt(0)&&t>=n}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,t){e=e??this._hardfork;const n=this.hardforks();let s=-1,o=-1,u=0;for(const d of n)d.name===e&&(s=u),d.name===t&&(o=u),u+=1;return s>=o&&o!==-1}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){e=e??this._hardfork;const t=this._getHardfork(e)?.block;return t==null?null:BigInt(t)}hardforkTimestamp(e){e=e??this._hardfork;const t=this._getHardfork(e)?.timestamp;return t==null?null:BigInt(t)}eipBlock(e){for(const t of this.HARDFORK_CHANGES){const n=t[1];if("eips"in n&&n.eips.includes(e))return this.hardforkBlock(t[0])}return null}hardforkTTD(e){e=e??this._hardfork;const t=this._getHardfork(e)?.ttd;return t==null?null:BigInt(t)}isHardforkBlock(e,t){e=(0,zt.toType)(e,zt.TypeOutput.BigInt),t=t??this._hardfork;const n=this.hardforkBlock(t);return typeof n=="bigint"&&n!==BigInt(0)?n===e:!1}nextHardforkBlockOrTimestamp(e){e=e??this._hardfork;const t=this.hardforks();let n=t.findIndex(d=>d.name===e);if(e===At.Hardfork.Merge&&(n-=1),n<0)return null;let s=t[n].timestamp??t[n].block;s=s!=null?Number(s):null;const o=t.slice(n+1).find(d=>{let y=d.timestamp??d.block;return y=y!=null?Number(y):null,d.name!==At.Hardfork.Merge&&y!==null&&y!==void 0&&y!==s});if(o===void 0)return null;const u=o.timestamp??o.block;return u==null?null:BigInt(u)}nextHardforkBlock(e){e=e??this._hardfork;let t=this.hardforkBlock(e);if(t===null&&e===At.Hardfork.Merge){const s=this.hardforks(),o=s.findIndex(u=>u.ttd!==null&&u.ttd!==void 0);if(o<0)throw Error("Merge hardfork should have been found");t=this.hardforkBlock(s[o-1].name)}return t===null?null:this.hardforks().reduce((s,o)=>{const u=BigInt(o.block===null||o.ttd!==void 0&&o.ttd!==null?0:o.block);return u>t&&s===null?u:s},null)}isNextHardforkBlock(e,t){e=(0,zt.toType)(e,zt.TypeOutput.BigInt),t=t??this._hardfork;const n=this.nextHardforkBlock(t);return n===null?!1:n===e}_calcForkHash(e,t){let n=V.alloc(0),s=0;for(const d of this.hardforks()){const{block:y,timestamp:T,name:A}=d;let O=T??y;if(O=O!==null?Number(O):null,typeof O=="number"&&O!==0&&O!==s&&A!==At.Hardfork.Merge){const $=V.from(O.toString(16).padStart(16,"0"),"hex");n=V.concat([n,$]),s=O}if(d.name===e)break}const o=V.concat([t,n]);return`0x${(0,zt.intToBuffer)((0,Fp.buf)(o)>>>0).toString("hex")}`}forkHash(e,t){e=e??this._hardfork;const n=this._getHardfork(e);if(n===null||n?.block===null&&n?.timestamp===void 0&&n?.ttd===void 0){const s="No fork hash calculation possible for future hardfork";throw new Error(s)}if(n?.forkHash!==null&&n?.forkHash!==void 0)return n.forkHash;if(!t)throw new Error("genesisHash required for forkHash calculation");return this._calcForkHash(e,t)}hardforkForForkHash(e){const t=this.hardforks().filter(n=>n.forkHash===e);return t.length>=1?t[t.length-1]:null}setForkHashes(e){for(const t of this.hardforks()){const n=t.timestamp??t.block;(t.forkHash===null||t.forkHash===void 0)&&(n!=null||typeof t.ttd<"u")&&(t.forkHash=this.forkHash(t.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus.type),n[0]===e)break;return t??this._chainParams.consensus.type}consensusAlgorithm(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus.algorithm),n[0]===e)break;return t??this._chainParams.consensus.algorithm}consensusConfig(){const e=this.hardfork();let t;for(const n of this.HARDFORK_CHANGES)if("consensus"in n[1]&&(t=n[1].consensus[n[1].consensus.algorithm]),n[0]===e)break;return t??this._chainParams.consensus[this.consensusAlgorithm()]??{}}copy(){const e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){const t={};for(const[s,o]of Object.entries(At.Chain))t[o]=s.toLowerCase();const n={mainnet:Hp,ropsten:Dp,rinkeby:Np,goerli:Lp,sepolia:Gp};if(e)for(const s of e){const{name:o}=s;t[s.chainId.toString()]=o,n[o]=s}return n.names=t,n}}Qn.Common=Ut;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});(function(r){var e=tt&&tt.__createBinding||(Object.create?function(n,s,o,u){u===void 0&&(u=o);var d=Object.getOwnPropertyDescriptor(s,o);(!d||("get"in d?!s.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return s[o]}}),Object.defineProperty(n,u,d)}:function(n,s,o,u){u===void 0&&(u=o),n[u]=s[o]}),t=tt&&tt.__exportStar||function(n,s){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(s,o)&&e(s,n,o)};Object.defineProperty(r,"__esModule",{value:!0}),t(Qn,r),t(ti,r),t(fs,r),t(kn,r)})(gn);var Qr={},Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.BYTES_PER_FIELD_ELEMENT=Bt.FIELD_ELEMENTS_PER_BLOB=Bt.MAX_TX_WRAP_KZG_COMMITMENTS=Bt.LIMIT_BLOBS_PER_TX=Bt.MAX_VERSIONED_HASHES_LIST_SIZE=Bt.MAX_ACCESS_LIST_SIZE=Bt.MAX_CALLDATA_SIZE=void 0;Bt.MAX_CALLDATA_SIZE=16777216;Bt.MAX_ACCESS_LIST_SIZE=16777216;Bt.MAX_VERSIONED_HASHES_LIST_SIZE=16777216;Bt.LIMIT_BLOBS_PER_TX=16777216;Bt.MAX_TX_WRAP_KZG_COMMITMENTS=16777216;Bt.FIELD_ELEMENTS_PER_BLOB=4096;Bt.BYTES_PER_FIELD_ELEMENT=32;(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.BlobNetworkTransactionWrapper=r.KZGProofType=r.KZGCommitmentType=r.SignedBlobTransactionType=r.ECDSASignatureType=r.BlobTransactionType=r.AccessTupleType=r.AddressType=r.isAccessList=r.isAccessListBuffer=r.Capability=void 0;const e=Ro,t=Bt,n=new e.ByteVectorType(20),s=new e.ByteVectorType(32),o=new e.ByteVectorType(48),u=new e.UintBigintType(8),d=new e.UintBigintType(32);(function(A){A[A.EIP155ReplayProtection=155]="EIP155ReplayProtection",A[A.EIP1559FeeMarket=1559]="EIP1559FeeMarket",A[A.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",A[A.EIP2930AccessLists=2930]="EIP2930AccessLists"})(r.Capability||(r.Capability={}));function y(A){if(A.length===0)return!0;const O=A[0];return!!Array.isArray(O)}r.isAccessListBuffer=y;function T(A){return!y(A)}r.isAccessList=T,r.AddressType=n,r.AccessTupleType=new e.ContainerType({address:r.AddressType,storageKeys:new e.ListCompositeType(s,t.MAX_VERSIONED_HASHES_LIST_SIZE)}),r.BlobTransactionType=new e.ContainerType({chainId:d,nonce:u,maxPriorityFeePerGas:d,maxFeePerGas:d,gas:u,to:new e.UnionType([new e.NoneType,r.AddressType]),value:d,data:new e.ByteListType(t.MAX_CALLDATA_SIZE),accessList:new e.ListCompositeType(r.AccessTupleType,t.MAX_ACCESS_LIST_SIZE),maxFeePerDataGas:d,blobVersionedHashes:new e.ListCompositeType(s,t.MAX_VERSIONED_HASHES_LIST_SIZE)}),r.ECDSASignatureType=new e.ContainerType({yParity:new e.BooleanType,r:d,s:d}),r.SignedBlobTransactionType=new e.ContainerType({message:r.BlobTransactionType,signature:r.ECDSASignatureType}),r.KZGCommitmentType=o,r.KZGProofType=r.KZGCommitmentType,r.BlobNetworkTransactionWrapper=new e.ContainerType({tx:r.SignedBlobTransactionType,blobKzgs:new e.ListCompositeType(r.KZGCommitmentType,t.MAX_TX_WRAP_KZG_COMMITMENTS),blobs:new e.ListCompositeType(new e.ByteVectorType(t.FIELD_ELEMENTS_PER_BLOB*t.BYTES_PER_FIELD_ELEMENT),t.LIMIT_BLOBS_PER_TX),kzgAggregatedProof:r.KZGProofType})})(Qr);Object.defineProperty($r,"__esModule",{value:!0});$r.BaseTransaction=void 0;const Hr=gn,qe=Ve,li=Qr;class Up{constructor(e,t){this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=Hr.Chain.Mainnet,this.DEFAULT_HARDFORK=Hr.Hardfork.Merge;const{nonce:n,gasLimit:s,to:o,value:u,data:d,v:y,r:T,s:A,type:O}=e;this._type=Number((0,qe.bufferToBigInt)((0,qe.toBuffer)(O))),this.txOptions=t;const $=(0,qe.toBuffer)(o===""?"0x":o),G=(0,qe.toBuffer)(y===""?"0x":y),Y=(0,qe.toBuffer)(T===""?"0x":T),he=(0,qe.toBuffer)(A===""?"0x":A);this.nonce=(0,qe.bufferToBigInt)((0,qe.toBuffer)(n===""?"0x":n)),this.gasLimit=(0,qe.bufferToBigInt)((0,qe.toBuffer)(s===""?"0x":s)),this.to=$.length>0?new qe.Address($):void 0,this.value=(0,qe.bufferToBigInt)((0,qe.toBuffer)(u===""?"0x":u)),this.data=(0,qe.toBuffer)(d===""?"0x":d),this.v=G.length>0?(0,qe.bufferToBigInt)(G):void 0,this.r=Y.length>0?(0,qe.bufferToBigInt)(Y):void 0,this.s=he.length>0?(0,qe.bufferToBigInt)(he):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){const t=[];return this.getBaseFee()>this.gasLimit&&t.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),e?t:t.length===0}_validateYParity(){const{v:e}=this;if(e!==void 0&&e!==BigInt(0)&&e!==BigInt(1)){const t=this._errorMsg("The y-parity of the transaction should either be 0 or 1");throw new Error(t)}}_validateHighS(){const{s:e}=this;if(this.common.gteHardfork("homestead")&&e!==void 0&&e>qe.SECP256K1_ORDER_DIV_2){const t=this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid");throw new Error(t)}}getBaseFee(){const e=this.common.param("gasPrices","tx");let t=this.getDataFee();if(e&&(t+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){const n=this.common.param("gasPrices","txCreation");n&&(t+=n)}return t}getDataFee(){const e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero");let n=BigInt(0);for(let s=0;s<this.data.length;s++)this.data[s]===0?n+=e:n+=t;if((this.to===void 0||this.to===null)&&this.common.isActivatedEIP(3860)){const s=BigInt(Math.ceil(this.data.length/32)),o=this.common.param("gasPrices","initCodeWordCost")*s;n+=o}return n}toCreationAddress(){return this.to===void 0||this.to.buf.length===0}isSigned(){const{v:e,r:t,s:n}=this;return!(e===void 0||t===void 0||n===void 0)}verifySignature(){try{const e=this.getSenderPublicKey();return(0,qe.unpadBuffer)(e).length!==0}catch{return!1}}getSenderAddress(){return new qe.Address((0,qe.publicToAddress)(this.getSenderPublicKey()))}sign(e){if(e.length!==32){const y=this._errorMsg("Private key must be 32 bytes in length.");throw new Error(y)}let t=!1;this.type===0&&this.common.gteHardfork("spuriousDragon")&&!this.supports(li.Capability.EIP155ReplayProtection)&&(this.activeCapabilities.push(li.Capability.EIP155ReplayProtection),t=!0);const n=this.getMessageToSign(!0),{v:s,r:o,s:u}=(0,qe.ecsign)(n,e),d=this._processSignature(s,o,u);if(t){const y=this.activeCapabilities.indexOf(li.Capability.EIP155ReplayProtection);y>-1&&this.activeCapabilities.splice(y,1)}return d}_getCommon(e,t){if(t!==void 0){const n=(0,qe.bufferToBigInt)((0,qe.toBuffer)(t));if(e){if(e.chainId()!==n){const s=this._errorMsg("The chain ID does not match the chain ID of Common");throw new Error(s)}return e.copy()}else return Hr.Common.isSupportedChainId(n)?new Hr.Common({chain:n,hardfork:this.DEFAULT_HARDFORK}):Hr.Common.custom({name:"custom-chain",networkId:n,chainId:n},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}else return e?.copy()??new Hr.Common({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,t=256,n=!1){for(const[s,o]of Object.entries(e))switch(t){case 64:if(n){if(o!==void 0&&o>=qe.MAX_UINT64){const u=this._errorMsg(`${s} cannot equal or exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(u)}}else if(o!==void 0&&o>qe.MAX_UINT64){const u=this._errorMsg(`${s} cannot exceed MAX_UINT64 (2^64-1), given ${o}`);throw new Error(u)}break;case 256:if(n){if(o!==void 0&&o>=qe.MAX_INTEGER){const u=this._errorMsg(`${s} cannot equal or exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(u)}}else if(o!==void 0&&o>qe.MAX_INTEGER){const u=this._errorMsg(`${s} cannot exceed MAX_INTEGER (2^256-1), given ${o}`);throw new Error(u)}break;default:{const u=this._errorMsg("unimplemented bits value");throw new Error(u)}}}static _validateNotArray(e){const t=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(const[n,s]of Object.entries(e))if(t.includes(n)&&Array.isArray(s))throw new Error(`${n} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?(0,qe.bufferToHex)(this.hash()):"not available (unsigned)"}catch{e="error"}let t="";try{t=this.isSigned().toString()}catch{e="error"}let n="";try{n=this.common.hardfork()}catch{n="error"}let s=`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} `;return s+=`signed=${t} hf=${n}`,s}}$r.BaseTransaction=Up;var rr={};Object.defineProperty(rr,"__esModule",{value:!0});rr.blobTxToNetworkWrapperDataFormat=rr.AccessLists=rr.checkMaxInitCodeSize=void 0;const Nr=Ve,jp=Qr;function qp(r,e){const t=r.param("vm","maxInitCodeSize");if(t&&BigInt(e)>t)throw new Error(`the initcode size of this transaction is too large: it is ${e} while the max is ${r.param("vm","maxInitCodeSize")}`)}rr.checkMaxInitCodeSize=qp;class Vp{static getAccessListData(e){let t,n;if((0,jp.isAccessList)(e)){t=e;const s=[];for(let o=0;o<e.length;o++){const u=e[o],d=(0,Nr.toBuffer)(u.address),y=[];for(let T=0;T<u.storageKeys.length;T++)y.push((0,Nr.toBuffer)(u.storageKeys[T]));s.push([d,y])}n=s}else{n=e??[];const s=[];for(let o=0;o<n.length;o++){const u=n[o],d=(0,Nr.bufferToHex)(u[0]),y=[];for(let A=0;A<u[1].length;A++)y.push((0,Nr.bufferToHex)(u[1][A]));const T={address:d,storageKeys:y};s.push(T)}t=s}return{AccessListJSON:t,accessList:n}}static verifyAccessList(e){for(let t=0;t<e.length;t++){const n=e[t],s=n[0],o=n[1];if(n[2]!==void 0)throw new Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(s.length!==20)throw new Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let u=0;u<o.length;u++)if(o[u].length!==32)throw new Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}}static getAccessListJSON(e){const t=[];for(let n=0;n<e.length;n++){const s=e[n],o={address:"0x"+(0,Nr.setLengthLeft)(s[0],20).toString("hex"),storageKeys:[]},u=s[1];for(let d=0;d<u.length;d++){const y=u[d];o.storageKeys.push("0x"+(0,Nr.setLengthLeft)(y,32).toString("hex"))}t.push(o)}return t}static getDataFeeEIP2930(e,t){const n=t.param("gasPrices","accessListStorageKeyCost"),s=t.param("gasPrices","accessListAddressCost");let o=0;for(let d=0;d<e.length;d++){const T=e[d][1];o+=T.length}return e.length*Number(s)+o*Number(n)}}rr.AccessLists=Vp;const Kp=r=>{const e={selector:r.to!==void 0?1:0,value:r.to?.toBuffer()??null};return{message:{chainId:r.common.chainId(),nonce:r.nonce,maxPriorityFeePerGas:r.maxPriorityFeePerGas,maxFeePerGas:r.maxFeePerGas,gas:r.gasLimit,to:e,value:r.value,data:r.data,accessList:r.accessList.map(t=>({address:t[0],storageKeys:t[1]})),blobVersionedHashes:r.versionedHashes,maxFeePerDataGas:r.maxFeePerDataGas},signature:{r:r.r??BigInt(0),s:r.s??BigInt(0),yParity:r.v===BigInt(1)}}};rr.blobTxToNetworkWrapperDataFormat=Kp;Object.defineProperty(Mn,"__esModule",{value:!0});Mn.FeeMarketEIP1559Transaction=void 0;const mi=Di,Fe=Ve,pi=jt,no=$r,sn=rr,Mi=2,gi=V.from(Mi.toString(16).padStart(2,"0"),"hex");class qr extends no.BaseTransaction{constructor(e,t={}){super({...e,type:Mi},t),this.DEFAULT_HARDFORK="london";const{chainId:n,accessList:s,maxFeePerGas:o,maxPriorityFeePerGas:u}=e;if(this.common=this._getCommon(t.common,n),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const d=sn.AccessLists.getAccessListData(s??[]);if(this.accessList=d.accessList,this.AccessListJSON=d.AccessListJSON,sn.AccessLists.verifyAccessList(this.accessList),this.maxFeePerGas=(0,Fe.bufferToBigInt)((0,Fe.toBuffer)(o===""?"0x":o)),this.maxPriorityFeePerGas=(0,Fe.bufferToBigInt)((0,Fe.toBuffer)(u===""?"0x":u)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),no.BaseTransaction._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Fe.MAX_INTEGER){const T=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(T)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const T=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(T)}this._validateYParity(),this._validateHighS(),this.common.isActivatedEIP(3860)&&(0,sn.checkMaxInitCodeSize)(this.common,this.data.length),(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new qr(e,t)}static fromSerializedTx(e,t={}){if(!e.slice(0,1).equals(gi))throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${Mi}, received: ${e.slice(0,1).toString("hex")}`);const n=(0,Fe.arrToBufArr)(mi.RLP.decode(e.slice(1)));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return qr.fromValuesArray(n,t)}static fromValuesArray(e,t={}){if(e.length!==9&&e.length!==12)throw new Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");const[n,s,o,u,d,y,T,A,O,$,G,Y]=e;return this._validateNotArray({chainId:n,v:$}),(0,Fe.validateNoLeadingZeroes)({nonce:s,maxPriorityFeePerGas:o,maxFeePerGas:u,gasLimit:d,value:T,v:$,r:G,s:Y}),new qr({chainId:(0,Fe.bufferToBigInt)(n),nonce:s,maxPriorityFeePerGas:o,maxFeePerGas:u,gasLimit:d,to:y,value:T,data:A,accessList:O??[],v:$!==void 0?(0,Fe.bufferToBigInt)($):void 0,r:G,s:Y},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(sn.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){const t=this.maxPriorityFeePerGas,n=this.maxFeePerGas-e,o=(t<n?t:n)+e;return this.gasLimit*o+this.value}raw(){return[(0,Fe.bigIntToUnpaddedBuffer)(this.chainId),(0,Fe.bigIntToUnpaddedBuffer)(this.nonce),(0,Fe.bigIntToUnpaddedBuffer)(this.maxPriorityFeePerGas),(0,Fe.bigIntToUnpaddedBuffer)(this.maxFeePerGas),(0,Fe.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:V.from([]),(0,Fe.bigIntToUnpaddedBuffer)(this.value),this.data,this.accessList,this.v!==void 0?(0,Fe.bigIntToUnpaddedBuffer)(this.v):V.from([]),this.r!==void 0?(0,Fe.bigIntToUnpaddedBuffer)(this.r):V.from([]),this.s!==void 0?(0,Fe.bigIntToUnpaddedBuffer)(this.s):V.from([])]}serialize(){const e=this.raw();return V.concat([gi,V.from(mi.RLP.encode((0,Fe.bufArrToArr)(e)))])}getMessageToSign(e=!0){const t=this.raw().slice(0,9),n=V.concat([gi,V.from(mi.RLP.encode((0,Fe.bufArrToArr)(t)))]);return e?V.from((0,pi.keccak256)(n)):n}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=V.from((0,pi.keccak256)(this.serialize()))),this.cache.hash):V.from((0,pi.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const o=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(o)}const e=this.getMessageToVerifySignature(),{v:t,r:n,s}=this;this._validateHighS();try{return(0,Fe.ecrecover)(e,t+BigInt(27),(0,Fe.bigIntToUnpaddedBuffer)(n),(0,Fe.bigIntToUnpaddedBuffer)(s))}catch{const u=this._errorMsg("Invalid Signature");throw new Error(u)}}_processSignature(e,t,n){const s={...this.txOptions,common:this.common};return qr.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:(0,Fe.bufferToBigInt)(t),s:(0,Fe.bufferToBigInt)(n)},s)}toJSON(){const e=sn.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,Fe.bigIntToHex)(this.chainId),nonce:(0,Fe.bigIntToHex)(this.nonce),maxPriorityFeePerGas:(0,Fe.bigIntToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,Fe.bigIntToHex)(this.maxFeePerGas),gasLimit:(0,Fe.bigIntToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,Fe.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==void 0?(0,Fe.bigIntToHex)(this.v):void 0,r:this.r!==void 0?(0,Fe.bigIntToHex)(this.r):void 0,s:this.s!==void 0?(0,Fe.bigIntToHex)(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}Mn.FeeMarketEIP1559Transaction=qr;var In={};Object.defineProperty(In,"__esModule",{value:!0});In.AccessListEIP2930Transaction=void 0;const vi=Di,Re=Ve,bi=jt,io=$r,an=rr,ki=1,yi=V.from(ki.toString(16).padStart(2,"0"),"hex");class Vr extends io.BaseTransaction{constructor(e,t={}){super({...e,type:ki},t),this.DEFAULT_HARDFORK="berlin";const{chainId:n,accessList:s,gasPrice:o}=e;if(this.common=this._getCommon(t.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw new Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);const u=an.AccessLists.getAccessListData(s??[]);if(this.accessList=u.accessList,this.AccessListJSON=u.AccessListJSON,an.AccessLists.verifyAccessList(this.accessList),this.gasPrice=(0,Re.bufferToBigInt)((0,Re.toBuffer)(o===""?"0x":o)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),io.BaseTransaction._validateNotArray(e),this.gasPrice*this.gasLimit>Re.MAX_INTEGER){const y=this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER");throw new Error(y)}this._validateYParity(),this._validateHighS(),this.common.isActivatedEIP(3860)&&(0,an.checkMaxInitCodeSize)(this.common,this.data.length),(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new Vr(e,t)}static fromSerializedTx(e,t={}){if(!e.slice(0,1).equals(yi))throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${ki}, received: ${e.slice(0,1).toString("hex")}`);const n=(0,Re.arrToBufArr)(vi.RLP.decode(Uint8Array.from(e.slice(1))));if(!Array.isArray(n))throw new Error("Invalid serialized tx input: must be array");return Vr.fromValuesArray(n,t)}static fromValuesArray(e,t={}){if(e.length!==8&&e.length!==11)throw new Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");const[n,s,o,u,d,y,T,A,O,$,G]=e;this._validateNotArray({chainId:n,v:O}),(0,Re.validateNoLeadingZeroes)({nonce:s,gasPrice:o,gasLimit:u,value:y,v:O,r:$,s:G});const Y=[];return new Vr({chainId:(0,Re.bufferToBigInt)(n),nonce:s,gasPrice:o,gasLimit:u,to:d,value:y,data:T,accessList:A??Y,v:O!==void 0?(0,Re.bufferToBigInt)(O):void 0,r:$,s:G},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(an.AccessLists.getDataFeeEIP2930(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[(0,Re.bigIntToUnpaddedBuffer)(this.chainId),(0,Re.bigIntToUnpaddedBuffer)(this.nonce),(0,Re.bigIntToUnpaddedBuffer)(this.gasPrice),(0,Re.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:V.from([]),(0,Re.bigIntToUnpaddedBuffer)(this.value),this.data,this.accessList,this.v!==void 0?(0,Re.bigIntToUnpaddedBuffer)(this.v):V.from([]),this.r!==void 0?(0,Re.bigIntToUnpaddedBuffer)(this.r):V.from([]),this.s!==void 0?(0,Re.bigIntToUnpaddedBuffer)(this.s):V.from([])]}serialize(){const e=this.raw();return V.concat([yi,V.from(vi.RLP.encode((0,Re.bufArrToArr)(e)))])}getMessageToSign(e=!0){const t=this.raw().slice(0,8),n=V.concat([yi,V.from(vi.RLP.encode((0,Re.bufArrToArr)(t)))]);return e?V.from((0,bi.keccak256)(n)):n}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=V.from((0,bi.keccak256)(this.serialize()))),this.cache.hash):V.from((0,bi.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const o=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(o)}const e=this.getMessageToVerifySignature(),{v:t,r:n,s}=this;this._validateHighS();try{return(0,Re.ecrecover)(e,t+BigInt(27),(0,Re.bigIntToUnpaddedBuffer)(n),(0,Re.bigIntToUnpaddedBuffer)(s))}catch{const u=this._errorMsg("Invalid Signature");throw new Error(u)}}_processSignature(e,t,n){const s={...this.txOptions,common:this.common};return Vr.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:(0,Re.bufferToBigInt)(t),s:(0,Re.bufferToBigInt)(n)},s)}toJSON(){const e=an.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,Re.bigIntToHex)(this.chainId),nonce:(0,Re.bigIntToHex)(this.nonce),gasPrice:(0,Re.bigIntToHex)(this.gasPrice),gasLimit:(0,Re.bigIntToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,Re.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==void 0?(0,Re.bigIntToHex)(this.v):void 0,r:this.r!==void 0?(0,Re.bigIntToHex)(this.r):void 0,s:this.s!==void 0?(0,Re.bigIntToHex)(this.s):void 0}}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice} accessListCount=${this.accessList?.length??0}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}In.AccessListEIP2930Transaction=Vr;var $n={},ni={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.initKZG=r.kzg=void 0;function e(){throw Error("kzg library not loaded")}r.kzg={freeTrustedSetup:e,loadTrustedSetup:e,blobToKzgCommitment:e,computeAggregateKzgProof:e,verifyKzgProof:e,verifyAggregateKzgProof:e};function t(n,s){r.kzg=n,r.kzg.loadTrustedSetup(s)}r.initKZG=t})(ni);var Ui={},ii={},Jr={},oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.SHA2=void 0;const xi=Ot,fn=Xr;function Zp(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const s=BigInt(32),o=BigInt(4294967295),u=Number(t>>s&o),d=Number(t&o),y=n?4:0,T=n?0:4;r.setUint32(e+y,u,n),r.setUint32(e+T,d,n)}class Wp extends fn.Hash{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,fn.createView)(this.buffer)}update(e){xi.default.exists(this);const{view:t,buffer:n,blockLen:s}=this;e=(0,fn.toBytes)(e);const o=e.length;for(let u=0;u<o;){const d=Math.min(s-this.pos,o-u);if(d===s){const y=(0,fn.createView)(e);for(;s<=o-u;u+=s)this.process(y,u);continue}n.set(e.subarray(u,u+d),this.pos),this.pos+=d,u+=d,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){xi.default.exists(this),xi.default.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:s,isLE:o}=this;let{pos:u}=this;t[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>s-u&&(this.process(n,0),u=0);for(let O=u;O<s;O++)t[O]=0;Zp(n,s-8,BigInt(this.length*8),o),this.process(n,0);const d=(0,fn.createView)(e),y=this.outputLen;if(y%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const T=y/4,A=this.get();if(T>A.length)throw new Error("_sha2: outputLen bigger than state");for(let O=0;O<T;O++)d.setUint32(4*O,A[O],o)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:s,finished:o,destroyed:u,pos:d}=this;return e.length=s,e.pos=d,e.finished=o,e.destroyed=u,s%t&&e.buffer.set(n),e}}oi.SHA2=Wp;Object.defineProperty(Jr,"__esModule",{value:!0});Jr.sha224=Jr.sha256=void 0;const Yp=oi,Kt=Xr,Xp=(r,e,t)=>r&e^~r&t,Jp=(r,e,t)=>r&e^r&t^e&t,Qp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),dr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),lr=new Uint32Array(64);class cs extends Yp.SHA2{constructor(){super(64,32,8,!1),this.A=dr[0]|0,this.B=dr[1]|0,this.C=dr[2]|0,this.D=dr[3]|0,this.E=dr[4]|0,this.F=dr[5]|0,this.G=dr[6]|0,this.H=dr[7]|0}get(){const{A:e,B:t,C:n,D:s,E:o,F:u,G:d,H:y}=this;return[e,t,n,s,o,u,d,y]}set(e,t,n,s,o,u,d,y){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=o|0,this.F=u|0,this.G=d|0,this.H=y|0}process(e,t){for(let O=0;O<16;O++,t+=4)lr[O]=e.getUint32(t,!1);for(let O=16;O<64;O++){const $=lr[O-15],G=lr[O-2],Y=(0,Kt.rotr)($,7)^(0,Kt.rotr)($,18)^$>>>3,he=(0,Kt.rotr)(G,17)^(0,Kt.rotr)(G,19)^G>>>10;lr[O]=he+lr[O-7]+Y+lr[O-16]|0}let{A:n,B:s,C:o,D:u,E:d,F:y,G:T,H:A}=this;for(let O=0;O<64;O++){const $=(0,Kt.rotr)(d,6)^(0,Kt.rotr)(d,11)^(0,Kt.rotr)(d,25),G=A+$+Xp(d,y,T)+Qp[O]+lr[O]|0,he=((0,Kt.rotr)(n,2)^(0,Kt.rotr)(n,13)^(0,Kt.rotr)(n,22))+Jp(n,s,o)|0;A=T,T=y,y=d,d=u+G|0,u=o,o=s,s=n,n=G+he|0}n=n+this.A|0,s=s+this.B|0,o=o+this.C|0,u=u+this.D|0,d=d+this.E|0,y=y+this.F|0,T=T+this.G|0,A=A+this.H|0,this.set(n,s,o,u,d,y,T,A)}roundClean(){lr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class e1 extends cs{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Jr.sha256=(0,Kt.wrapConstructor)(()=>new cs);Jr.sha224=(0,Kt.wrapConstructor)(()=>new e1);Object.defineProperty(ii,"__esModule",{value:!0});ii.sha256=void 0;const t1=Jr,r1=En;ii.sha256=(0,r1.wrapHash)(t1.sha256);(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.commitmentsToVersionedHashes=r.computeVersionedHash=r.blobsToCommitments=r.getBlobs=void 0;const e=ii,t=ni,n=32,s=4096,o=32*s,d=o*2-1,y=n*s;function T(he,de){const re=V.alloc(de*o),we=V.byteLength(he);return re.fill(he,0,we),re[we]=128,re}function A(he){const de=V.alloc(y,"binary");for(let re=0;re<s;re++){const we=V.alloc(32,"binary");we.fill(he.subarray(re*31,(re+1)*31),0,31),de.fill(we,re*32,(re+1)*32)}return de}const O=he=>{const de=V.from(he,"binary"),re=V.byteLength(de);if(re===0)throw Error("invalid blob data");if(re>d)throw Error("blob data is too large");const we=Math.ceil(re/o),W=T(de,we),_=[];for(let C=0;C<we;C++){const R=W.subarray(C*o,(C+1)*o),q=A(R);_.push(q)}return _};r.getBlobs=O;const $=he=>{const de=[];for(const re of he)de.push(V.from(t.kzg.blobToKzgCommitment(re)));return de};r.blobsToCommitments=$;const G=(he,de)=>{const re=new Uint8Array(32);return re.set([de],0),re.set((0,e.sha256)(he).slice(1),1),re};r.computeVersionedHash=G;const Y=he=>{const de=[];for(const re of he)de.push(V.from((0,r.computeVersionedHash)(re,1)));return de};r.commitmentsToVersionedHashes=Y})(Ui);Object.defineProperty($n,"__esModule",{value:!0});$n.BlobEIP4844Transaction=void 0;const n1=Ro,Ge=Ve,oo=jt,so=$r,ao=Bt,i1=ni,cn=Qr,un=rr,o1=Ui,us=5,fo=V.from(us.toString(16).padStart(2,"0"),"hex"),s1=(r,e,t,n,s)=>{if(!(r.length===e.length&&e.length===t.length))throw new Error("Number of versionedHashes, blobs, and commitments not all equal");try{i1.kzg.verifyAggregateKzgProof(e,t,n)}catch{throw new Error("KZG proof cannot be verified from blobs/commitments")}for(let o=0;o<r.length;o++){const u=(0,o1.computeVersionedHash)(t[o],s);if(!(0,n1.byteArrayEquals)(u,r[o]))throw new Error(`commitment for blob at index ${o} does not match versionedHash`)}};class Ar extends so.BaseTransaction{constructor(e,t={}){super({...e,type:us},t);const{chainId:n,accessList:s,maxFeePerGas:o,maxPriorityFeePerGas:u,maxFeePerDataGas:d}=e;if(this.common=this._getCommon(t.common,n),this.chainId=this.common.chainId(),this.common.isActivatedEIP(1559)===!1)throw new Error("EIP-1559 not enabled on Common");if(this.common.isActivatedEIP(4844)===!1)throw new Error("EIP-4844 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);const y=un.AccessLists.getAccessListData(s??[]);if(this.accessList=y.accessList,this.AccessListJSON=y.AccessListJSON,un.AccessLists.verifyAccessList(this.accessList),this.maxFeePerGas=(0,Ge.bufferToBigInt)((0,Ge.toBuffer)(o===""?"0x":o)),this.maxPriorityFeePerGas=(0,Ge.bufferToBigInt)((0,Ge.toBuffer)(u===""?"0x":u)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),so.BaseTransaction._validateNotArray(e),this.gasLimit*this.maxFeePerGas>Ge.MAX_INTEGER){const A=this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)");throw new Error(A)}if(this.maxFeePerGas<this.maxPriorityFeePerGas){const A=this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)");throw new Error(A)}this.maxFeePerDataGas=(0,Ge.bufferToBigInt)((0,Ge.toBuffer)((d??"")===""?"0x":d)),this.versionedHashes=(e.versionedHashes??[]).map(A=>(0,Ge.toBuffer)(A)),this._validateYParity(),this._validateHighS(),this.common.isActivatedEIP(3860)&&(0,un.checkMaxInitCodeSize)(this.common,this.data.length);for(const A of this.versionedHashes){if(A.length!==32){const O=this._errorMsg("versioned hash is invalid length");throw new Error(O)}if(BigInt(A[0])!==this.common.paramByEIP("sharding","blobCommitmentVersionKzg",4844)){const O=this._errorMsg("versioned hash does not start with KZG commitment version");throw new Error(O)}}if(this.versionedHashes.length>ao.LIMIT_BLOBS_PER_TX){const A=this._errorMsg(`tx can contain at most ${ao.LIMIT_BLOBS_PER_TX} blobs`);throw new Error(A)}this.blobs=e.blobs?.map(A=>(0,Ge.toBuffer)(A)),this.kzgCommitments=e.kzgCommitments?.map(A=>(0,Ge.toBuffer)(A)),this.aggregateKzgProof=(0,Ge.toBuffer)(e.kzgProof),(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t){return new Ar(e,t)}static minimalFromNetworkWrapper(e,t){return Ar.fromTxData({...e,blobs:void 0,kzgCommitments:void 0,kzgProof:void 0},t)}static fromSerializedBlobTxNetworkWrapper(e,t){if(!t||!t.common)throw new Error("common instance required to validate versioned hashes");const n=cn.BlobNetworkTransactionWrapper.deserialize(e.slice(1)),s=n.tx.message,o=Number(t.common.paramByEIP("sharding","blobCommitmentVersionKzg",4844));s1(s.blobVersionedHashes,n.blobs,n.blobKzgs,n.kzgAggregatedProof,o);const u=[];for(const $ of s.accessList){const G=V.from($.address),Y=$.storageKeys.map(de=>V.from(de)),he=[G,Y];u.push(he)}const d=s.to.value===null?void 0:Ge.Address.fromString((0,Ge.bufferToHex)(V.from(s.to.value))),y=s.blobVersionedHashes.map($=>V.from($)),T=n.blobKzgs.map($=>V.from($)),A=n.blobs.map($=>V.from($)),O={...s,versionedHashes:y,accessList:u,to:d,blobs:A,kzgCommitments:T,kzgProof:V.from(n.kzgAggregatedProof),r:n.tx.signature.r,s:n.tx.signature.s,v:BigInt(n.tx.signature.yParity),gasLimit:s.gas,maxFeePerGas:s.maxFeePerGas,maxPriorityFeePerGas:s.maxPriorityFeePerGas};return new Ar(O,t)}static fromSerializedTx(e,t){const n=cn.SignedBlobTransactionType.deserialize(e.slice(1)),s=n.message,o=[];for(const T of s.accessList){const A=V.from(T.address),O=T.storageKeys.map(G=>V.from(G)),$=[A,O];o.push($)}const u=s.to.value===null?void 0:Ge.Address.fromString((0,Ge.bufferToHex)(V.from(s.to.value))),d=s.blobVersionedHashes.map(T=>V.from(T)),y={...s,versionedHashes:d,to:u,accessList:o,r:n.signature.r,s:n.signature.s,v:BigInt(n.signature.yParity),gasLimit:n.message.gas};return new Ar(y,t)}getUpfrontCost(e=BigInt(0)){const t=this.maxPriorityFeePerGas,n=this.maxFeePerGas-e,o=(t<n?t:n)+e;return this.gasLimit*o+this.value}raw(){throw new Error("Method not implemented.")}toValue(){const e={selector:this.to!==void 0?1:0,value:this.to?.toBuffer()??null};return{message:{chainId:this.common.chainId(),nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gas:this.gasLimit,to:e,value:this.value,data:this.data,accessList:this.accessList.map(t=>({address:t[0],storageKeys:t[1]})),blobVersionedHashes:this.versionedHashes,maxFeePerDataGas:this.maxFeePerDataGas},signature:{r:this.r??BigInt(0),s:this.s??BigInt(0),yParity:this.v===BigInt(1)}}}serialize(){const e=cn.SignedBlobTransactionType.serialize(this.toValue());return V.concat([fo,e])}serializeNetworkWrapper(){if(this.blobs===void 0||this.kzgCommitments===void 0||this.aggregateKzgProof===void 0)throw new Error("cannot serialize network wrapper without blobs, KZG commitments and aggregate KZG proof provided");const e={selector:this.to!==void 0?1:0,value:this.to?.toBuffer()??null},t=this.blobs?.map(s=>Uint8Array.from(s))??[],n=cn.BlobNetworkTransactionWrapper.serialize({blobs:t,blobKzgs:this.kzgCommitments?.map(s=>Uint8Array.from(s))??[],tx:{...(0,un.blobTxToNetworkWrapperDataFormat)(this),...e},kzgAggregatedProof:Uint8Array.from(this.aggregateKzgProof??[])});return V.concat([V.from([5]),n])}getMessageToSign(e){return this.unsignedHash()}unsignedHash(){const e=cn.BlobTransactionType.serialize(this.toValue().message);return V.from((0,oo.keccak256)(V.concat([fo,e])))}hash(){return V.from((0,oo.keccak256)(this.serialize()))}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned()){const o=this._errorMsg("Cannot call this method if transaction is not signed");throw new Error(o)}const e=this.getMessageToVerifySignature(),{v:t,r:n,s}=this;this._validateHighS();try{return(0,Ge.ecrecover)(e,t+BigInt(27),(0,Ge.bigIntToUnpaddedBuffer)(n),(0,Ge.bigIntToUnpaddedBuffer)(s))}catch{const u=this._errorMsg("Invalid Signature");throw new Error(u)}}toJSON(){const e=un.AccessLists.getAccessListJSON(this.accessList);return{chainId:(0,Ge.bigIntToHex)(this.chainId),nonce:(0,Ge.bigIntToHex)(this.nonce),maxPriorityFeePerGas:(0,Ge.bigIntToHex)(this.maxPriorityFeePerGas),maxFeePerGas:(0,Ge.bigIntToHex)(this.maxFeePerGas),gasLimit:(0,Ge.bigIntToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,Ge.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),accessList:e,v:this.v!==void 0?(0,Ge.bigIntToHex)(this.v):void 0,r:this.r!==void 0?(0,Ge.bigIntToHex)(this.r):void 0,s:this.s!==void 0?(0,Ge.bigIntToHex)(this.s):void 0,maxFeePerDataGas:(0,Ge.bigIntToHex)(this.maxFeePerDataGas),versionedHashes:this.versionedHashes.map(t=>(0,Ge.bufferToHex)(t))}}_processSignature(e,t,n){const s={...this.txOptions,common:this.common};return Ar.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:(0,Ge.bufferToBigInt)(t),s:(0,Ge.bufferToBigInt)(n),maxFeePerDataGas:this.maxFeePerDataGas,versionedHashes:this.versionedHashes,blobs:this.blobs,kzgCommitments:this.kzgCommitments,kzgProof:this.aggregateKzgProof},s)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}numBlobs(){return this.versionedHashes.length}}$n.BlobEIP4844Transaction=Ar;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.Transaction=void 0;const Dr=Di,ke=Ve,Nn=jt,co=$r,hn=Qr,a1=rr,f1=0;function uo(r,e){const t=Number(r),n=Number(e)*2;return t===n+35||t===n+36}class vn extends co.BaseTransaction{constructor(e,t={}){if(super({...e,type:f1},t),this.common=this._validateTxV(this.v,t.common),this.gasPrice=(0,ke.bufferToBigInt)((0,ke.toBuffer)(e.gasPrice===""?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>ke.MAX_INTEGER){const s=this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)");throw new Error(s)}this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),co.BaseTransaction._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?uo(this.v,this.common.chainId())&&this.activeCapabilities.push(hn.Capability.EIP155ReplayProtection):this.activeCapabilities.push(hn.Capability.EIP155ReplayProtection)),this.common.isActivatedEIP(3860)&&(0,a1.checkMaxInitCodeSize)(this.common,this.data.length),(t?.freeze??!0)&&Object.freeze(this)}static fromTxData(e,t={}){return new vn(e,t)}static fromSerializedTx(e,t={}){const n=(0,ke.arrToBufArr)(Dr.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(n))throw new Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(n,t)}static fromValuesArray(e,t={}){if(e.length!==6&&e.length!==9)throw new Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");const[n,s,o,u,d,y,T,A,O]=e;return(0,ke.validateNoLeadingZeroes)({nonce:n,gasPrice:s,gasLimit:o,value:d,v:T,r:A,s:O}),new vn({nonce:n,gasPrice:s,gasLimit:o,to:u,value:d,data:y,v:T,r:A,s:O},t)}raw(){return[(0,ke.bigIntToUnpaddedBuffer)(this.nonce),(0,ke.bigIntToUnpaddedBuffer)(this.gasPrice),(0,ke.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:V.from([]),(0,ke.bigIntToUnpaddedBuffer)(this.value),this.data,this.v!==void 0?(0,ke.bigIntToUnpaddedBuffer)(this.v):V.from([]),this.r!==void 0?(0,ke.bigIntToUnpaddedBuffer)(this.r):V.from([]),this.s!==void 0?(0,ke.bigIntToUnpaddedBuffer)(this.s):V.from([])]}serialize(){return V.from(Dr.RLP.encode((0,ke.bufArrToArr)(this.raw())))}_getMessageToSign(){const e=[(0,ke.bigIntToUnpaddedBuffer)(this.nonce),(0,ke.bigIntToUnpaddedBuffer)(this.gasPrice),(0,ke.bigIntToUnpaddedBuffer)(this.gasLimit),this.to!==void 0?this.to.buf:V.from([]),(0,ke.bigIntToUnpaddedBuffer)(this.value),this.data];return this.supports(hn.Capability.EIP155ReplayProtection)&&(e.push((0,ke.toBuffer)(this.common.chainId())),e.push((0,ke.unpadBuffer)((0,ke.toBuffer)(0))),e.push((0,ke.unpadBuffer)((0,ke.toBuffer)(0)))),e}getMessageToSign(e=!0){const t=this._getMessageToSign();return e?V.from((0,Nn.keccak256)(Dr.RLP.encode((0,ke.bufArrToArr)(t)))):t}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned()){const e=this._errorMsg("Cannot call hash method if transaction is not signed");throw new Error(e)}return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=V.from((0,Nn.keccak256)(Dr.RLP.encode((0,ke.bufArrToArr)(this.raw()))))),this.cache.hash):V.from((0,Nn.keccak256)(Dr.RLP.encode((0,ke.bufArrToArr)(this.raw()))))}getMessageToVerifySignature(){if(!this.isSigned()){const t=this._errorMsg("This transaction is not signed");throw new Error(t)}const e=this._getMessageToSign();return V.from((0,Nn.keccak256)(Dr.RLP.encode((0,ke.bufArrToArr)(e))))}getSenderPublicKey(){const e=this.getMessageToVerifySignature(),{v:t,r:n,s}=this;this._validateHighS();try{return(0,ke.ecrecover)(e,t,(0,ke.bigIntToUnpaddedBuffer)(n),(0,ke.bigIntToUnpaddedBuffer)(s),this.supports(hn.Capability.EIP155ReplayProtection)?this.common.chainId():void 0)}catch{const u=this._errorMsg("Invalid Signature");throw new Error(u)}}_processSignature(e,t,n){this.supports(hn.Capability.EIP155ReplayProtection)&&(e+=this.common.chainId()*BigInt(2)+BigInt(8));const s={...this.txOptions,common:this.common};return vn.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:e,r:(0,ke.bufferToBigInt)(t),s:(0,ke.bufferToBigInt)(n)},s)}toJSON(){return{nonce:(0,ke.bigIntToHex)(this.nonce),gasPrice:(0,ke.bigIntToHex)(this.gasPrice),gasLimit:(0,ke.bigIntToHex)(this.gasLimit),to:this.to!==void 0?this.to.toString():void 0,value:(0,ke.bigIntToHex)(this.value),data:"0x"+this.data.toString("hex"),v:this.v!==void 0?(0,ke.bigIntToHex)(this.v):void 0,r:this.r!==void 0?(0,ke.bigIntToHex)(this.r):void 0,s:this.s!==void 0?(0,ke.bigIntToHex)(this.s):void 0}}_validateTxV(e,t){let n;const s=e!==void 0?Number(e):void 0;if(s!==void 0&&s<37&&s!==27&&s!==28)throw new Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${s}`);if(s!==void 0&&s!==0&&(!t||t.gteHardfork("spuriousDragon"))&&s!==27&&s!==28)if(t){if(!uo(BigInt(s),t.chainId()))throw new Error(`Incompatible EIP155-based V ${s} and chain id ${t.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let o;(s-35)%2===0?o=35:o=36,n=BigInt(s-o)/BigInt(2)}return this._getCommon(t,n)}errorStr(){let e=this._getSharedErrorPostfix();return e+=` gasPrice=${this.gasPrice}`,e}_errorMsg(e){return`${e} (${this.errorStr()})`}}Sn.Transaction=vn;var si={};const c1=zo(oa);var ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.normalizeTxParams=void 0;const Gr=Ve,u1=r=>{const e=Object.assign({},r);return e.gasLimit=(0,Gr.toType)(e.gasLimit??e.gas,Gr.TypeOutput.BigInt),e.data=e.data===void 0?e.input:e.data,e.gasPrice=e.gasPrice!==void 0?BigInt(e.gasPrice):void 0,e.value=e.value!==void 0?BigInt(e.value):void 0,e.to=e.to!==null&&e.to!==void 0?(0,Gr.setLengthLeft)((0,Gr.toBuffer)(e.to),20):null,e.v=(0,Gr.toType)(e.v,Gr.TypeOutput.BigInt),e};ai.normalizeTxParams=u1;Object.defineProperty(si,"__esModule",{value:!0});si.TransactionFactory=void 0;const ho=Ve,h1=c1,lo=Mn,mo=In,po=$n,d1=ai,Dn=Sn;class ji{constructor(){}static fromTxData(e,t={}){if(!("type"in e)||e.type===void 0)return Dn.Transaction.fromTxData(e,t);{const n=Number((0,ho.bufferToBigInt)((0,ho.toBuffer)(e.type)));if(n===0)return Dn.Transaction.fromTxData(e,t);if(n===1)return mo.AccessListEIP2930Transaction.fromTxData(e,t);if(n===2)return lo.FeeMarketEIP1559Transaction.fromTxData(e,t);if(n===5)return po.BlobEIP4844Transaction.fromTxData(e,t);throw new Error(`Tx instantiation with type ${n} not supported`)}}static fromSerializedData(e,t={}){if(e[0]<=127)switch(e[0]){case 1:return mo.AccessListEIP2930Transaction.fromSerializedTx(e,t);case 2:return lo.FeeMarketEIP1559Transaction.fromSerializedTx(e,t);case 5:return po.BlobEIP4844Transaction.fromSerializedTx(e,t);default:throw new Error(`TypedTransaction with ID ${e[0]} unknown`)}else return Dn.Transaction.fromSerializedTx(e,t)}static fromBlockBodyData(e,t={}){if(V.isBuffer(e))return this.fromSerializedData(e,t);if(Array.isArray(e))return Dn.Transaction.fromValuesArray(e,t);throw new Error("Cannot decode transaction: unknown type input")}static async fromEthersProvider(e,t,n){const o=await(typeof e=="string"?new h1.JsonRpcProvider(e):e).send("eth_getTransactionByHash",[t]),u=(0,d1.normalizeTxParams)(o);return ji.fromTxData(u,n)}}si.TransactionFactory=ji;(function(r){var e=tt&&tt.__createBinding||(Object.create?function(A,O,$,G){G===void 0&&(G=$);var Y=Object.getOwnPropertyDescriptor(O,$);(!Y||("get"in Y?!O.__esModule:Y.writable||Y.configurable))&&(Y={enumerable:!0,get:function(){return O[$]}}),Object.defineProperty(A,G,Y)}:function(A,O,$,G){G===void 0&&(G=$),A[G]=O[$]}),t=tt&&tt.__exportStar||function(A,O){for(var $ in A)$!=="default"&&!Object.prototype.hasOwnProperty.call(O,$)&&e(O,A,$)};Object.defineProperty(r,"__esModule",{value:!0}),r.computeVersionedHash=r.TransactionFactory=r.Transaction=r.kzg=r.initKZG=r.BlobEIP4844Transaction=r.AccessListEIP2930Transaction=r.FeeMarketEIP1559Transaction=void 0;var n=Mn;Object.defineProperty(r,"FeeMarketEIP1559Transaction",{enumerable:!0,get:function(){return n.FeeMarketEIP1559Transaction}});var s=In;Object.defineProperty(r,"AccessListEIP2930Transaction",{enumerable:!0,get:function(){return s.AccessListEIP2930Transaction}});var o=$n;Object.defineProperty(r,"BlobEIP4844Transaction",{enumerable:!0,get:function(){return o.BlobEIP4844Transaction}});var u=ni;Object.defineProperty(r,"initKZG",{enumerable:!0,get:function(){return u.initKZG}}),Object.defineProperty(r,"kzg",{enumerable:!0,get:function(){return u.kzg}});var d=Sn;Object.defineProperty(r,"Transaction",{enumerable:!0,get:function(){return d.Transaction}});var y=si;Object.defineProperty(r,"TransactionFactory",{enumerable:!0,get:function(){return y.TransactionFactory}}),t(Qr,r);var T=Ui;Object.defineProperty(r,"computeVersionedHash",{enumerable:!0,get:function(){return T.computeVersionedHash}})})(Wo);var Dt={},br={},It={},l1=sa,hs=aa;function fi(r){var e=r;if(typeof e!="string")throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof e+", while padToEven.");return e.length%2&&(e="0"+e),e}function ds(r){var e=r.toString(16);return"0x"+e}function m1(r){var e=ds(r);return new V(fi(e.slice(2)),"hex")}function p1(r){if(typeof r!="string")throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof r+"'.");return V.byteLength(r,"utf8")}function g1(r,e,t){if(Array.isArray(r)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof r+"'");if(Array.isArray(e)!==!0)throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof e+"'");return e[!!t&&"some"||"every"](function(n){return r.indexOf(n)>=0})}function v1(r){var e=new V(fi(hs(r).replace(/^0+|0+$/g,"")),"hex");return e.toString("utf8")}function b1(r){var e="",t=0,n=r.length;for(r.substring(0,2)==="0x"&&(t=2);t<n;t+=2){var s=parseInt(r.substr(t,2),16);e+=String.fromCharCode(s)}return e}function y1(r){var e=new V(r,"utf8");return"0x"+fi(e.toString("hex")).replace(/^0+|0+$/g,"")}function x1(r){for(var e="",t=0;t<r.length;t++){var n=r.charCodeAt(t),s=n.toString(16);e+=s.length<2?"0"+s:s}return"0x"+e}function w1(r,e,t){if(!Array.isArray(r))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof r+"'");if(typeof e!="string")throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof e+"'.");for(var n=[],s=0;s<r.length;s++){var o=r[s][e];if(t&&!o)o="";else if(typeof o!="string")throw new Error("invalid abi");n.push(o)}return n}function E1(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}var qi={arrayContainsArray:g1,intToBuffer:m1,getBinarySize:p1,isHexPrefixed:l1,stripHexPrefix:hs,padToEven:fi,intToHex:ds,fromAscii:x1,fromUtf8:y1,toAscii:b1,toUtf8:v1,getKeys:w1,isHexString:E1};Object.defineProperty(It,"__esModule",{value:!0});It.numberToBuffer=It.normalize=It.recoverPublicKey=It.concatSig=It.legacyToBuffer=It.isNullish=It.padWithZeroes=void 0;const Zt=Ve,Ii=qi;function $i(r,e){if(r!==""&&!/^[a-f0-9]+$/iu.test(r))throw new Error(`Expected an unprefixed hex string. Received: ${r}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(r,e,"0")}It.padWithZeroes=$i;function P1(r){return r==null}It.isNullish=P1;function _1(r){return typeof r=="string"&&!(0,Ii.isHexString)(r)?V.from(r):(0,Zt.toBuffer)(r)}It.legacyToBuffer=_1;function T1(r,e,t){const n=(0,Zt.fromSigned)(e),s=(0,Zt.fromSigned)(t),o=(0,Zt.bufferToInt)(r),u=$i((0,Zt.toUnsigned)(n).toString("hex"),64),d=$i((0,Zt.toUnsigned)(s).toString("hex"),64),y=(0,Ii.stripHexPrefix)((0,Ii.intToHex)(o));return(0,Zt.addHexPrefix)(u.concat(d,y))}It.concatSig=T1;function A1(r,e){const t=(0,Zt.fromRpcSig)(e);return(0,Zt.ecrecover)(r,t.v,t.r,t.s)}It.recoverPublicKey=A1;function M1(r){if(r){if(typeof r=="number"){if(r<0)return"0x";const e=(0,Zt.toBuffer)(r);r=(0,Zt.bufferToHex)(e)}if(typeof r!="string"){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof r}: ${r}`,new Error(e)}return(0,Zt.addHexPrefix)(r.toLowerCase())}}It.normalize=M1;function k1(r){const e=r.toString(16),t=e.length%2?"0":"";return V.from(t+e,"hex")}It.numberToBuffer=k1;Object.defineProperty(br,"__esModule",{value:!0});br.extractPublicKey=br.recoverPersonalSignature=br.personalSign=void 0;const Zr=Ve,or=It;function I1({privateKey:r,data:e}){if((0,or.isNullish)(e))throw new Error("Missing data parameter");if((0,or.isNullish)(r))throw new Error("Missing privateKey parameter");const t=(0,or.legacyToBuffer)(e),n=(0,Zr.hashPersonalMessage)(t),s=(0,Zr.ecsign)(n,r);return(0,or.concatSig)((0,Zr.toBuffer)(s.v),s.r,s.s)}br.personalSign=I1;function $1({data:r,signature:e}){if((0,or.isNullish)(r))throw new Error("Missing data parameter");if((0,or.isNullish)(e))throw new Error("Missing signature parameter");const t=ls(r,e),n=(0,Zr.publicToAddress)(t);return(0,Zr.bufferToHex)(n)}br.recoverPersonalSignature=$1;function S1({data:r,signature:e}){if((0,or.isNullish)(r))throw new Error("Missing data parameter");if((0,or.isNullish)(e))throw new Error("Missing signature parameter");return`0x${ls(r,e).toString("hex")}`}br.extractPublicKey=S1;function ls(r,e){const t=(0,Zr.hashPersonalMessage)((0,or.legacyToBuffer)(r));return(0,or.recoverPublicKey)(t,e)}var ms={},sr={},et={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.output=Gt.exists=Gt.hash=Gt.bytes=Gt.bool=Gt.number=void 0;function Vn(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}Gt.number=Vn;function ps(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}Gt.bool=ps;function Vi(r,...e){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}Gt.bytes=Vi;function gs(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Vn(r.outputLen),Vn(r.blockLen)}Gt.hash=gs;function vs(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}Gt.exists=vs;function bs(r,e){Vi(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}Gt.output=bs;const B1={number:Vn,bool:ps,bytes:Vi,hash:gs,exists:vs,output:bs};Gt.default=B1;var ys={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.add=r.toBig=r.split=r.fromBig=void 0;const e=BigInt(2**32-1),t=BigInt(32);function n(M,m=!1){return m?{h:Number(M&e),l:Number(M>>t&e)}:{h:Number(M>>t&e)|0,l:Number(M&e)|0}}r.fromBig=n;function s(M,m=!1){let i=new Uint32Array(M.length),c=new Uint32Array(M.length);for(let l=0;l<M.length;l++){const{h:b,l:w}=n(M[l],m);[i[l],c[l]]=[b,w]}return[i,c]}r.split=s;const o=(M,m)=>BigInt(M>>>0)<<t|BigInt(m>>>0);r.toBig=o;const u=(M,m,i)=>M>>>i,d=(M,m,i)=>M<<32-i|m>>>i,y=(M,m,i)=>M>>>i|m<<32-i,T=(M,m,i)=>M<<32-i|m>>>i,A=(M,m,i)=>M<<64-i|m>>>i-32,O=(M,m,i)=>M>>>i-32|m<<64-i,$=(M,m)=>m,G=(M,m)=>M,Y=(M,m,i)=>M<<i|m>>>32-i,he=(M,m,i)=>m<<i|M>>>32-i,de=(M,m,i)=>m<<i-32|M>>>64-i,re=(M,m,i)=>M<<i-32|m>>>64-i;function we(M,m,i,c){const l=(m>>>0)+(c>>>0);return{h:M+i+(l/2**32|0)|0,l:l|0}}r.add=we;const W=(M,m,i)=>(M>>>0)+(m>>>0)+(i>>>0),_=(M,m,i,c)=>m+i+c+(M/2**32|0)|0,C=(M,m,i,c)=>(M>>>0)+(m>>>0)+(i>>>0)+(c>>>0),R=(M,m,i,c,l)=>m+i+c+l+(M/2**32|0)|0,q=(M,m,i,c,l)=>(M>>>0)+(m>>>0)+(i>>>0)+(c>>>0)+(l>>>0),N=(M,m,i,c,l,b)=>m+i+c+l+b+(M/2**32|0)|0,F={fromBig:n,split:s,toBig:r.toBig,shrSH:u,shrSL:d,rotrSH:y,rotrSL:T,rotrBH:A,rotrBL:O,rotr32H:$,rotr32L:G,rotlSH:Y,rotlSL:he,rotlBH:de,rotlBL:re,add:we,add3L:W,add3H:_,add4L:C,add4H:R,add5H:N,add5L:q};r.default=F})(ys);var Kn={},ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.crypto=void 0;ci.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};(function(r){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(r,"__esModule",{value:!0}),r.randomBytes=r.wrapConstructorWithOpts=r.wrapConstructor=r.checkOpts=r.Hash=r.concatBytes=r.toBytes=r.utf8ToBytes=r.asyncLoop=r.nextTick=r.hexToBytes=r.bytesToHex=r.isLE=r.rotr=r.createView=r.u32=r.u8=void 0;const e=ci,t=_=>new Uint8Array(_.buffer,_.byteOffset,_.byteLength);r.u8=t;const n=_=>new Uint32Array(_.buffer,_.byteOffset,Math.floor(_.byteLength/4));r.u32=n;const s=_=>new DataView(_.buffer,_.byteOffset,_.byteLength);r.createView=s;const o=(_,C)=>_<<32-C|_>>>C;if(r.rotr=o,r.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!r.isLE)throw new Error("Non little-endian hardware is not supported");const u=Array.from({length:256},(_,C)=>C.toString(16).padStart(2,"0"));function d(_){if(!(_ instanceof Uint8Array))throw new Error("Uint8Array expected");let C="";for(let R=0;R<_.length;R++)C+=u[_[R]];return C}r.bytesToHex=d;function y(_){if(typeof _!="string")throw new TypeError("hexToBytes: expected string, got "+typeof _);if(_.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const C=new Uint8Array(_.length/2);for(let R=0;R<C.length;R++){const q=R*2,N=_.slice(q,q+2),F=Number.parseInt(N,16);if(Number.isNaN(F)||F<0)throw new Error("Invalid byte sequence");C[R]=F}return C}r.hexToBytes=y;const T=async()=>{};r.nextTick=T;async function A(_,C,R){let q=Date.now();for(let N=0;N<_;N++){R(N);const F=Date.now()-q;F>=0&&F<C||(await(0,r.nextTick)(),q+=F)}}r.asyncLoop=A;function O(_){if(typeof _!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof _}`);return new TextEncoder().encode(_)}r.utf8ToBytes=O;function $(_){if(typeof _=="string"&&(_=O(_)),!(_ instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof _})`);return _}r.toBytes=$;function G(..._){if(!_.every(q=>q instanceof Uint8Array))throw new Error("Uint8Array list expected");if(_.length===1)return _[0];const C=_.reduce((q,N)=>q+N.length,0),R=new Uint8Array(C);for(let q=0,N=0;q<_.length;q++){const F=_[q];R.set(F,N),N+=F.length}return R}r.concatBytes=G;class Y{clone(){return this._cloneInto()}}r.Hash=Y;const he=_=>Object.prototype.toString.call(_)==="[object Object]"&&_.constructor===Object;function de(_,C){if(C!==void 0&&(typeof C!="object"||!he(C)))throw new TypeError("Options should be object or undefined");return Object.assign(_,C)}r.checkOpts=de;function re(_){const C=q=>_().update($(q)).digest(),R=_();return C.outputLen=R.outputLen,C.blockLen=R.blockLen,C.create=()=>_(),C}r.wrapConstructor=re;function we(_){const C=(q,N)=>_(N).update($(q)).digest(),R=_({});return C.outputLen=R.outputLen,C.blockLen=R.blockLen,C.create=q=>_(q),C}r.wrapConstructorWithOpts=we;function W(_=32){if(e.crypto.web)return e.crypto.web.getRandomValues(new Uint8Array(_));if(e.crypto.node)return new Uint8Array(e.crypto.node.randomBytes(_).buffer);throw new Error("The environment doesn't have randomBytes function")}r.randomBytes=W})(Kn);Object.defineProperty(et,"__esModule",{value:!0});et.shake256=et.shake128=et.keccak_512=et.keccak_384=et.keccak_256=et.keccak_224=et.sha3_512=et.sha3_384=et.sha3_256=et.sha3_224=et.Keccak=et.keccakP=void 0;const Rr=Gt,_n=ys,bn=Kn,[xs,ws,Es]=[[],[],[]],O1=BigInt(0),dn=BigInt(1),F1=BigInt(2),C1=BigInt(7),L1=BigInt(256),H1=BigInt(113);for(let r=0,e=dn,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],xs.push(2*(5*n+t)),ws.push((r+1)*(r+2)/2%64);let s=O1;for(let o=0;o<7;o++)e=(e<<dn^(e>>C1)*H1)%L1,e&F1&&(s^=dn<<(dn<<BigInt(o))-dn);Es.push(s)}const[N1,D1]=_n.default.split(Es,!0),go=(r,e,t)=>t>32?_n.default.rotlBH(r,e,t):_n.default.rotlSH(r,e,t),vo=(r,e,t)=>t>32?_n.default.rotlBL(r,e,t):_n.default.rotlSL(r,e,t);function Ps(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let u=0;u<10;u++)t[u]=r[u]^r[u+10]^r[u+20]^r[u+30]^r[u+40];for(let u=0;u<10;u+=2){const d=(u+8)%10,y=(u+2)%10,T=t[y],A=t[y+1],O=go(T,A,1)^t[d],$=vo(T,A,1)^t[d+1];for(let G=0;G<50;G+=10)r[u+G]^=O,r[u+G+1]^=$}let s=r[2],o=r[3];for(let u=0;u<24;u++){const d=ws[u],y=go(s,o,d),T=vo(s,o,d),A=xs[u];s=r[A],o=r[A+1],r[A]=y,r[A+1]=T}for(let u=0;u<50;u+=10){for(let d=0;d<10;d++)t[d]=r[u+d];for(let d=0;d<10;d++)r[u+d]^=~t[(d+2)%10]&t[(d+4)%10]}r[0]^=N1[n],r[1]^=D1[n]}t.fill(0)}et.keccakP=Ps;class Bn extends bn.Hash{constructor(e,t,n,s=!1,o=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Rr.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,bn.u32)(this.state)}keccak(){Ps(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Rr.default.exists(this);const{blockLen:t,state:n}=this;e=(0,bn.toBytes)(e);const s=e.length;for(let o=0;o<s;){const u=Math.min(t-this.pos,s-o);for(let d=0;d<u;d++)n[this.pos++]^=e[o++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,t&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Rr.default.exists(this,!1),Rr.default.bytes(e),this.finish();const t=this.state,{blockLen:n}=this;for(let s=0,o=e.length;s<o;){this.posOut>=n&&this.keccak();const u=Math.min(n-this.posOut,o-s);e.set(t.subarray(this.posOut,this.posOut+u),s),this.posOut+=u,s+=u}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Rr.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Rr.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:s,rounds:o,enableXOF:u}=this;return e||(e=new Bn(t,n,s,u,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=n,e.outputLen=s,e.enableXOF=u,e.destroyed=this.destroyed,e}}et.Keccak=Bn;const wr=(r,e,t)=>(0,bn.wrapConstructor)(()=>new Bn(e,r,t));et.sha3_224=wr(6,144,224/8);et.sha3_256=wr(6,136,256/8);et.sha3_384=wr(6,104,384/8);et.sha3_512=wr(6,72,512/8);et.keccak_224=wr(1,144,224/8);et.keccak_256=wr(1,136,256/8);et.keccak_384=wr(1,104,384/8);et.keccak_512=wr(1,72,512/8);const _s=(r,e,t)=>(0,bn.wrapConstructorWithOpts)((n={})=>new Bn(e,r,n.dkLen===void 0?t:n.dkLen,!0));et.shake128=_s(31,168,128/8);et.shake256=_s(31,136,256/8);var Zn={},G1={get exports(){return Zn},set exports(r){Zn=r}};(function(r,e){var t=tt&&tt.__importDefault||function($){return $&&$.__esModule?$:{default:$}};Object.defineProperty(e,"__esModule",{value:!0}),e.crypto=e.wrapHash=e.equalsBytes=e.hexToBytes=e.bytesToUtf8=e.utf8ToBytes=e.createView=e.concatBytes=e.toHex=e.bytesToHex=e.assertBytes=e.assertBool=void 0;const n=t(Gt),s=Kn,o=n.default.bool;e.assertBool=o;const u=n.default.bytes;e.assertBytes=u;var d=Kn;Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return d.bytesToHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return d.bytesToHex}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return d.concatBytes}}),Object.defineProperty(e,"createView",{enumerable:!0,get:function(){return d.createView}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return d.utf8ToBytes}});function y($){if(!($ instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof $}`);return new TextDecoder().decode($)}e.bytesToUtf8=y;function T($){const G=$.startsWith("0x")?$.substring(2):$;return(0,s.hexToBytes)(G)}e.hexToBytes=T;function A($,G){if($.length!==G.length)return!1;for(let Y=0;Y<$.length;Y++)if($[Y]!==G[Y])return!1;return!0}e.equalsBytes=A;function O($){return G=>(n.default.bytes(G),$(G))}e.wrapHash=O,e.crypto=(()=>{const $=typeof self=="object"&&"crypto"in self?self.crypto:void 0,G=typeof xn=="function"&&xn.bind(r);return{node:G&&!$?G("crypto"):void 0,web:$}})()})(G1,Zn);Object.defineProperty(sr,"__esModule",{value:!0});sr.keccak512=sr.keccak384=sr.keccak256=sr.keccak224=void 0;const Tn=et,ui=Zn;sr.keccak224=(0,ui.wrapHash)(Tn.keccak_224);sr.keccak256=(()=>{const r=(0,ui.wrapHash)(Tn.keccak_256);return r.create=Tn.keccak_256.create,r})();sr.keccak384=(0,ui.wrapHash)(Tn.keccak_384);sr.keccak512=(0,ui.wrapHash)(Tn.keccak_512);var yr={},Si={},R1={get exports(){return Si},set exports(r){Si=r}};(function(r){(function(e,t){function n(m,i){if(!m)throw new Error(i||"Assertion failed")}function s(m,i){m.super_=i;var c=function(){};c.prototype=i.prototype,m.prototype=new c,m.prototype.constructor=m}function o(m,i,c){if(o.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((i==="le"||i==="be")&&(c=i,i=10),this._init(m||0,i||10,c||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=fa.Buffer}catch{}o.isBN=function(i){return i instanceof o?!0:i!==null&&typeof i=="object"&&i.constructor.wordSize===o.wordSize&&Array.isArray(i.words)},o.max=function(i,c){return i.cmp(c)>0?i:c},o.min=function(i,c){return i.cmp(c)<0?i:c},o.prototype._init=function(i,c,l){if(typeof i=="number")return this._initNumber(i,c,l);if(typeof i=="object")return this._initArray(i,c,l);c==="hex"&&(c=16),n(c===(c|0)&&c>=2&&c<=36),i=i.toString().replace(/\s+/g,"");var b=0;i[0]==="-"&&(b++,this.negative=1),b<i.length&&(c===16?this._parseHex(i,b,l):(this._parseBase(i,c,b),l==="le"&&this._initArray(this.toArray(),c,l)))},o.prototype._initNumber=function(i,c,l){i<0&&(this.negative=1,i=-i),i<67108864?(this.words=[i&67108863],this.length=1):i<4503599627370496?(this.words=[i&67108863,i/67108864&67108863],this.length=2):(n(i<9007199254740992),this.words=[i&67108863,i/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),c,l)},o.prototype._initArray=function(i,c,l){if(n(typeof i.length=="number"),i.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(i.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var w,k,S=0;if(l==="be")for(b=i.length-1,w=0;b>=0;b-=3)k=i[b]|i[b-1]<<8|i[b-2]<<16,this.words[w]|=k<<S&67108863,this.words[w+1]=k>>>26-S&67108863,S+=24,S>=26&&(S-=26,w++);else if(l==="le")for(b=0,w=0;b<i.length;b+=3)k=i[b]|i[b+1]<<8|i[b+2]<<16,this.words[w]|=k<<S&67108863,this.words[w+1]=k>>>26-S&67108863,S+=24,S>=26&&(S-=26,w++);return this.strip()};function d(m,i){var c=m.charCodeAt(i);return c>=65&&c<=70?c-55:c>=97&&c<=102?c-87:c-48&15}function y(m,i,c){var l=d(m,c);return c-1>=i&&(l|=d(m,c-1)<<4),l}o.prototype._parseHex=function(i,c,l){this.length=Math.ceil((i.length-c)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var w=0,k=0,S;if(l==="be")for(b=i.length-1;b>=c;b-=2)S=y(i,c,b)<<w,this.words[k]|=S&67108863,w>=18?(w-=18,k+=1,this.words[k]|=S>>>26):w+=8;else{var x=i.length-c;for(b=x%2===0?c+1:c;b<i.length;b+=2)S=y(i,c,b)<<w,this.words[k]|=S&67108863,w>=18?(w-=18,k+=1,this.words[k]|=S>>>26):w+=8}this.strip()};function T(m,i,c,l){for(var b=0,w=Math.min(m.length,c),k=i;k<w;k++){var S=m.charCodeAt(k)-48;b*=l,S>=49?b+=S-49+10:S>=17?b+=S-17+10:b+=S}return b}o.prototype._parseBase=function(i,c,l){this.words=[0],this.length=1;for(var b=0,w=1;w<=67108863;w*=c)b++;b--,w=w/c|0;for(var k=i.length-l,S=k%b,x=Math.min(k,k-S)+l,f=0,E=l;E<x;E+=b)f=T(i,E,E+b,c),this.imuln(w),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(S!==0){var ce=1;for(f=T(i,E,i.length,c),E=0;E<S;E++)ce*=c;this.imuln(ce),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this.strip()},o.prototype.copy=function(i){i.words=new Array(this.length);for(var c=0;c<this.length;c++)i.words[c]=this.words[c];i.length=this.length,i.negative=this.negative,i.red=this.red},o.prototype.clone=function(){var i=new o(null);return this.copy(i),i},o.prototype._expand=function(i){for(;this.length<i;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var A=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],O=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],$=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(i,c){i=i||10,c=c|0||1;var l;if(i===16||i==="hex"){l="";for(var b=0,w=0,k=0;k<this.length;k++){var S=this.words[k],x=((S<<b|w)&16777215).toString(16);w=S>>>24-b&16777215,w!==0||k!==this.length-1?l=A[6-x.length]+x+l:l=x+l,b+=2,b>=26&&(b-=26,k--)}for(w!==0&&(l=w.toString(16)+l);l.length%c!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(i===(i|0)&&i>=2&&i<=36){var f=O[i],E=$[i];l="";var ce=this.clone();for(ce.negative=0;!ce.isZero();){var ne=ce.modn(E).toString(i);ce=ce.idivn(E),ce.isZero()?l=ne+l:l=A[f-ne.length]+ne+l}for(this.isZero()&&(l="0"+l);l.length%c!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var i=this.words[0];return this.length===2?i+=this.words[1]*67108864:this.length===3&&this.words[2]===1?i+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-i:i},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(i,c){return n(typeof u<"u"),this.toArrayLike(u,i,c)},o.prototype.toArray=function(i,c){return this.toArrayLike(Array,i,c)},o.prototype.toArrayLike=function(i,c,l){var b=this.byteLength(),w=l||Math.max(1,b);n(b<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0"),this.strip();var k=c==="le",S=new i(w),x,f,E=this.clone();if(k){for(f=0;!E.isZero();f++)x=E.andln(255),E.iushrn(8),S[f]=x;for(;f<w;f++)S[f]=0}else{for(f=0;f<w-b;f++)S[f]=0;for(f=0;!E.isZero();f++)x=E.andln(255),E.iushrn(8),S[w-f-1]=x}return S},Math.clz32?o.prototype._countBits=function(i){return 32-Math.clz32(i)}:o.prototype._countBits=function(i){var c=i,l=0;return c>=4096&&(l+=13,c>>>=13),c>=64&&(l+=7,c>>>=7),c>=8&&(l+=4,c>>>=4),c>=2&&(l+=2,c>>>=2),l+c},o.prototype._zeroBits=function(i){if(i===0)return 26;var c=i,l=0;return c&8191||(l+=13,c>>>=13),c&127||(l+=7,c>>>=7),c&15||(l+=4,c>>>=4),c&3||(l+=2,c>>>=2),c&1||l++,l},o.prototype.bitLength=function(){var i=this.words[this.length-1],c=this._countBits(i);return(this.length-1)*26+c};function G(m){for(var i=new Array(m.bitLength()),c=0;c<i.length;c++){var l=c/26|0,b=c%26;i[c]=(m.words[l]&1<<b)>>>b}return i}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var i=0,c=0;c<this.length;c++){var l=this._zeroBits(this.words[c]);if(i+=l,l!==26)break}return i},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(i){return this.negative!==0?this.abs().inotn(i).iaddn(1):this.clone()},o.prototype.fromTwos=function(i){return this.testn(i-1)?this.notn(i).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(i){for(;this.length<i.length;)this.words[this.length++]=0;for(var c=0;c<i.length;c++)this.words[c]=this.words[c]|i.words[c];return this.strip()},o.prototype.ior=function(i){return n((this.negative|i.negative)===0),this.iuor(i)},o.prototype.or=function(i){return this.length>i.length?this.clone().ior(i):i.clone().ior(this)},o.prototype.uor=function(i){return this.length>i.length?this.clone().iuor(i):i.clone().iuor(this)},o.prototype.iuand=function(i){var c;this.length>i.length?c=i:c=this;for(var l=0;l<c.length;l++)this.words[l]=this.words[l]&i.words[l];return this.length=c.length,this.strip()},o.prototype.iand=function(i){return n((this.negative|i.negative)===0),this.iuand(i)},o.prototype.and=function(i){return this.length>i.length?this.clone().iand(i):i.clone().iand(this)},o.prototype.uand=function(i){return this.length>i.length?this.clone().iuand(i):i.clone().iuand(this)},o.prototype.iuxor=function(i){var c,l;this.length>i.length?(c=this,l=i):(c=i,l=this);for(var b=0;b<l.length;b++)this.words[b]=c.words[b]^l.words[b];if(this!==c)for(;b<c.length;b++)this.words[b]=c.words[b];return this.length=c.length,this.strip()},o.prototype.ixor=function(i){return n((this.negative|i.negative)===0),this.iuxor(i)},o.prototype.xor=function(i){return this.length>i.length?this.clone().ixor(i):i.clone().ixor(this)},o.prototype.uxor=function(i){return this.length>i.length?this.clone().iuxor(i):i.clone().iuxor(this)},o.prototype.inotn=function(i){n(typeof i=="number"&&i>=0);var c=Math.ceil(i/26)|0,l=i%26;this._expand(c),l>0&&c--;for(var b=0;b<c;b++)this.words[b]=~this.words[b]&67108863;return l>0&&(this.words[b]=~this.words[b]&67108863>>26-l),this.strip()},o.prototype.notn=function(i){return this.clone().inotn(i)},o.prototype.setn=function(i,c){n(typeof i=="number"&&i>=0);var l=i/26|0,b=i%26;return this._expand(l+1),c?this.words[l]=this.words[l]|1<<b:this.words[l]=this.words[l]&~(1<<b),this.strip()},o.prototype.iadd=function(i){var c;if(this.negative!==0&&i.negative===0)return this.negative=0,c=this.isub(i),this.negative^=1,this._normSign();if(this.negative===0&&i.negative!==0)return i.negative=0,c=this.isub(i),i.negative=1,c._normSign();var l,b;this.length>i.length?(l=this,b=i):(l=i,b=this);for(var w=0,k=0;k<b.length;k++)c=(l.words[k]|0)+(b.words[k]|0)+w,this.words[k]=c&67108863,w=c>>>26;for(;w!==0&&k<l.length;k++)c=(l.words[k]|0)+w,this.words[k]=c&67108863,w=c>>>26;if(this.length=l.length,w!==0)this.words[this.length]=w,this.length++;else if(l!==this)for(;k<l.length;k++)this.words[k]=l.words[k];return this},o.prototype.add=function(i){var c;return i.negative!==0&&this.negative===0?(i.negative=0,c=this.sub(i),i.negative^=1,c):i.negative===0&&this.negative!==0?(this.negative=0,c=i.sub(this),this.negative=1,c):this.length>i.length?this.clone().iadd(i):i.clone().iadd(this)},o.prototype.isub=function(i){if(i.negative!==0){i.negative=0;var c=this.iadd(i);return i.negative=1,c._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(i),this.negative=1,this._normSign();var l=this.cmp(i);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,w;l>0?(b=this,w=i):(b=i,w=this);for(var k=0,S=0;S<w.length;S++)c=(b.words[S]|0)-(w.words[S]|0)+k,k=c>>26,this.words[S]=c&67108863;for(;k!==0&&S<b.length;S++)c=(b.words[S]|0)+k,k=c>>26,this.words[S]=c&67108863;if(k===0&&S<b.length&&b!==this)for(;S<b.length;S++)this.words[S]=b.words[S];return this.length=Math.max(this.length,S),b!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(i){return this.clone().isub(i)};function Y(m,i,c){c.negative=i.negative^m.negative;var l=m.length+i.length|0;c.length=l,l=l-1|0;var b=m.words[0]|0,w=i.words[0]|0,k=b*w,S=k&67108863,x=k/67108864|0;c.words[0]=S;for(var f=1;f<l;f++){for(var E=x>>>26,ce=x&67108863,ne=Math.min(f,i.length-1),se=Math.max(0,f-m.length+1);se<=ne;se++){var X=f-se|0;b=m.words[X]|0,w=i.words[se]|0,k=b*w+ce,E+=k/67108864|0,ce=k&67108863}c.words[f]=ce|0,x=E|0}return x!==0?c.words[f]=x|0:c.length--,c.strip()}var he=function(i,c,l){var b=i.words,w=c.words,k=l.words,S=0,x,f,E,ce=b[0]|0,ne=ce&8191,se=ce>>>13,X=b[1]|0,Ee=X&8191,ze=X>>>13,Jt=b[2]|0,De=Jt&8191,Ue=Jt>>>13,en=b[3]|0,rt=en&8191,lt=en>>>13,Cn=b[4]|0,bt=Cn&8191,yt=Cn>>>13,tn=b[5]|0,mt=tn&8191,Ke=tn>>>13,Pr=b[6]|0,pt=Pr&8191,st=Pr>>>13,Br=b[7]|0,nt=Br&8191,at=Br>>>13,_r=b[8]|0,ft=_r&8191,ct=_r>>>13,rn=b[9]|0,xt=rn&8191,ut=rn>>>13,Or=w[0]|0,it=Or&8191,Ye=Or>>>13,cr=w[1]|0,Xe=cr&8191,ot=cr>>>13,hr=w[2]|0,Je=hr&8191,ht=hr>>>13,nn=w[3]|0,wt=nn&8191,Et=nn>>>13,Vt=w[4]|0,Ze=Vt&8191,We=Vt>>>13,Fr=w[5]|0,dt=Fr&8191,gt=Fr>>>13,Ln=w[6]|0,Se=Ln&8191,vt=Ln>>>13,h=w[7]|0,g=h&8191,p=h>>>13,a=w[8]|0,v=a&8191,I=a>>>13,B=w[9]|0,D=B&8191,j=B>>>13;l.negative=i.negative^c.negative,l.length=19,x=Math.imul(ne,it),f=Math.imul(ne,Ye),f=f+Math.imul(se,it)|0,E=Math.imul(se,Ye);var fe=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(fe>>>26)|0,fe&=67108863,x=Math.imul(Ee,it),f=Math.imul(Ee,Ye),f=f+Math.imul(ze,it)|0,E=Math.imul(ze,Ye),x=x+Math.imul(ne,Xe)|0,f=f+Math.imul(ne,ot)|0,f=f+Math.imul(se,Xe)|0,E=E+Math.imul(se,ot)|0;var Q=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(Q>>>26)|0,Q&=67108863,x=Math.imul(De,it),f=Math.imul(De,Ye),f=f+Math.imul(Ue,it)|0,E=Math.imul(Ue,Ye),x=x+Math.imul(Ee,Xe)|0,f=f+Math.imul(Ee,ot)|0,f=f+Math.imul(ze,Xe)|0,E=E+Math.imul(ze,ot)|0,x=x+Math.imul(ne,Je)|0,f=f+Math.imul(ne,ht)|0,f=f+Math.imul(se,Je)|0,E=E+Math.imul(se,ht)|0;var Ie=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,x=Math.imul(rt,it),f=Math.imul(rt,Ye),f=f+Math.imul(lt,it)|0,E=Math.imul(lt,Ye),x=x+Math.imul(De,Xe)|0,f=f+Math.imul(De,ot)|0,f=f+Math.imul(Ue,Xe)|0,E=E+Math.imul(Ue,ot)|0,x=x+Math.imul(Ee,Je)|0,f=f+Math.imul(Ee,ht)|0,f=f+Math.imul(ze,Je)|0,E=E+Math.imul(ze,ht)|0,x=x+Math.imul(ne,wt)|0,f=f+Math.imul(ne,Et)|0,f=f+Math.imul(se,wt)|0,E=E+Math.imul(se,Et)|0;var te=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(te>>>26)|0,te&=67108863,x=Math.imul(bt,it),f=Math.imul(bt,Ye),f=f+Math.imul(yt,it)|0,E=Math.imul(yt,Ye),x=x+Math.imul(rt,Xe)|0,f=f+Math.imul(rt,ot)|0,f=f+Math.imul(lt,Xe)|0,E=E+Math.imul(lt,ot)|0,x=x+Math.imul(De,Je)|0,f=f+Math.imul(De,ht)|0,f=f+Math.imul(Ue,Je)|0,E=E+Math.imul(Ue,ht)|0,x=x+Math.imul(Ee,wt)|0,f=f+Math.imul(Ee,Et)|0,f=f+Math.imul(ze,wt)|0,E=E+Math.imul(ze,Et)|0,x=x+Math.imul(ne,Ze)|0,f=f+Math.imul(ne,We)|0,f=f+Math.imul(se,Ze)|0,E=E+Math.imul(se,We)|0;var me=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(me>>>26)|0,me&=67108863,x=Math.imul(mt,it),f=Math.imul(mt,Ye),f=f+Math.imul(Ke,it)|0,E=Math.imul(Ke,Ye),x=x+Math.imul(bt,Xe)|0,f=f+Math.imul(bt,ot)|0,f=f+Math.imul(yt,Xe)|0,E=E+Math.imul(yt,ot)|0,x=x+Math.imul(rt,Je)|0,f=f+Math.imul(rt,ht)|0,f=f+Math.imul(lt,Je)|0,E=E+Math.imul(lt,ht)|0,x=x+Math.imul(De,wt)|0,f=f+Math.imul(De,Et)|0,f=f+Math.imul(Ue,wt)|0,E=E+Math.imul(Ue,Et)|0,x=x+Math.imul(Ee,Ze)|0,f=f+Math.imul(Ee,We)|0,f=f+Math.imul(ze,Ze)|0,E=E+Math.imul(ze,We)|0,x=x+Math.imul(ne,dt)|0,f=f+Math.imul(ne,gt)|0,f=f+Math.imul(se,dt)|0,E=E+Math.imul(se,gt)|0;var pe=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(pe>>>26)|0,pe&=67108863,x=Math.imul(pt,it),f=Math.imul(pt,Ye),f=f+Math.imul(st,it)|0,E=Math.imul(st,Ye),x=x+Math.imul(mt,Xe)|0,f=f+Math.imul(mt,ot)|0,f=f+Math.imul(Ke,Xe)|0,E=E+Math.imul(Ke,ot)|0,x=x+Math.imul(bt,Je)|0,f=f+Math.imul(bt,ht)|0,f=f+Math.imul(yt,Je)|0,E=E+Math.imul(yt,ht)|0,x=x+Math.imul(rt,wt)|0,f=f+Math.imul(rt,Et)|0,f=f+Math.imul(lt,wt)|0,E=E+Math.imul(lt,Et)|0,x=x+Math.imul(De,Ze)|0,f=f+Math.imul(De,We)|0,f=f+Math.imul(Ue,Ze)|0,E=E+Math.imul(Ue,We)|0,x=x+Math.imul(Ee,dt)|0,f=f+Math.imul(Ee,gt)|0,f=f+Math.imul(ze,dt)|0,E=E+Math.imul(ze,gt)|0,x=x+Math.imul(ne,Se)|0,f=f+Math.imul(ne,vt)|0,f=f+Math.imul(se,Se)|0,E=E+Math.imul(se,vt)|0;var xe=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(xe>>>26)|0,xe&=67108863,x=Math.imul(nt,it),f=Math.imul(nt,Ye),f=f+Math.imul(at,it)|0,E=Math.imul(at,Ye),x=x+Math.imul(pt,Xe)|0,f=f+Math.imul(pt,ot)|0,f=f+Math.imul(st,Xe)|0,E=E+Math.imul(st,ot)|0,x=x+Math.imul(mt,Je)|0,f=f+Math.imul(mt,ht)|0,f=f+Math.imul(Ke,Je)|0,E=E+Math.imul(Ke,ht)|0,x=x+Math.imul(bt,wt)|0,f=f+Math.imul(bt,Et)|0,f=f+Math.imul(yt,wt)|0,E=E+Math.imul(yt,Et)|0,x=x+Math.imul(rt,Ze)|0,f=f+Math.imul(rt,We)|0,f=f+Math.imul(lt,Ze)|0,E=E+Math.imul(lt,We)|0,x=x+Math.imul(De,dt)|0,f=f+Math.imul(De,gt)|0,f=f+Math.imul(Ue,dt)|0,E=E+Math.imul(Ue,gt)|0,x=x+Math.imul(Ee,Se)|0,f=f+Math.imul(Ee,vt)|0,f=f+Math.imul(ze,Se)|0,E=E+Math.imul(ze,vt)|0,x=x+Math.imul(ne,g)|0,f=f+Math.imul(ne,p)|0,f=f+Math.imul(se,g)|0,E=E+Math.imul(se,p)|0;var ye=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(ye>>>26)|0,ye&=67108863,x=Math.imul(ft,it),f=Math.imul(ft,Ye),f=f+Math.imul(ct,it)|0,E=Math.imul(ct,Ye),x=x+Math.imul(nt,Xe)|0,f=f+Math.imul(nt,ot)|0,f=f+Math.imul(at,Xe)|0,E=E+Math.imul(at,ot)|0,x=x+Math.imul(pt,Je)|0,f=f+Math.imul(pt,ht)|0,f=f+Math.imul(st,Je)|0,E=E+Math.imul(st,ht)|0,x=x+Math.imul(mt,wt)|0,f=f+Math.imul(mt,Et)|0,f=f+Math.imul(Ke,wt)|0,E=E+Math.imul(Ke,Et)|0,x=x+Math.imul(bt,Ze)|0,f=f+Math.imul(bt,We)|0,f=f+Math.imul(yt,Ze)|0,E=E+Math.imul(yt,We)|0,x=x+Math.imul(rt,dt)|0,f=f+Math.imul(rt,gt)|0,f=f+Math.imul(lt,dt)|0,E=E+Math.imul(lt,gt)|0,x=x+Math.imul(De,Se)|0,f=f+Math.imul(De,vt)|0,f=f+Math.imul(Ue,Se)|0,E=E+Math.imul(Ue,vt)|0,x=x+Math.imul(Ee,g)|0,f=f+Math.imul(Ee,p)|0,f=f+Math.imul(ze,g)|0,E=E+Math.imul(ze,p)|0,x=x+Math.imul(ne,v)|0,f=f+Math.imul(ne,I)|0,f=f+Math.imul(se,v)|0,E=E+Math.imul(se,I)|0;var ge=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(ge>>>26)|0,ge&=67108863,x=Math.imul(xt,it),f=Math.imul(xt,Ye),f=f+Math.imul(ut,it)|0,E=Math.imul(ut,Ye),x=x+Math.imul(ft,Xe)|0,f=f+Math.imul(ft,ot)|0,f=f+Math.imul(ct,Xe)|0,E=E+Math.imul(ct,ot)|0,x=x+Math.imul(nt,Je)|0,f=f+Math.imul(nt,ht)|0,f=f+Math.imul(at,Je)|0,E=E+Math.imul(at,ht)|0,x=x+Math.imul(pt,wt)|0,f=f+Math.imul(pt,Et)|0,f=f+Math.imul(st,wt)|0,E=E+Math.imul(st,Et)|0,x=x+Math.imul(mt,Ze)|0,f=f+Math.imul(mt,We)|0,f=f+Math.imul(Ke,Ze)|0,E=E+Math.imul(Ke,We)|0,x=x+Math.imul(bt,dt)|0,f=f+Math.imul(bt,gt)|0,f=f+Math.imul(yt,dt)|0,E=E+Math.imul(yt,gt)|0,x=x+Math.imul(rt,Se)|0,f=f+Math.imul(rt,vt)|0,f=f+Math.imul(lt,Se)|0,E=E+Math.imul(lt,vt)|0,x=x+Math.imul(De,g)|0,f=f+Math.imul(De,p)|0,f=f+Math.imul(Ue,g)|0,E=E+Math.imul(Ue,p)|0,x=x+Math.imul(Ee,v)|0,f=f+Math.imul(Ee,I)|0,f=f+Math.imul(ze,v)|0,E=E+Math.imul(ze,I)|0,x=x+Math.imul(ne,D)|0,f=f+Math.imul(ne,j)|0,f=f+Math.imul(se,D)|0,E=E+Math.imul(se,j)|0;var be=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(be>>>26)|0,be&=67108863,x=Math.imul(xt,Xe),f=Math.imul(xt,ot),f=f+Math.imul(ut,Xe)|0,E=Math.imul(ut,ot),x=x+Math.imul(ft,Je)|0,f=f+Math.imul(ft,ht)|0,f=f+Math.imul(ct,Je)|0,E=E+Math.imul(ct,ht)|0,x=x+Math.imul(nt,wt)|0,f=f+Math.imul(nt,Et)|0,f=f+Math.imul(at,wt)|0,E=E+Math.imul(at,Et)|0,x=x+Math.imul(pt,Ze)|0,f=f+Math.imul(pt,We)|0,f=f+Math.imul(st,Ze)|0,E=E+Math.imul(st,We)|0,x=x+Math.imul(mt,dt)|0,f=f+Math.imul(mt,gt)|0,f=f+Math.imul(Ke,dt)|0,E=E+Math.imul(Ke,gt)|0,x=x+Math.imul(bt,Se)|0,f=f+Math.imul(bt,vt)|0,f=f+Math.imul(yt,Se)|0,E=E+Math.imul(yt,vt)|0,x=x+Math.imul(rt,g)|0,f=f+Math.imul(rt,p)|0,f=f+Math.imul(lt,g)|0,E=E+Math.imul(lt,p)|0,x=x+Math.imul(De,v)|0,f=f+Math.imul(De,I)|0,f=f+Math.imul(Ue,v)|0,E=E+Math.imul(Ue,I)|0,x=x+Math.imul(Ee,D)|0,f=f+Math.imul(Ee,j)|0,f=f+Math.imul(ze,D)|0,E=E+Math.imul(ze,j)|0;var ve=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(ve>>>26)|0,ve&=67108863,x=Math.imul(xt,Je),f=Math.imul(xt,ht),f=f+Math.imul(ut,Je)|0,E=Math.imul(ut,ht),x=x+Math.imul(ft,wt)|0,f=f+Math.imul(ft,Et)|0,f=f+Math.imul(ct,wt)|0,E=E+Math.imul(ct,Et)|0,x=x+Math.imul(nt,Ze)|0,f=f+Math.imul(nt,We)|0,f=f+Math.imul(at,Ze)|0,E=E+Math.imul(at,We)|0,x=x+Math.imul(pt,dt)|0,f=f+Math.imul(pt,gt)|0,f=f+Math.imul(st,dt)|0,E=E+Math.imul(st,gt)|0,x=x+Math.imul(mt,Se)|0,f=f+Math.imul(mt,vt)|0,f=f+Math.imul(Ke,Se)|0,E=E+Math.imul(Ke,vt)|0,x=x+Math.imul(bt,g)|0,f=f+Math.imul(bt,p)|0,f=f+Math.imul(yt,g)|0,E=E+Math.imul(yt,p)|0,x=x+Math.imul(rt,v)|0,f=f+Math.imul(rt,I)|0,f=f+Math.imul(lt,v)|0,E=E+Math.imul(lt,I)|0,x=x+Math.imul(De,D)|0,f=f+Math.imul(De,j)|0,f=f+Math.imul(Ue,D)|0,E=E+Math.imul(Ue,j)|0;var ie=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(ie>>>26)|0,ie&=67108863,x=Math.imul(xt,wt),f=Math.imul(xt,Et),f=f+Math.imul(ut,wt)|0,E=Math.imul(ut,Et),x=x+Math.imul(ft,Ze)|0,f=f+Math.imul(ft,We)|0,f=f+Math.imul(ct,Ze)|0,E=E+Math.imul(ct,We)|0,x=x+Math.imul(nt,dt)|0,f=f+Math.imul(nt,gt)|0,f=f+Math.imul(at,dt)|0,E=E+Math.imul(at,gt)|0,x=x+Math.imul(pt,Se)|0,f=f+Math.imul(pt,vt)|0,f=f+Math.imul(st,Se)|0,E=E+Math.imul(st,vt)|0,x=x+Math.imul(mt,g)|0,f=f+Math.imul(mt,p)|0,f=f+Math.imul(Ke,g)|0,E=E+Math.imul(Ke,p)|0,x=x+Math.imul(bt,v)|0,f=f+Math.imul(bt,I)|0,f=f+Math.imul(yt,v)|0,E=E+Math.imul(yt,I)|0,x=x+Math.imul(rt,D)|0,f=f+Math.imul(rt,j)|0,f=f+Math.imul(lt,D)|0,E=E+Math.imul(lt,j)|0;var ue=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(ue>>>26)|0,ue&=67108863,x=Math.imul(xt,Ze),f=Math.imul(xt,We),f=f+Math.imul(ut,Ze)|0,E=Math.imul(ut,We),x=x+Math.imul(ft,dt)|0,f=f+Math.imul(ft,gt)|0,f=f+Math.imul(ct,dt)|0,E=E+Math.imul(ct,gt)|0,x=x+Math.imul(nt,Se)|0,f=f+Math.imul(nt,vt)|0,f=f+Math.imul(at,Se)|0,E=E+Math.imul(at,vt)|0,x=x+Math.imul(pt,g)|0,f=f+Math.imul(pt,p)|0,f=f+Math.imul(st,g)|0,E=E+Math.imul(st,p)|0,x=x+Math.imul(mt,v)|0,f=f+Math.imul(mt,I)|0,f=f+Math.imul(Ke,v)|0,E=E+Math.imul(Ke,I)|0,x=x+Math.imul(bt,D)|0,f=f+Math.imul(bt,j)|0,f=f+Math.imul(yt,D)|0,E=E+Math.imul(yt,j)|0;var ee=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(ee>>>26)|0,ee&=67108863,x=Math.imul(xt,dt),f=Math.imul(xt,gt),f=f+Math.imul(ut,dt)|0,E=Math.imul(ut,gt),x=x+Math.imul(ft,Se)|0,f=f+Math.imul(ft,vt)|0,f=f+Math.imul(ct,Se)|0,E=E+Math.imul(ct,vt)|0,x=x+Math.imul(nt,g)|0,f=f+Math.imul(nt,p)|0,f=f+Math.imul(at,g)|0,E=E+Math.imul(at,p)|0,x=x+Math.imul(pt,v)|0,f=f+Math.imul(pt,I)|0,f=f+Math.imul(st,v)|0,E=E+Math.imul(st,I)|0,x=x+Math.imul(mt,D)|0,f=f+Math.imul(mt,j)|0,f=f+Math.imul(Ke,D)|0,E=E+Math.imul(Ke,j)|0;var oe=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(oe>>>26)|0,oe&=67108863,x=Math.imul(xt,Se),f=Math.imul(xt,vt),f=f+Math.imul(ut,Se)|0,E=Math.imul(ut,vt),x=x+Math.imul(ft,g)|0,f=f+Math.imul(ft,p)|0,f=f+Math.imul(ct,g)|0,E=E+Math.imul(ct,p)|0,x=x+Math.imul(nt,v)|0,f=f+Math.imul(nt,I)|0,f=f+Math.imul(at,v)|0,E=E+Math.imul(at,I)|0,x=x+Math.imul(pt,D)|0,f=f+Math.imul(pt,j)|0,f=f+Math.imul(st,D)|0,E=E+Math.imul(st,j)|0;var ae=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(ae>>>26)|0,ae&=67108863,x=Math.imul(xt,g),f=Math.imul(xt,p),f=f+Math.imul(ut,g)|0,E=Math.imul(ut,p),x=x+Math.imul(ft,v)|0,f=f+Math.imul(ft,I)|0,f=f+Math.imul(ct,v)|0,E=E+Math.imul(ct,I)|0,x=x+Math.imul(nt,D)|0,f=f+Math.imul(nt,j)|0,f=f+Math.imul(at,D)|0,E=E+Math.imul(at,j)|0;var J=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(J>>>26)|0,J&=67108863,x=Math.imul(xt,v),f=Math.imul(xt,I),f=f+Math.imul(ut,v)|0,E=Math.imul(ut,I),x=x+Math.imul(ft,D)|0,f=f+Math.imul(ft,j)|0,f=f+Math.imul(ct,D)|0,E=E+Math.imul(ct,j)|0;var L=(S+x|0)+((f&8191)<<13)|0;S=(E+(f>>>13)|0)+(L>>>26)|0,L&=67108863,x=Math.imul(xt,D),f=Math.imul(xt,j),f=f+Math.imul(ut,D)|0,E=Math.imul(ut,j);var H=(S+x|0)+((f&8191)<<13)|0;return S=(E+(f>>>13)|0)+(H>>>26)|0,H&=67108863,k[0]=fe,k[1]=Q,k[2]=Ie,k[3]=te,k[4]=me,k[5]=pe,k[6]=xe,k[7]=ye,k[8]=ge,k[9]=be,k[10]=ve,k[11]=ie,k[12]=ue,k[13]=ee,k[14]=oe,k[15]=ae,k[16]=J,k[17]=L,k[18]=H,S!==0&&(k[19]=S,l.length++),l};Math.imul||(he=Y);function de(m,i,c){c.negative=i.negative^m.negative,c.length=m.length+i.length;for(var l=0,b=0,w=0;w<c.length-1;w++){var k=b;b=0;for(var S=l&67108863,x=Math.min(w,i.length-1),f=Math.max(0,w-m.length+1);f<=x;f++){var E=w-f,ce=m.words[E]|0,ne=i.words[f]|0,se=ce*ne,X=se&67108863;k=k+(se/67108864|0)|0,X=X+S|0,S=X&67108863,k=k+(X>>>26)|0,b+=k>>>26,k&=67108863}c.words[w]=S,l=k,k=b}return l!==0?c.words[w]=l:c.length--,c.strip()}function re(m,i,c){var l=new we;return l.mulp(m,i,c)}o.prototype.mulTo=function(i,c){var l,b=this.length+i.length;return this.length===10&&i.length===10?l=he(this,i,c):b<63?l=Y(this,i,c):b<1024?l=de(this,i,c):l=re(this,i,c),l};function we(m,i){this.x=m,this.y=i}we.prototype.makeRBT=function(i){for(var c=new Array(i),l=o.prototype._countBits(i)-1,b=0;b<i;b++)c[b]=this.revBin(b,l,i);return c},we.prototype.revBin=function(i,c,l){if(i===0||i===l-1)return i;for(var b=0,w=0;w<c;w++)b|=(i&1)<<c-w-1,i>>=1;return b},we.prototype.permute=function(i,c,l,b,w,k){for(var S=0;S<k;S++)b[S]=c[i[S]],w[S]=l[i[S]]},we.prototype.transform=function(i,c,l,b,w,k){this.permute(k,i,c,l,b,w);for(var S=1;S<w;S<<=1)for(var x=S<<1,f=Math.cos(2*Math.PI/x),E=Math.sin(2*Math.PI/x),ce=0;ce<w;ce+=x)for(var ne=f,se=E,X=0;X<S;X++){var Ee=l[ce+X],ze=b[ce+X],Jt=l[ce+X+S],De=b[ce+X+S],Ue=ne*Jt-se*De;De=ne*De+se*Jt,Jt=Ue,l[ce+X]=Ee+Jt,b[ce+X]=ze+De,l[ce+X+S]=Ee-Jt,b[ce+X+S]=ze-De,X!==x&&(Ue=f*ne-E*se,se=f*se+E*ne,ne=Ue)}},we.prototype.guessLen13b=function(i,c){var l=Math.max(c,i)|1,b=l&1,w=0;for(l=l/2|0;l;l=l>>>1)w++;return 1<<w+1+b},we.prototype.conjugate=function(i,c,l){if(!(l<=1))for(var b=0;b<l/2;b++){var w=i[b];i[b]=i[l-b-1],i[l-b-1]=w,w=c[b],c[b]=-c[l-b-1],c[l-b-1]=-w}},we.prototype.normalize13b=function(i,c){for(var l=0,b=0;b<c/2;b++){var w=Math.round(i[2*b+1]/c)*8192+Math.round(i[2*b]/c)+l;i[b]=w&67108863,w<67108864?l=0:l=w/67108864|0}return i},we.prototype.convert13b=function(i,c,l,b){for(var w=0,k=0;k<c;k++)w=w+(i[k]|0),l[2*k]=w&8191,w=w>>>13,l[2*k+1]=w&8191,w=w>>>13;for(k=2*c;k<b;++k)l[k]=0;n(w===0),n((w&-8192)===0)},we.prototype.stub=function(i){for(var c=new Array(i),l=0;l<i;l++)c[l]=0;return c},we.prototype.mulp=function(i,c,l){var b=2*this.guessLen13b(i.length,c.length),w=this.makeRBT(b),k=this.stub(b),S=new Array(b),x=new Array(b),f=new Array(b),E=new Array(b),ce=new Array(b),ne=new Array(b),se=l.words;se.length=b,this.convert13b(i.words,i.length,S,b),this.convert13b(c.words,c.length,E,b),this.transform(S,k,x,f,b,w),this.transform(E,k,ce,ne,b,w);for(var X=0;X<b;X++){var Ee=x[X]*ce[X]-f[X]*ne[X];f[X]=x[X]*ne[X]+f[X]*ce[X],x[X]=Ee}return this.conjugate(x,f,b),this.transform(x,f,se,k,b,w),this.conjugate(se,k,b),this.normalize13b(se,b),l.negative=i.negative^c.negative,l.length=i.length+c.length,l.strip()},o.prototype.mul=function(i){var c=new o(null);return c.words=new Array(this.length+i.length),this.mulTo(i,c)},o.prototype.mulf=function(i){var c=new o(null);return c.words=new Array(this.length+i.length),re(this,i,c)},o.prototype.imul=function(i){return this.clone().mulTo(i,this)},o.prototype.imuln=function(i){n(typeof i=="number"),n(i<67108864);for(var c=0,l=0;l<this.length;l++){var b=(this.words[l]|0)*i,w=(b&67108863)+(c&67108863);c>>=26,c+=b/67108864|0,c+=w>>>26,this.words[l]=w&67108863}return c!==0&&(this.words[l]=c,this.length++),this},o.prototype.muln=function(i){return this.clone().imuln(i)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(i){var c=G(i);if(c.length===0)return new o(1);for(var l=this,b=0;b<c.length&&c[b]===0;b++,l=l.sqr());if(++b<c.length)for(var w=l.sqr();b<c.length;b++,w=w.sqr())c[b]!==0&&(l=l.mul(w));return l},o.prototype.iushln=function(i){n(typeof i=="number"&&i>=0);var c=i%26,l=(i-c)/26,b=67108863>>>26-c<<26-c,w;if(c!==0){var k=0;for(w=0;w<this.length;w++){var S=this.words[w]&b,x=(this.words[w]|0)-S<<c;this.words[w]=x|k,k=S>>>26-c}k&&(this.words[w]=k,this.length++)}if(l!==0){for(w=this.length-1;w>=0;w--)this.words[w+l]=this.words[w];for(w=0;w<l;w++)this.words[w]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(i){return n(this.negative===0),this.iushln(i)},o.prototype.iushrn=function(i,c,l){n(typeof i=="number"&&i>=0);var b;c?b=(c-c%26)/26:b=0;var w=i%26,k=Math.min((i-w)/26,this.length),S=67108863^67108863>>>w<<w,x=l;if(b-=k,b=Math.max(0,b),x){for(var f=0;f<k;f++)x.words[f]=this.words[f];x.length=k}if(k!==0)if(this.length>k)for(this.length-=k,f=0;f<this.length;f++)this.words[f]=this.words[f+k];else this.words[0]=0,this.length=1;var E=0;for(f=this.length-1;f>=0&&(E!==0||f>=b);f--){var ce=this.words[f]|0;this.words[f]=E<<26-w|ce>>>w,E=ce&S}return x&&E!==0&&(x.words[x.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(i,c,l){return n(this.negative===0),this.iushrn(i,c,l)},o.prototype.shln=function(i){return this.clone().ishln(i)},o.prototype.ushln=function(i){return this.clone().iushln(i)},o.prototype.shrn=function(i){return this.clone().ishrn(i)},o.prototype.ushrn=function(i){return this.clone().iushrn(i)},o.prototype.testn=function(i){n(typeof i=="number"&&i>=0);var c=i%26,l=(i-c)/26,b=1<<c;if(this.length<=l)return!1;var w=this.words[l];return!!(w&b)},o.prototype.imaskn=function(i){n(typeof i=="number"&&i>=0);var c=i%26,l=(i-c)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(c!==0&&l++,this.length=Math.min(l,this.length),c!==0){var b=67108863^67108863>>>c<<c;this.words[this.length-1]&=b}return this.strip()},o.prototype.maskn=function(i){return this.clone().imaskn(i)},o.prototype.iaddn=function(i){return n(typeof i=="number"),n(i<67108864),i<0?this.isubn(-i):this.negative!==0?this.length===1&&(this.words[0]|0)<i?(this.words[0]=i-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(i),this.negative=1,this):this._iaddn(i)},o.prototype._iaddn=function(i){this.words[0]+=i;for(var c=0;c<this.length&&this.words[c]>=67108864;c++)this.words[c]-=67108864,c===this.length-1?this.words[c+1]=1:this.words[c+1]++;return this.length=Math.max(this.length,c+1),this},o.prototype.isubn=function(i){if(n(typeof i=="number"),n(i<67108864),i<0)return this.iaddn(-i);if(this.negative!==0)return this.negative=0,this.iaddn(i),this.negative=1,this;if(this.words[0]-=i,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var c=0;c<this.length&&this.words[c]<0;c++)this.words[c]+=67108864,this.words[c+1]-=1;return this.strip()},o.prototype.addn=function(i){return this.clone().iaddn(i)},o.prototype.subn=function(i){return this.clone().isubn(i)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(i,c,l){var b=i.length+l,w;this._expand(b);var k,S=0;for(w=0;w<i.length;w++){k=(this.words[w+l]|0)+S;var x=(i.words[w]|0)*c;k-=x&67108863,S=(k>>26)-(x/67108864|0),this.words[w+l]=k&67108863}for(;w<this.length-l;w++)k=(this.words[w+l]|0)+S,S=k>>26,this.words[w+l]=k&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,w=0;w<this.length;w++)k=-(this.words[w]|0)+S,S=k>>26,this.words[w]=k&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(i,c){var l=this.length-i.length,b=this.clone(),w=i,k=w.words[w.length-1]|0,S=this._countBits(k);l=26-S,l!==0&&(w=w.ushln(l),b.iushln(l),k=w.words[w.length-1]|0);var x=b.length-w.length,f;if(c!=="mod"){f=new o(null),f.length=x+1,f.words=new Array(f.length);for(var E=0;E<f.length;E++)f.words[E]=0}var ce=b.clone()._ishlnsubmul(w,1,x);ce.negative===0&&(b=ce,f&&(f.words[x]=1));for(var ne=x-1;ne>=0;ne--){var se=(b.words[w.length+ne]|0)*67108864+(b.words[w.length+ne-1]|0);for(se=Math.min(se/k|0,67108863),b._ishlnsubmul(w,se,ne);b.negative!==0;)se--,b.negative=0,b._ishlnsubmul(w,1,ne),b.isZero()||(b.negative^=1);f&&(f.words[ne]=se)}return f&&f.strip(),b.strip(),c!=="div"&&l!==0&&b.iushrn(l),{div:f||null,mod:b}},o.prototype.divmod=function(i,c,l){if(n(!i.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var b,w,k;return this.negative!==0&&i.negative===0?(k=this.neg().divmod(i,c),c!=="mod"&&(b=k.div.neg()),c!=="div"&&(w=k.mod.neg(),l&&w.negative!==0&&w.iadd(i)),{div:b,mod:w}):this.negative===0&&i.negative!==0?(k=this.divmod(i.neg(),c),c!=="mod"&&(b=k.div.neg()),{div:b,mod:k.mod}):this.negative&i.negative?(k=this.neg().divmod(i.neg(),c),c!=="div"&&(w=k.mod.neg(),l&&w.negative!==0&&w.isub(i)),{div:k.div,mod:w}):i.length>this.length||this.cmp(i)<0?{div:new o(0),mod:this}:i.length===1?c==="div"?{div:this.divn(i.words[0]),mod:null}:c==="mod"?{div:null,mod:new o(this.modn(i.words[0]))}:{div:this.divn(i.words[0]),mod:new o(this.modn(i.words[0]))}:this._wordDiv(i,c)},o.prototype.div=function(i){return this.divmod(i,"div",!1).div},o.prototype.mod=function(i){return this.divmod(i,"mod",!1).mod},o.prototype.umod=function(i){return this.divmod(i,"mod",!0).mod},o.prototype.divRound=function(i){var c=this.divmod(i);if(c.mod.isZero())return c.div;var l=c.div.negative!==0?c.mod.isub(i):c.mod,b=i.ushrn(1),w=i.andln(1),k=l.cmp(b);return k<0||w===1&&k===0?c.div:c.div.negative!==0?c.div.isubn(1):c.div.iaddn(1)},o.prototype.modn=function(i){n(i<=67108863);for(var c=(1<<26)%i,l=0,b=this.length-1;b>=0;b--)l=(c*l+(this.words[b]|0))%i;return l},o.prototype.idivn=function(i){n(i<=67108863);for(var c=0,l=this.length-1;l>=0;l--){var b=(this.words[l]|0)+c*67108864;this.words[l]=b/i|0,c=b%i}return this.strip()},o.prototype.divn=function(i){return this.clone().idivn(i)},o.prototype.egcd=function(i){n(i.negative===0),n(!i.isZero());var c=this,l=i.clone();c.negative!==0?c=c.umod(i):c=c.clone();for(var b=new o(1),w=new o(0),k=new o(0),S=new o(1),x=0;c.isEven()&&l.isEven();)c.iushrn(1),l.iushrn(1),++x;for(var f=l.clone(),E=c.clone();!c.isZero();){for(var ce=0,ne=1;!(c.words[0]&ne)&&ce<26;++ce,ne<<=1);if(ce>0)for(c.iushrn(ce);ce-- >0;)(b.isOdd()||w.isOdd())&&(b.iadd(f),w.isub(E)),b.iushrn(1),w.iushrn(1);for(var se=0,X=1;!(l.words[0]&X)&&se<26;++se,X<<=1);if(se>0)for(l.iushrn(se);se-- >0;)(k.isOdd()||S.isOdd())&&(k.iadd(f),S.isub(E)),k.iushrn(1),S.iushrn(1);c.cmp(l)>=0?(c.isub(l),b.isub(k),w.isub(S)):(l.isub(c),k.isub(b),S.isub(w))}return{a:k,b:S,gcd:l.iushln(x)}},o.prototype._invmp=function(i){n(i.negative===0),n(!i.isZero());var c=this,l=i.clone();c.negative!==0?c=c.umod(i):c=c.clone();for(var b=new o(1),w=new o(0),k=l.clone();c.cmpn(1)>0&&l.cmpn(1)>0;){for(var S=0,x=1;!(c.words[0]&x)&&S<26;++S,x<<=1);if(S>0)for(c.iushrn(S);S-- >0;)b.isOdd()&&b.iadd(k),b.iushrn(1);for(var f=0,E=1;!(l.words[0]&E)&&f<26;++f,E<<=1);if(f>0)for(l.iushrn(f);f-- >0;)w.isOdd()&&w.iadd(k),w.iushrn(1);c.cmp(l)>=0?(c.isub(l),b.isub(w)):(l.isub(c),w.isub(b))}var ce;return c.cmpn(1)===0?ce=b:ce=w,ce.cmpn(0)<0&&ce.iadd(i),ce},o.prototype.gcd=function(i){if(this.isZero())return i.abs();if(i.isZero())return this.abs();var c=this.clone(),l=i.clone();c.negative=0,l.negative=0;for(var b=0;c.isEven()&&l.isEven();b++)c.iushrn(1),l.iushrn(1);do{for(;c.isEven();)c.iushrn(1);for(;l.isEven();)l.iushrn(1);var w=c.cmp(l);if(w<0){var k=c;c=l,l=k}else if(w===0||l.cmpn(1)===0)break;c.isub(l)}while(!0);return l.iushln(b)},o.prototype.invm=function(i){return this.egcd(i).a.umod(i)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(i){return this.words[0]&i},o.prototype.bincn=function(i){n(typeof i=="number");var c=i%26,l=(i-c)/26,b=1<<c;if(this.length<=l)return this._expand(l+1),this.words[l]|=b,this;for(var w=b,k=l;w!==0&&k<this.length;k++){var S=this.words[k]|0;S+=w,w=S>>>26,S&=67108863,this.words[k]=S}return w!==0&&(this.words[k]=w,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(i){var c=i<0;if(this.negative!==0&&!c)return-1;if(this.negative===0&&c)return 1;this.strip();var l;if(this.length>1)l=1;else{c&&(i=-i),n(i<=67108863,"Number is too big");var b=this.words[0]|0;l=b===i?0:b<i?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(i){if(this.negative!==0&&i.negative===0)return-1;if(this.negative===0&&i.negative!==0)return 1;var c=this.ucmp(i);return this.negative!==0?-c|0:c},o.prototype.ucmp=function(i){if(this.length>i.length)return 1;if(this.length<i.length)return-1;for(var c=0,l=this.length-1;l>=0;l--){var b=this.words[l]|0,w=i.words[l]|0;if(b!==w){b<w?c=-1:b>w&&(c=1);break}}return c},o.prototype.gtn=function(i){return this.cmpn(i)===1},o.prototype.gt=function(i){return this.cmp(i)===1},o.prototype.gten=function(i){return this.cmpn(i)>=0},o.prototype.gte=function(i){return this.cmp(i)>=0},o.prototype.ltn=function(i){return this.cmpn(i)===-1},o.prototype.lt=function(i){return this.cmp(i)===-1},o.prototype.lten=function(i){return this.cmpn(i)<=0},o.prototype.lte=function(i){return this.cmp(i)<=0},o.prototype.eqn=function(i){return this.cmpn(i)===0},o.prototype.eq=function(i){return this.cmp(i)===0},o.red=function(i){return new F(i)},o.prototype.toRed=function(i){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),i.convertTo(this)._forceRed(i)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(i){return this.red=i,this},o.prototype.forceRed=function(i){return n(!this.red,"Already a number in reduction context"),this._forceRed(i)},o.prototype.redAdd=function(i){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,i)},o.prototype.redIAdd=function(i){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,i)},o.prototype.redSub=function(i){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,i)},o.prototype.redISub=function(i){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,i)},o.prototype.redShl=function(i){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,i)},o.prototype.redMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.mul(this,i)},o.prototype.redIMul=function(i){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,i),this.red.imul(this,i)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(i){return n(this.red&&!i.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,i)};var W={k256:null,p224:null,p192:null,p25519:null};function _(m,i){this.name=m,this.p=new o(i,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}_.prototype._tmp=function(){var i=new o(null);return i.words=new Array(Math.ceil(this.n/13)),i},_.prototype.ireduce=function(i){var c=i,l;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),l=c.bitLength();while(l>this.n);var b=l<this.n?-1:c.ucmp(this.p);return b===0?(c.words[0]=0,c.length=1):b>0?c.isub(this.p):c.strip!==void 0?c.strip():c._strip(),c},_.prototype.split=function(i,c){i.iushrn(this.n,0,c)},_.prototype.imulK=function(i){return i.imul(this.k)};function C(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(C,_),C.prototype.split=function(i,c){for(var l=4194303,b=Math.min(i.length,9),w=0;w<b;w++)c.words[w]=i.words[w];if(c.length=b,i.length<=9){i.words[0]=0,i.length=1;return}var k=i.words[9];for(c.words[c.length++]=k&l,w=10;w<i.length;w++){var S=i.words[w]|0;i.words[w-10]=(S&l)<<4|k>>>22,k=S}k>>>=22,i.words[w-10]=k,k===0&&i.length>10?i.length-=10:i.length-=9},C.prototype.imulK=function(i){i.words[i.length]=0,i.words[i.length+1]=0,i.length+=2;for(var c=0,l=0;l<i.length;l++){var b=i.words[l]|0;c+=b*977,i.words[l]=c&67108863,c=b*64+(c/67108864|0)}return i.words[i.length-1]===0&&(i.length--,i.words[i.length-1]===0&&i.length--),i};function R(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(R,_);function q(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(q,_);function N(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(N,_),N.prototype.imulK=function(i){for(var c=0,l=0;l<i.length;l++){var b=(i.words[l]|0)*19+c,w=b&67108863;b>>>=26,i.words[l]=w,c=b}return c!==0&&(i.words[i.length++]=c),i},o._prime=function(i){if(W[i])return W[i];var c;if(i==="k256")c=new C;else if(i==="p224")c=new R;else if(i==="p192")c=new q;else if(i==="p25519")c=new N;else throw new Error("Unknown prime "+i);return W[i]=c,c};function F(m){if(typeof m=="string"){var i=o._prime(m);this.m=i.p,this.prime=i}else n(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}F.prototype._verify1=function(i){n(i.negative===0,"red works only with positives"),n(i.red,"red works only with red numbers")},F.prototype._verify2=function(i,c){n((i.negative|c.negative)===0,"red works only with positives"),n(i.red&&i.red===c.red,"red works only with red numbers")},F.prototype.imod=function(i){return this.prime?this.prime.ireduce(i)._forceRed(this):i.umod(this.m)._forceRed(this)},F.prototype.neg=function(i){return i.isZero()?i.clone():this.m.sub(i)._forceRed(this)},F.prototype.add=function(i,c){this._verify2(i,c);var l=i.add(c);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},F.prototype.iadd=function(i,c){this._verify2(i,c);var l=i.iadd(c);return l.cmp(this.m)>=0&&l.isub(this.m),l},F.prototype.sub=function(i,c){this._verify2(i,c);var l=i.sub(c);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},F.prototype.isub=function(i,c){this._verify2(i,c);var l=i.isub(c);return l.cmpn(0)<0&&l.iadd(this.m),l},F.prototype.shl=function(i,c){return this._verify1(i),this.imod(i.ushln(c))},F.prototype.imul=function(i,c){return this._verify2(i,c),this.imod(i.imul(c))},F.prototype.mul=function(i,c){return this._verify2(i,c),this.imod(i.mul(c))},F.prototype.isqr=function(i){return this.imul(i,i.clone())},F.prototype.sqr=function(i){return this.mul(i,i)},F.prototype.sqrt=function(i){if(i.isZero())return i.clone();var c=this.m.andln(3);if(n(c%2===1),c===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(i,l)}for(var b=this.m.subn(1),w=0;!b.isZero()&&b.andln(1)===0;)w++,b.iushrn(1);n(!b.isZero());var k=new o(1).toRed(this),S=k.redNeg(),x=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);this.pow(f,x).cmp(S)!==0;)f.redIAdd(S);for(var E=this.pow(f,b),ce=this.pow(i,b.addn(1).iushrn(1)),ne=this.pow(i,b),se=w;ne.cmp(k)!==0;){for(var X=ne,Ee=0;X.cmp(k)!==0;Ee++)X=X.redSqr();n(Ee<se);var ze=this.pow(E,new o(1).iushln(se-Ee-1));ce=ce.redMul(ze),E=ze.redSqr(),ne=ne.redMul(E),se=Ee}return ce},F.prototype.invm=function(i){var c=i._invmp(this.m);return c.negative!==0?(c.negative=0,this.imod(c).redNeg()):this.imod(c)},F.prototype.pow=function(i,c){if(c.isZero())return new o(1).toRed(this);if(c.cmpn(1)===0)return i.clone();var l=4,b=new Array(1<<l);b[0]=new o(1).toRed(this),b[1]=i;for(var w=2;w<b.length;w++)b[w]=this.mul(b[w-1],i);var k=b[0],S=0,x=0,f=c.bitLength()%26;for(f===0&&(f=26),w=c.length-1;w>=0;w--){for(var E=c.words[w],ce=f-1;ce>=0;ce--){var ne=E>>ce&1;if(k!==b[0]&&(k=this.sqr(k)),ne===0&&S===0){x=0;continue}S<<=1,S|=ne,x++,!(x!==l&&(w!==0||ce!==0))&&(k=this.mul(k,b[S]),x=0,S=0)}f=26}return k},F.prototype.convertTo=function(i){var c=i.umod(this.m);return c===i?c.clone():c},F.prototype.convertFrom=function(i){var c=i.clone();return c.red=null,c},o.mont=function(i){return new M(i)};function M(m){F.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(M,F),M.prototype.convertTo=function(i){return this.imod(i.ushln(this.shift))},M.prototype.convertFrom=function(i){var c=this.imod(i.mul(this.rinv));return c.red=null,c},M.prototype.imul=function(i,c){if(i.isZero()||c.isZero())return i.words[0]=0,i.length=1,i;var l=i.imul(c),b=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(b).iushrn(this.shift),k=w;return w.cmp(this.m)>=0?k=w.isub(this.m):w.cmpn(0)<0&&(k=w.iadd(this.m)),k._forceRed(this)},M.prototype.mul=function(i,c){if(i.isZero()||c.isZero())return new o(0)._forceRed(this);var l=i.mul(c),b=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=l.isub(b).iushrn(this.shift),k=w;return w.cmp(this.m)>=0?k=w.isub(this.m):w.cmpn(0)<0&&(k=w.iadd(this.m)),k._forceRed(this)},M.prototype.invm=function(i){var c=this.imod(i._invmp(this.m).mul(this.r2));return c._forceRed(this)}})(r,tt)})(R1);var z1=tt&&tt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yr,"__esModule",{value:!0});yr.rawEncode=yr.parseNumber=yr.solidityPack=void 0;const vr=Ve,U1=qi,Mr=z1(Si),Ts=It;function j1(r,e){if(r.length!==e.length)throw new Error("Number of types are not matching the values");const t=[];for(let n=0;n<r.length;n++){const s=Ms(r[n]),o=e[n];t.push(As(s,o,null))}return V.concat(t)}yr.solidityPack=j1;function Wn(r){return r.lastIndexOf("]")===r.length-1}function hi(r){const e=r.match(/(.*)\[(.*?)\]$/u);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Wr(r){return parseInt(/^\D+(\d+)$/u.exec(r)[1],10)}function gr(r){const e=typeof r;if(e==="string")return(0,vr.isHexPrefixed)(r)?new Mr.default((0,U1.stripHexPrefix)(r),16):new Mr.default(r,10);if(e==="number")return new Mr.default(r);if(r.toArray)return r;throw new Error("Argument is not a number")}yr.parseNumber=gr;function As(r,e,t){let n,s;if(Wn(r)){const o=r.replace(/\[.*?\]/u,"");if(!Wn(o)){const d=hi(r);if(d!=="dynamic"&&d!==0&&e.length>d)throw new Error(`Elements exceed array size: ${d}`)}const u=e.map(function(d){return As(o,d,256)});return V.concat(u)}else{if(r==="bytes")return e;if(r==="string")return V.from(e,"utf8");if(r==="bool"){t=t||8;const o=Array(t/4).join("0");return V.from(e?`${o}1`:`${o}0`,"hex")}else if(r==="address"){let o=20;return t&&(o=t/8),(0,vr.setLengthLeft)((0,vr.toBuffer)(e),o)}else if(r.startsWith("bytes")){if(n=Wr(r),n<1||n>32)throw new Error(`Invalid bytes<N> width: ${n}`);return typeof e=="number"&&(e=(0,Ts.normalize)(e)),(0,vr.setLengthRight)((0,vr.toBuffer)(e),n)}else if(r.startsWith("uint")){if(n=Wr(r),n%8||n<8||n>256)throw new Error(`Invalid uint<N> width: ${n}`);if(s=gr(e),s.bitLength()>n)throw new Error(`Supplied uint exceeds width: ${n} vs ${s.bitLength()}`);return t=t||n,s.toArrayLike(V,"be",t/8)}else if(r.startsWith("int")){if(n=Wr(r),n%8||n<8||n>256)throw new Error(`Invalid int<N> width: ${n}`);if(s=gr(e),s.bitLength()>n)throw new Error(`Supplied int exceeds width: ${n} vs ${s.bitLength()}`);return t=t||n,s.toTwos(n).toArrayLike(V,"be",t/8)}}throw new Error(`Unsupported or invalid type: ${r}`)}function Ms(r){return r.startsWith("int[")?`int256${r.slice(3)}`:r==="int"?"int256":r.startsWith("uint[")?`uint256${r.slice(4)}`:r==="uint"?"uint256":r.startsWith("fixed[")?`fixed128x128${r.slice(5)}`:r==="fixed"?"fixed128x128":r.startsWith("ufixed[")?`ufixed128x128${r.slice(6)}`:r==="ufixed"?"ufixed128x128":r}function q1(r,e){const t=[],n=[];let s=0;r.forEach(function(o){if(Wn(o)){const u=hi(o);u!=="dynamic"?s+=32*u:s+=32}else s+=32});for(let o=0;o<r.length;o++){const u=Ms(r[o]),d=e[o],y=ir(u,d);V1(u)?(t.push(ir("uint256",s)),n.push(y),s+=y.length):t.push(y)}return V.concat(t.concat(n))}yr.rawEncode=q1;function ir(r,e){let t,n,s,o;if(r==="address")return ir("uint160",gr(e));if(r==="bool")return ir("uint8",e?1:0);if(r==="string")return ir("bytes",V.from(e,"utf8"));if(Wn(r)){if(typeof e.length>"u")throw new Error("Not an array?");if(t=hi(r),t!=="dynamic"&&t!==0&&e.length>t)throw new Error(`Elements exceed array size: ${t}`);s=[],r=r.slice(0,r.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.push(ir(r,e[o]));if(t==="dynamic"){const u=ir("uint256",e.length);s.unshift(u)}return V.concat(s)}else{if(r==="bytes")return e=V.from(e),s=V.concat([ir("uint256",e.length),e]),e.length%32!==0&&(s=V.concat([s,(0,vr.zeros)(32-e.length%32)])),s;if(r.startsWith("bytes")){if(t=Wr(r),t<1||t>32)throw new Error(`Invalid bytes<N> width: ${t}`);return typeof e=="number"&&(e=(0,Ts.normalize)(e)),(0,vr.setLengthRight)((0,vr.toBuffer)(e),32)}else if(r.startsWith("uint")){if(t=Wr(r),t%8||t<8||t>256)throw new Error(`Invalid uint<N> width: ${t}`);if(n=gr(e),n.bitLength()>t)throw new Error(`Supplied uint exceeds width: ${t} vs ${n.bitLength()}`);if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(V,"be",32)}else if(r.startsWith("int")){if(t=Wr(r),t%8||t<8||t>256)throw new Error(`Invalid int<N> width: ${t}`);if(n=gr(e),n.bitLength()>t)throw new Error(`Supplied int exceeds width: ${t} vs ${n.bitLength()}`);return n.toTwos(256).toArrayLike(V,"be",32)}else if(r.startsWith("ufixed")){if(t=bo(r),n=gr(e),n<0)throw new Error("Supplied ufixed is negative");return ir("uint256",n.mul(new Mr.default(2).pow(new Mr.default(t[1]))))}else if(r.startsWith("fixed"))return t=bo(r),ir("int256",gr(e).mul(new Mr.default(2).pow(new Mr.default(t[1]))))}throw new Error(`Unsupported or invalid type: ${r}`)}function V1(r){return r==="string"||r==="bytes"||hi(r)==="dynamic"}function bo(r){const e=/^\D+(\d+)x(\d+)$/u.exec(r);return[parseInt(e[1],10),parseInt(e[2],10)]}(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.recoverTypedSignature=r.signTypedData=r.typedSignatureHash=r.TypedDataUtils=r.TYPED_MESSAGE_SCHEMA=r.SignTypedDataVersion=void 0;const e=qi,t=Ve,n=sr,s=yr,o=It;var u;(function(_){_.V1="V1",_.V3="V3",_.V4="V4"})(u=r.SignTypedDataVersion||(r.SignTypedDataVersion={})),r.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function d(_,C){if(Object.keys(u).includes(_)){if(C&&!C.includes(_))throw new Error(`SignTypedDataVersion not allowed: '${_}'. Allowed versions are: ${C.join(", ")}`)}else throw new Error(`Invalid version: '${_}'`)}function y(_,C,R,q,N){if(d(N,[u.V3,u.V4]),_[R]!==void 0)return["bytes32",N===u.V4&&q==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,t.arrToBufArr)((0,n.keccak256)(T(R,q,_,N)))];if(q===void 0)throw new Error(`missing value for field ${C} of type ${R}`);if(R==="bytes"){if(typeof q=="number")q=(0,o.numberToBuffer)(q);else if((0,e.isHexString)(q)){const F=q.length%2?"0":"";q=V.from(F+q.slice(2),"hex")}else q=V.from(q,"utf8");return["bytes32",(0,t.arrToBufArr)((0,n.keccak256)(q))]}if(R==="string")return typeof q=="number"?q=(0,o.numberToBuffer)(q):q=V.from(q??"","utf8"),["bytes32",(0,t.arrToBufArr)((0,n.keccak256)(q))];if(R.lastIndexOf("]")===R.length-1){if(N===u.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const F=R.slice(0,R.lastIndexOf("[")),M=q.map(m=>y(_,C,F,m,N));return["bytes32",(0,t.arrToBufArr)((0,n.keccak256)((0,s.rawEncode)(M.map(([m])=>m),M.map(([,m])=>m))))]}return[R,q]}function T(_,C,R,q){d(q,[u.V3,u.V4]);const N=["bytes32"],F=[G(_,R)];for(const M of R[_]){if(q===u.V3&&C[M.name]===void 0)continue;const[m,i]=y(R,M.name,M.type,C[M.name],q);N.push(m),F.push(i)}return(0,s.rawEncode)(N,F)}function A(_,C){let R="";const q=O(_,C);q.delete(_);const N=[_,...Array.from(q).sort()];for(const F of N){if(!C[F])throw new Error(`No type definition specified: ${F}`);R+=`${F}(${C[F].map(({name:m,type:i})=>`${i} ${m}`).join(",")})`}return R}function O(_,C,R=new Set){if([_]=_.match(/^\w*/u),R.has(_)||C[_]===void 0)return R;R.add(_);for(const q of C[_])O(q.type,C,R);return R}function $(_,C,R,q){return d(q,[u.V3,u.V4]),(0,t.arrToBufArr)((0,n.keccak256)(T(_,C,R,q)))}function G(_,C){const R=V.from(A(_,C),"utf-8");return(0,t.arrToBufArr)((0,n.keccak256)(R))}function Y(_){const C={};for(const R in r.TYPED_MESSAGE_SCHEMA.properties)_[R]&&(C[R]=_[R]);return"types"in C&&(C.types=Object.assign({EIP712Domain:[]},C.types)),C}function he(_,C){d(C,[u.V3,u.V4]);const R=Y(_),q=[V.from("1901","hex")];return q.push($("EIP712Domain",R.domain,R.types,C)),R.primaryType!=="EIP712Domain"&&q.push($(R.primaryType,R.message,R.types,C)),(0,t.arrToBufArr)((0,n.keccak256)(V.concat(q)))}r.TypedDataUtils={encodeData:T,encodeType:A,findTypeDependencies:O,hashStruct:$,hashType:G,sanitizeData:Y,eip712Hash:he};function de(_){const C=re(_);return(0,t.bufferToHex)(C)}r.typedSignatureHash=de;function re(_){const C=new Error("Expect argument to be non-empty array");if(typeof _!="object"||!("length"in _)||!_.length)throw C;const R=_.map(function(F){return F.type!=="bytes"?F.value:(0,o.legacyToBuffer)(F.value)}),q=_.map(function(F){return F.type}),N=_.map(function(F){if(!F.name)throw C;return`${F.type} ${F.name}`});return(0,t.arrToBufArr)((0,n.keccak256)((0,s.solidityPack)(["bytes32","bytes32"],[(0,n.keccak256)((0,s.solidityPack)(new Array(_.length).fill("string"),N)),(0,n.keccak256)((0,s.solidityPack)(q,R))])))}function we({privateKey:_,data:C,version:R}){if(d(R),(0,o.isNullish)(C))throw new Error("Missing data parameter");if((0,o.isNullish)(_))throw new Error("Missing private key parameter");const q=R===u.V1?re(C):r.TypedDataUtils.eip712Hash(C,R),N=(0,t.ecsign)(q,_);return(0,o.concatSig)((0,t.toBuffer)(N.v),N.r,N.s)}r.signTypedData=we;function W({data:_,signature:C,version:R}){if(d(R),(0,o.isNullish)(_))throw new Error("Missing data parameter");if((0,o.isNullish)(C))throw new Error("Missing signature parameter");const q=R===u.V1?re(_):r.TypedDataUtils.eip712Hash(_,R),N=(0,o.recoverPublicKey)(q,C),F=(0,t.publicToAddress)(N);return(0,t.bufferToHex)(F)}r.recoverTypedSignature=W})(ms);var Wt={},Bi={},K1={get exports(){return Bi},set exports(r){Bi=r}};(function(r){(function(e){var t=function(h){var g,p=new Float64Array(16);if(h)for(g=0;g<h.length;g++)p[g]=h[g];return p},n=function(){throw new Error("no PRNG")},s=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var u=t(),d=t([1]),y=t([56129,1]),T=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),A=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),O=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),$=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),G=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Y(h,g,p,a){h[g]=p>>24&255,h[g+1]=p>>16&255,h[g+2]=p>>8&255,h[g+3]=p&255,h[g+4]=a>>24&255,h[g+5]=a>>16&255,h[g+6]=a>>8&255,h[g+7]=a&255}function he(h,g,p,a,v){var I,B=0;for(I=0;I<v;I++)B|=h[g+I]^p[a+I];return(1&B-1>>>8)-1}function de(h,g,p,a){return he(h,g,p,a,16)}function re(h,g,p,a){return he(h,g,p,a,32)}function we(h,g,p,a){for(var v=a[0]&255|(a[1]&255)<<8|(a[2]&255)<<16|(a[3]&255)<<24,I=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,B=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,D=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,j=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,fe=a[4]&255|(a[5]&255)<<8|(a[6]&255)<<16|(a[7]&255)<<24,Q=g[0]&255|(g[1]&255)<<8|(g[2]&255)<<16|(g[3]&255)<<24,Ie=g[4]&255|(g[5]&255)<<8|(g[6]&255)<<16|(g[7]&255)<<24,te=g[8]&255|(g[9]&255)<<8|(g[10]&255)<<16|(g[11]&255)<<24,me=g[12]&255|(g[13]&255)<<8|(g[14]&255)<<16|(g[15]&255)<<24,pe=a[8]&255|(a[9]&255)<<8|(a[10]&255)<<16|(a[11]&255)<<24,xe=p[16]&255|(p[17]&255)<<8|(p[18]&255)<<16|(p[19]&255)<<24,ye=p[20]&255|(p[21]&255)<<8|(p[22]&255)<<16|(p[23]&255)<<24,ge=p[24]&255|(p[25]&255)<<8|(p[26]&255)<<16|(p[27]&255)<<24,be=p[28]&255|(p[29]&255)<<8|(p[30]&255)<<16|(p[31]&255)<<24,ve=a[12]&255|(a[13]&255)<<8|(a[14]&255)<<16|(a[15]&255)<<24,ie=v,ue=I,ee=B,oe=D,ae=j,J=fe,L=Q,H=Ie,K=te,z=me,U=pe,Z=xe,le=ye,Pe=ge,Te=be,_e=ve,P,Me=0;Me<20;Me+=2)P=ie+le|0,ae^=P<<7|P>>>32-7,P=ae+ie|0,K^=P<<9|P>>>32-9,P=K+ae|0,le^=P<<13|P>>>32-13,P=le+K|0,ie^=P<<18|P>>>32-18,P=J+ue|0,z^=P<<7|P>>>32-7,P=z+J|0,Pe^=P<<9|P>>>32-9,P=Pe+z|0,ue^=P<<13|P>>>32-13,P=ue+Pe|0,J^=P<<18|P>>>32-18,P=U+L|0,Te^=P<<7|P>>>32-7,P=Te+U|0,ee^=P<<9|P>>>32-9,P=ee+Te|0,L^=P<<13|P>>>32-13,P=L+ee|0,U^=P<<18|P>>>32-18,P=_e+Z|0,oe^=P<<7|P>>>32-7,P=oe+_e|0,H^=P<<9|P>>>32-9,P=H+oe|0,Z^=P<<13|P>>>32-13,P=Z+H|0,_e^=P<<18|P>>>32-18,P=ie+oe|0,ue^=P<<7|P>>>32-7,P=ue+ie|0,ee^=P<<9|P>>>32-9,P=ee+ue|0,oe^=P<<13|P>>>32-13,P=oe+ee|0,ie^=P<<18|P>>>32-18,P=J+ae|0,L^=P<<7|P>>>32-7,P=L+J|0,H^=P<<9|P>>>32-9,P=H+L|0,ae^=P<<13|P>>>32-13,P=ae+H|0,J^=P<<18|P>>>32-18,P=U+z|0,Z^=P<<7|P>>>32-7,P=Z+U|0,K^=P<<9|P>>>32-9,P=K+Z|0,z^=P<<13|P>>>32-13,P=z+K|0,U^=P<<18|P>>>32-18,P=_e+Te|0,le^=P<<7|P>>>32-7,P=le+_e|0,Pe^=P<<9|P>>>32-9,P=Pe+le|0,Te^=P<<13|P>>>32-13,P=Te+Pe|0,_e^=P<<18|P>>>32-18;ie=ie+v|0,ue=ue+I|0,ee=ee+B|0,oe=oe+D|0,ae=ae+j|0,J=J+fe|0,L=L+Q|0,H=H+Ie|0,K=K+te|0,z=z+me|0,U=U+pe|0,Z=Z+xe|0,le=le+ye|0,Pe=Pe+ge|0,Te=Te+be|0,_e=_e+ve|0,h[0]=ie>>>0&255,h[1]=ie>>>8&255,h[2]=ie>>>16&255,h[3]=ie>>>24&255,h[4]=ue>>>0&255,h[5]=ue>>>8&255,h[6]=ue>>>16&255,h[7]=ue>>>24&255,h[8]=ee>>>0&255,h[9]=ee>>>8&255,h[10]=ee>>>16&255,h[11]=ee>>>24&255,h[12]=oe>>>0&255,h[13]=oe>>>8&255,h[14]=oe>>>16&255,h[15]=oe>>>24&255,h[16]=ae>>>0&255,h[17]=ae>>>8&255,h[18]=ae>>>16&255,h[19]=ae>>>24&255,h[20]=J>>>0&255,h[21]=J>>>8&255,h[22]=J>>>16&255,h[23]=J>>>24&255,h[24]=L>>>0&255,h[25]=L>>>8&255,h[26]=L>>>16&255,h[27]=L>>>24&255,h[28]=H>>>0&255,h[29]=H>>>8&255,h[30]=H>>>16&255,h[31]=H>>>24&255,h[32]=K>>>0&255,h[33]=K>>>8&255,h[34]=K>>>16&255,h[35]=K>>>24&255,h[36]=z>>>0&255,h[37]=z>>>8&255,h[38]=z>>>16&255,h[39]=z>>>24&255,h[40]=U>>>0&255,h[41]=U>>>8&255,h[42]=U>>>16&255,h[43]=U>>>24&255,h[44]=Z>>>0&255,h[45]=Z>>>8&255,h[46]=Z>>>16&255,h[47]=Z>>>24&255,h[48]=le>>>0&255,h[49]=le>>>8&255,h[50]=le>>>16&255,h[51]=le>>>24&255,h[52]=Pe>>>0&255,h[53]=Pe>>>8&255,h[54]=Pe>>>16&255,h[55]=Pe>>>24&255,h[56]=Te>>>0&255,h[57]=Te>>>8&255,h[58]=Te>>>16&255,h[59]=Te>>>24&255,h[60]=_e>>>0&255,h[61]=_e>>>8&255,h[62]=_e>>>16&255,h[63]=_e>>>24&255}function W(h,g,p,a){for(var v=a[0]&255|(a[1]&255)<<8|(a[2]&255)<<16|(a[3]&255)<<24,I=p[0]&255|(p[1]&255)<<8|(p[2]&255)<<16|(p[3]&255)<<24,B=p[4]&255|(p[5]&255)<<8|(p[6]&255)<<16|(p[7]&255)<<24,D=p[8]&255|(p[9]&255)<<8|(p[10]&255)<<16|(p[11]&255)<<24,j=p[12]&255|(p[13]&255)<<8|(p[14]&255)<<16|(p[15]&255)<<24,fe=a[4]&255|(a[5]&255)<<8|(a[6]&255)<<16|(a[7]&255)<<24,Q=g[0]&255|(g[1]&255)<<8|(g[2]&255)<<16|(g[3]&255)<<24,Ie=g[4]&255|(g[5]&255)<<8|(g[6]&255)<<16|(g[7]&255)<<24,te=g[8]&255|(g[9]&255)<<8|(g[10]&255)<<16|(g[11]&255)<<24,me=g[12]&255|(g[13]&255)<<8|(g[14]&255)<<16|(g[15]&255)<<24,pe=a[8]&255|(a[9]&255)<<8|(a[10]&255)<<16|(a[11]&255)<<24,xe=p[16]&255|(p[17]&255)<<8|(p[18]&255)<<16|(p[19]&255)<<24,ye=p[20]&255|(p[21]&255)<<8|(p[22]&255)<<16|(p[23]&255)<<24,ge=p[24]&255|(p[25]&255)<<8|(p[26]&255)<<16|(p[27]&255)<<24,be=p[28]&255|(p[29]&255)<<8|(p[30]&255)<<16|(p[31]&255)<<24,ve=a[12]&255|(a[13]&255)<<8|(a[14]&255)<<16|(a[15]&255)<<24,ie=v,ue=I,ee=B,oe=D,ae=j,J=fe,L=Q,H=Ie,K=te,z=me,U=pe,Z=xe,le=ye,Pe=ge,Te=be,_e=ve,P,Me=0;Me<20;Me+=2)P=ie+le|0,ae^=P<<7|P>>>32-7,P=ae+ie|0,K^=P<<9|P>>>32-9,P=K+ae|0,le^=P<<13|P>>>32-13,P=le+K|0,ie^=P<<18|P>>>32-18,P=J+ue|0,z^=P<<7|P>>>32-7,P=z+J|0,Pe^=P<<9|P>>>32-9,P=Pe+z|0,ue^=P<<13|P>>>32-13,P=ue+Pe|0,J^=P<<18|P>>>32-18,P=U+L|0,Te^=P<<7|P>>>32-7,P=Te+U|0,ee^=P<<9|P>>>32-9,P=ee+Te|0,L^=P<<13|P>>>32-13,P=L+ee|0,U^=P<<18|P>>>32-18,P=_e+Z|0,oe^=P<<7|P>>>32-7,P=oe+_e|0,H^=P<<9|P>>>32-9,P=H+oe|0,Z^=P<<13|P>>>32-13,P=Z+H|0,_e^=P<<18|P>>>32-18,P=ie+oe|0,ue^=P<<7|P>>>32-7,P=ue+ie|0,ee^=P<<9|P>>>32-9,P=ee+ue|0,oe^=P<<13|P>>>32-13,P=oe+ee|0,ie^=P<<18|P>>>32-18,P=J+ae|0,L^=P<<7|P>>>32-7,P=L+J|0,H^=P<<9|P>>>32-9,P=H+L|0,ae^=P<<13|P>>>32-13,P=ae+H|0,J^=P<<18|P>>>32-18,P=U+z|0,Z^=P<<7|P>>>32-7,P=Z+U|0,K^=P<<9|P>>>32-9,P=K+Z|0,z^=P<<13|P>>>32-13,P=z+K|0,U^=P<<18|P>>>32-18,P=_e+Te|0,le^=P<<7|P>>>32-7,P=le+_e|0,Pe^=P<<9|P>>>32-9,P=Pe+le|0,Te^=P<<13|P>>>32-13,P=Te+Pe|0,_e^=P<<18|P>>>32-18;h[0]=ie>>>0&255,h[1]=ie>>>8&255,h[2]=ie>>>16&255,h[3]=ie>>>24&255,h[4]=J>>>0&255,h[5]=J>>>8&255,h[6]=J>>>16&255,h[7]=J>>>24&255,h[8]=U>>>0&255,h[9]=U>>>8&255,h[10]=U>>>16&255,h[11]=U>>>24&255,h[12]=_e>>>0&255,h[13]=_e>>>8&255,h[14]=_e>>>16&255,h[15]=_e>>>24&255,h[16]=L>>>0&255,h[17]=L>>>8&255,h[18]=L>>>16&255,h[19]=L>>>24&255,h[20]=H>>>0&255,h[21]=H>>>8&255,h[22]=H>>>16&255,h[23]=H>>>24&255,h[24]=K>>>0&255,h[25]=K>>>8&255,h[26]=K>>>16&255,h[27]=K>>>24&255,h[28]=z>>>0&255,h[29]=z>>>8&255,h[30]=z>>>16&255,h[31]=z>>>24&255}function _(h,g,p,a){we(h,g,p,a)}function C(h,g,p,a){W(h,g,p,a)}var R=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function q(h,g,p,a,v,I,B){var D=new Uint8Array(16),j=new Uint8Array(64),fe,Q;for(Q=0;Q<16;Q++)D[Q]=0;for(Q=0;Q<8;Q++)D[Q]=I[Q];for(;v>=64;){for(_(j,D,B,R),Q=0;Q<64;Q++)h[g+Q]=p[a+Q]^j[Q];for(fe=1,Q=8;Q<16;Q++)fe=fe+(D[Q]&255)|0,D[Q]=fe&255,fe>>>=8;v-=64,g+=64,a+=64}if(v>0)for(_(j,D,B,R),Q=0;Q<v;Q++)h[g+Q]=p[a+Q]^j[Q];return 0}function N(h,g,p,a,v){var I=new Uint8Array(16),B=new Uint8Array(64),D,j;for(j=0;j<16;j++)I[j]=0;for(j=0;j<8;j++)I[j]=a[j];for(;p>=64;){for(_(B,I,v,R),j=0;j<64;j++)h[g+j]=B[j];for(D=1,j=8;j<16;j++)D=D+(I[j]&255)|0,I[j]=D&255,D>>>=8;p-=64,g+=64}if(p>0)for(_(B,I,v,R),j=0;j<p;j++)h[g+j]=B[j];return 0}function F(h,g,p,a,v){var I=new Uint8Array(32);C(I,a,v,R);for(var B=new Uint8Array(8),D=0;D<8;D++)B[D]=a[D+16];return N(h,g,p,B,I)}function M(h,g,p,a,v,I,B){var D=new Uint8Array(32);C(D,I,B,R);for(var j=new Uint8Array(8),fe=0;fe<8;fe++)j[fe]=I[fe+16];return q(h,g,p,a,v,j,D)}var m=function(h){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var g,p,a,v,I,B,D,j;g=h[0]&255|(h[1]&255)<<8,this.r[0]=g&8191,p=h[2]&255|(h[3]&255)<<8,this.r[1]=(g>>>13|p<<3)&8191,a=h[4]&255|(h[5]&255)<<8,this.r[2]=(p>>>10|a<<6)&7939,v=h[6]&255|(h[7]&255)<<8,this.r[3]=(a>>>7|v<<9)&8191,I=h[8]&255|(h[9]&255)<<8,this.r[4]=(v>>>4|I<<12)&255,this.r[5]=I>>>1&8190,B=h[10]&255|(h[11]&255)<<8,this.r[6]=(I>>>14|B<<2)&8191,D=h[12]&255|(h[13]&255)<<8,this.r[7]=(B>>>11|D<<5)&8065,j=h[14]&255|(h[15]&255)<<8,this.r[8]=(D>>>8|j<<8)&8191,this.r[9]=j>>>5&127,this.pad[0]=h[16]&255|(h[17]&255)<<8,this.pad[1]=h[18]&255|(h[19]&255)<<8,this.pad[2]=h[20]&255|(h[21]&255)<<8,this.pad[3]=h[22]&255|(h[23]&255)<<8,this.pad[4]=h[24]&255|(h[25]&255)<<8,this.pad[5]=h[26]&255|(h[27]&255)<<8,this.pad[6]=h[28]&255|(h[29]&255)<<8,this.pad[7]=h[30]&255|(h[31]&255)<<8};m.prototype.blocks=function(h,g,p){for(var a=this.fin?0:2048,v,I,B,D,j,fe,Q,Ie,te,me,pe,xe,ye,ge,be,ve,ie,ue,ee,oe=this.h[0],ae=this.h[1],J=this.h[2],L=this.h[3],H=this.h[4],K=this.h[5],z=this.h[6],U=this.h[7],Z=this.h[8],le=this.h[9],Pe=this.r[0],Te=this.r[1],_e=this.r[2],P=this.r[3],Me=this.r[4],Ce=this.r[5],Le=this.r[6],Ae=this.r[7],Be=this.r[8],Oe=this.r[9];p>=16;)v=h[g+0]&255|(h[g+1]&255)<<8,oe+=v&8191,I=h[g+2]&255|(h[g+3]&255)<<8,ae+=(v>>>13|I<<3)&8191,B=h[g+4]&255|(h[g+5]&255)<<8,J+=(I>>>10|B<<6)&8191,D=h[g+6]&255|(h[g+7]&255)<<8,L+=(B>>>7|D<<9)&8191,j=h[g+8]&255|(h[g+9]&255)<<8,H+=(D>>>4|j<<12)&8191,K+=j>>>1&8191,fe=h[g+10]&255|(h[g+11]&255)<<8,z+=(j>>>14|fe<<2)&8191,Q=h[g+12]&255|(h[g+13]&255)<<8,U+=(fe>>>11|Q<<5)&8191,Ie=h[g+14]&255|(h[g+15]&255)<<8,Z+=(Q>>>8|Ie<<8)&8191,le+=Ie>>>5|a,te=0,me=te,me+=oe*Pe,me+=ae*(5*Oe),me+=J*(5*Be),me+=L*(5*Ae),me+=H*(5*Le),te=me>>>13,me&=8191,me+=K*(5*Ce),me+=z*(5*Me),me+=U*(5*P),me+=Z*(5*_e),me+=le*(5*Te),te+=me>>>13,me&=8191,pe=te,pe+=oe*Te,pe+=ae*Pe,pe+=J*(5*Oe),pe+=L*(5*Be),pe+=H*(5*Ae),te=pe>>>13,pe&=8191,pe+=K*(5*Le),pe+=z*(5*Ce),pe+=U*(5*Me),pe+=Z*(5*P),pe+=le*(5*_e),te+=pe>>>13,pe&=8191,xe=te,xe+=oe*_e,xe+=ae*Te,xe+=J*Pe,xe+=L*(5*Oe),xe+=H*(5*Be),te=xe>>>13,xe&=8191,xe+=K*(5*Ae),xe+=z*(5*Le),xe+=U*(5*Ce),xe+=Z*(5*Me),xe+=le*(5*P),te+=xe>>>13,xe&=8191,ye=te,ye+=oe*P,ye+=ae*_e,ye+=J*Te,ye+=L*Pe,ye+=H*(5*Oe),te=ye>>>13,ye&=8191,ye+=K*(5*Be),ye+=z*(5*Ae),ye+=U*(5*Le),ye+=Z*(5*Ce),ye+=le*(5*Me),te+=ye>>>13,ye&=8191,ge=te,ge+=oe*Me,ge+=ae*P,ge+=J*_e,ge+=L*Te,ge+=H*Pe,te=ge>>>13,ge&=8191,ge+=K*(5*Oe),ge+=z*(5*Be),ge+=U*(5*Ae),ge+=Z*(5*Le),ge+=le*(5*Ce),te+=ge>>>13,ge&=8191,be=te,be+=oe*Ce,be+=ae*Me,be+=J*P,be+=L*_e,be+=H*Te,te=be>>>13,be&=8191,be+=K*Pe,be+=z*(5*Oe),be+=U*(5*Be),be+=Z*(5*Ae),be+=le*(5*Le),te+=be>>>13,be&=8191,ve=te,ve+=oe*Le,ve+=ae*Ce,ve+=J*Me,ve+=L*P,ve+=H*_e,te=ve>>>13,ve&=8191,ve+=K*Te,ve+=z*Pe,ve+=U*(5*Oe),ve+=Z*(5*Be),ve+=le*(5*Ae),te+=ve>>>13,ve&=8191,ie=te,ie+=oe*Ae,ie+=ae*Le,ie+=J*Ce,ie+=L*Me,ie+=H*P,te=ie>>>13,ie&=8191,ie+=K*_e,ie+=z*Te,ie+=U*Pe,ie+=Z*(5*Oe),ie+=le*(5*Be),te+=ie>>>13,ie&=8191,ue=te,ue+=oe*Be,ue+=ae*Ae,ue+=J*Le,ue+=L*Ce,ue+=H*Me,te=ue>>>13,ue&=8191,ue+=K*P,ue+=z*_e,ue+=U*Te,ue+=Z*Pe,ue+=le*(5*Oe),te+=ue>>>13,ue&=8191,ee=te,ee+=oe*Oe,ee+=ae*Be,ee+=J*Ae,ee+=L*Le,ee+=H*Ce,te=ee>>>13,ee&=8191,ee+=K*Me,ee+=z*P,ee+=U*_e,ee+=Z*Te,ee+=le*Pe,te+=ee>>>13,ee&=8191,te=(te<<2)+te|0,te=te+me|0,me=te&8191,te=te>>>13,pe+=te,oe=me,ae=pe,J=xe,L=ye,H=ge,K=be,z=ve,U=ie,Z=ue,le=ee,g+=16,p-=16;this.h[0]=oe,this.h[1]=ae,this.h[2]=J,this.h[3]=L,this.h[4]=H,this.h[5]=K,this.h[6]=z,this.h[7]=U,this.h[8]=Z,this.h[9]=le},m.prototype.finish=function(h,g){var p=new Uint16Array(10),a,v,I,B;if(this.leftover){for(B=this.leftover,this.buffer[B++]=1;B<16;B++)this.buffer[B]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(a=this.h[1]>>>13,this.h[1]&=8191,B=2;B<10;B++)this.h[B]+=a,a=this.h[B]>>>13,this.h[B]&=8191;for(this.h[0]+=a*5,a=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=a,a=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=a,p[0]=this.h[0]+5,a=p[0]>>>13,p[0]&=8191,B=1;B<10;B++)p[B]=this.h[B]+a,a=p[B]>>>13,p[B]&=8191;for(p[9]-=1<<13,v=(a^1)-1,B=0;B<10;B++)p[B]&=v;for(v=~v,B=0;B<10;B++)this.h[B]=this.h[B]&v|p[B];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,I=this.h[0]+this.pad[0],this.h[0]=I&65535,B=1;B<8;B++)I=(this.h[B]+this.pad[B]|0)+(I>>>16)|0,this.h[B]=I&65535;h[g+0]=this.h[0]>>>0&255,h[g+1]=this.h[0]>>>8&255,h[g+2]=this.h[1]>>>0&255,h[g+3]=this.h[1]>>>8&255,h[g+4]=this.h[2]>>>0&255,h[g+5]=this.h[2]>>>8&255,h[g+6]=this.h[3]>>>0&255,h[g+7]=this.h[3]>>>8&255,h[g+8]=this.h[4]>>>0&255,h[g+9]=this.h[4]>>>8&255,h[g+10]=this.h[5]>>>0&255,h[g+11]=this.h[5]>>>8&255,h[g+12]=this.h[6]>>>0&255,h[g+13]=this.h[6]>>>8&255,h[g+14]=this.h[7]>>>0&255,h[g+15]=this.h[7]>>>8&255},m.prototype.update=function(h,g,p){var a,v;if(this.leftover){for(v=16-this.leftover,v>p&&(v=p),a=0;a<v;a++)this.buffer[this.leftover+a]=h[g+a];if(p-=v,g+=v,this.leftover+=v,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(p>=16&&(v=p-p%16,this.blocks(h,g,v),g+=v,p-=v),p){for(a=0;a<p;a++)this.buffer[this.leftover+a]=h[g+a];this.leftover+=p}};function i(h,g,p,a,v,I){var B=new m(I);return B.update(p,a,v),B.finish(h,g),0}function c(h,g,p,a,v,I){var B=new Uint8Array(16);return i(B,0,p,a,v,I),de(h,g,B,0)}function l(h,g,p,a,v){var I;if(p<32)return-1;for(M(h,0,g,0,p,a,v),i(h,16,h,32,p-32,h),I=0;I<16;I++)h[I]=0;return 0}function b(h,g,p,a,v){var I,B=new Uint8Array(32);if(p<32||(F(B,0,32,a,v),c(g,16,g,32,p-32,B)!==0))return-1;for(M(h,0,g,0,p,a,v),I=0;I<32;I++)h[I]=0;return 0}function w(h,g){var p;for(p=0;p<16;p++)h[p]=g[p]|0}function k(h){var g,p,a=1;for(g=0;g<16;g++)p=h[g]+a+65535,a=Math.floor(p/65536),h[g]=p-a*65536;h[0]+=a-1+37*(a-1)}function S(h,g,p){for(var a,v=~(p-1),I=0;I<16;I++)a=v&(h[I]^g[I]),h[I]^=a,g[I]^=a}function x(h,g){var p,a,v,I=t(),B=t();for(p=0;p<16;p++)B[p]=g[p];for(k(B),k(B),k(B),a=0;a<2;a++){for(I[0]=B[0]-65517,p=1;p<15;p++)I[p]=B[p]-65535-(I[p-1]>>16&1),I[p-1]&=65535;I[15]=B[15]-32767-(I[14]>>16&1),v=I[15]>>16&1,I[14]&=65535,S(B,I,1-v)}for(p=0;p<16;p++)h[2*p]=B[p]&255,h[2*p+1]=B[p]>>8}function f(h,g){var p=new Uint8Array(32),a=new Uint8Array(32);return x(p,h),x(a,g),re(p,0,a,0)}function E(h){var g=new Uint8Array(32);return x(g,h),g[0]&1}function ce(h,g){var p;for(p=0;p<16;p++)h[p]=g[2*p]+(g[2*p+1]<<8);h[15]&=32767}function ne(h,g,p){for(var a=0;a<16;a++)h[a]=g[a]+p[a]}function se(h,g,p){for(var a=0;a<16;a++)h[a]=g[a]-p[a]}function X(h,g,p){var a,v,I=0,B=0,D=0,j=0,fe=0,Q=0,Ie=0,te=0,me=0,pe=0,xe=0,ye=0,ge=0,be=0,ve=0,ie=0,ue=0,ee=0,oe=0,ae=0,J=0,L=0,H=0,K=0,z=0,U=0,Z=0,le=0,Pe=0,Te=0,_e=0,P=p[0],Me=p[1],Ce=p[2],Le=p[3],Ae=p[4],Be=p[5],Oe=p[6],Mt=p[7],je=p[8],Pt=p[9],_t=p[10],Tt=p[11],$t=p[12],Ft=p[13],Ct=p[14],Lt=p[15];a=g[0],I+=a*P,B+=a*Me,D+=a*Ce,j+=a*Le,fe+=a*Ae,Q+=a*Be,Ie+=a*Oe,te+=a*Mt,me+=a*je,pe+=a*Pt,xe+=a*_t,ye+=a*Tt,ge+=a*$t,be+=a*Ft,ve+=a*Ct,ie+=a*Lt,a=g[1],B+=a*P,D+=a*Me,j+=a*Ce,fe+=a*Le,Q+=a*Ae,Ie+=a*Be,te+=a*Oe,me+=a*Mt,pe+=a*je,xe+=a*Pt,ye+=a*_t,ge+=a*Tt,be+=a*$t,ve+=a*Ft,ie+=a*Ct,ue+=a*Lt,a=g[2],D+=a*P,j+=a*Me,fe+=a*Ce,Q+=a*Le,Ie+=a*Ae,te+=a*Be,me+=a*Oe,pe+=a*Mt,xe+=a*je,ye+=a*Pt,ge+=a*_t,be+=a*Tt,ve+=a*$t,ie+=a*Ft,ue+=a*Ct,ee+=a*Lt,a=g[3],j+=a*P,fe+=a*Me,Q+=a*Ce,Ie+=a*Le,te+=a*Ae,me+=a*Be,pe+=a*Oe,xe+=a*Mt,ye+=a*je,ge+=a*Pt,be+=a*_t,ve+=a*Tt,ie+=a*$t,ue+=a*Ft,ee+=a*Ct,oe+=a*Lt,a=g[4],fe+=a*P,Q+=a*Me,Ie+=a*Ce,te+=a*Le,me+=a*Ae,pe+=a*Be,xe+=a*Oe,ye+=a*Mt,ge+=a*je,be+=a*Pt,ve+=a*_t,ie+=a*Tt,ue+=a*$t,ee+=a*Ft,oe+=a*Ct,ae+=a*Lt,a=g[5],Q+=a*P,Ie+=a*Me,te+=a*Ce,me+=a*Le,pe+=a*Ae,xe+=a*Be,ye+=a*Oe,ge+=a*Mt,be+=a*je,ve+=a*Pt,ie+=a*_t,ue+=a*Tt,ee+=a*$t,oe+=a*Ft,ae+=a*Ct,J+=a*Lt,a=g[6],Ie+=a*P,te+=a*Me,me+=a*Ce,pe+=a*Le,xe+=a*Ae,ye+=a*Be,ge+=a*Oe,be+=a*Mt,ve+=a*je,ie+=a*Pt,ue+=a*_t,ee+=a*Tt,oe+=a*$t,ae+=a*Ft,J+=a*Ct,L+=a*Lt,a=g[7],te+=a*P,me+=a*Me,pe+=a*Ce,xe+=a*Le,ye+=a*Ae,ge+=a*Be,be+=a*Oe,ve+=a*Mt,ie+=a*je,ue+=a*Pt,ee+=a*_t,oe+=a*Tt,ae+=a*$t,J+=a*Ft,L+=a*Ct,H+=a*Lt,a=g[8],me+=a*P,pe+=a*Me,xe+=a*Ce,ye+=a*Le,ge+=a*Ae,be+=a*Be,ve+=a*Oe,ie+=a*Mt,ue+=a*je,ee+=a*Pt,oe+=a*_t,ae+=a*Tt,J+=a*$t,L+=a*Ft,H+=a*Ct,K+=a*Lt,a=g[9],pe+=a*P,xe+=a*Me,ye+=a*Ce,ge+=a*Le,be+=a*Ae,ve+=a*Be,ie+=a*Oe,ue+=a*Mt,ee+=a*je,oe+=a*Pt,ae+=a*_t,J+=a*Tt,L+=a*$t,H+=a*Ft,K+=a*Ct,z+=a*Lt,a=g[10],xe+=a*P,ye+=a*Me,ge+=a*Ce,be+=a*Le,ve+=a*Ae,ie+=a*Be,ue+=a*Oe,ee+=a*Mt,oe+=a*je,ae+=a*Pt,J+=a*_t,L+=a*Tt,H+=a*$t,K+=a*Ft,z+=a*Ct,U+=a*Lt,a=g[11],ye+=a*P,ge+=a*Me,be+=a*Ce,ve+=a*Le,ie+=a*Ae,ue+=a*Be,ee+=a*Oe,oe+=a*Mt,ae+=a*je,J+=a*Pt,L+=a*_t,H+=a*Tt,K+=a*$t,z+=a*Ft,U+=a*Ct,Z+=a*Lt,a=g[12],ge+=a*P,be+=a*Me,ve+=a*Ce,ie+=a*Le,ue+=a*Ae,ee+=a*Be,oe+=a*Oe,ae+=a*Mt,J+=a*je,L+=a*Pt,H+=a*_t,K+=a*Tt,z+=a*$t,U+=a*Ft,Z+=a*Ct,le+=a*Lt,a=g[13],be+=a*P,ve+=a*Me,ie+=a*Ce,ue+=a*Le,ee+=a*Ae,oe+=a*Be,ae+=a*Oe,J+=a*Mt,L+=a*je,H+=a*Pt,K+=a*_t,z+=a*Tt,U+=a*$t,Z+=a*Ft,le+=a*Ct,Pe+=a*Lt,a=g[14],ve+=a*P,ie+=a*Me,ue+=a*Ce,ee+=a*Le,oe+=a*Ae,ae+=a*Be,J+=a*Oe,L+=a*Mt,H+=a*je,K+=a*Pt,z+=a*_t,U+=a*Tt,Z+=a*$t,le+=a*Ft,Pe+=a*Ct,Te+=a*Lt,a=g[15],ie+=a*P,ue+=a*Me,ee+=a*Ce,oe+=a*Le,ae+=a*Ae,J+=a*Be,L+=a*Oe,H+=a*Mt,K+=a*je,z+=a*Pt,U+=a*_t,Z+=a*Tt,le+=a*$t,Pe+=a*Ft,Te+=a*Ct,_e+=a*Lt,I+=38*ue,B+=38*ee,D+=38*oe,j+=38*ae,fe+=38*J,Q+=38*L,Ie+=38*H,te+=38*K,me+=38*z,pe+=38*U,xe+=38*Z,ye+=38*le,ge+=38*Pe,be+=38*Te,ve+=38*_e,v=1,a=I+v+65535,v=Math.floor(a/65536),I=a-v*65536,a=B+v+65535,v=Math.floor(a/65536),B=a-v*65536,a=D+v+65535,v=Math.floor(a/65536),D=a-v*65536,a=j+v+65535,v=Math.floor(a/65536),j=a-v*65536,a=fe+v+65535,v=Math.floor(a/65536),fe=a-v*65536,a=Q+v+65535,v=Math.floor(a/65536),Q=a-v*65536,a=Ie+v+65535,v=Math.floor(a/65536),Ie=a-v*65536,a=te+v+65535,v=Math.floor(a/65536),te=a-v*65536,a=me+v+65535,v=Math.floor(a/65536),me=a-v*65536,a=pe+v+65535,v=Math.floor(a/65536),pe=a-v*65536,a=xe+v+65535,v=Math.floor(a/65536),xe=a-v*65536,a=ye+v+65535,v=Math.floor(a/65536),ye=a-v*65536,a=ge+v+65535,v=Math.floor(a/65536),ge=a-v*65536,a=be+v+65535,v=Math.floor(a/65536),be=a-v*65536,a=ve+v+65535,v=Math.floor(a/65536),ve=a-v*65536,a=ie+v+65535,v=Math.floor(a/65536),ie=a-v*65536,I+=v-1+37*(v-1),v=1,a=I+v+65535,v=Math.floor(a/65536),I=a-v*65536,a=B+v+65535,v=Math.floor(a/65536),B=a-v*65536,a=D+v+65535,v=Math.floor(a/65536),D=a-v*65536,a=j+v+65535,v=Math.floor(a/65536),j=a-v*65536,a=fe+v+65535,v=Math.floor(a/65536),fe=a-v*65536,a=Q+v+65535,v=Math.floor(a/65536),Q=a-v*65536,a=Ie+v+65535,v=Math.floor(a/65536),Ie=a-v*65536,a=te+v+65535,v=Math.floor(a/65536),te=a-v*65536,a=me+v+65535,v=Math.floor(a/65536),me=a-v*65536,a=pe+v+65535,v=Math.floor(a/65536),pe=a-v*65536,a=xe+v+65535,v=Math.floor(a/65536),xe=a-v*65536,a=ye+v+65535,v=Math.floor(a/65536),ye=a-v*65536,a=ge+v+65535,v=Math.floor(a/65536),ge=a-v*65536,a=be+v+65535,v=Math.floor(a/65536),be=a-v*65536,a=ve+v+65535,v=Math.floor(a/65536),ve=a-v*65536,a=ie+v+65535,v=Math.floor(a/65536),ie=a-v*65536,I+=v-1+37*(v-1),h[0]=I,h[1]=B,h[2]=D,h[3]=j,h[4]=fe,h[5]=Q,h[6]=Ie,h[7]=te,h[8]=me,h[9]=pe,h[10]=xe,h[11]=ye,h[12]=ge,h[13]=be,h[14]=ve,h[15]=ie}function Ee(h,g){X(h,g,g)}function ze(h,g){var p=t(),a;for(a=0;a<16;a++)p[a]=g[a];for(a=253;a>=0;a--)Ee(p,p),a!==2&&a!==4&&X(p,p,g);for(a=0;a<16;a++)h[a]=p[a]}function Jt(h,g){var p=t(),a;for(a=0;a<16;a++)p[a]=g[a];for(a=250;a>=0;a--)Ee(p,p),a!==1&&X(p,p,g);for(a=0;a<16;a++)h[a]=p[a]}function De(h,g,p){var a=new Uint8Array(32),v=new Float64Array(80),I,B,D=t(),j=t(),fe=t(),Q=t(),Ie=t(),te=t();for(B=0;B<31;B++)a[B]=g[B];for(a[31]=g[31]&127|64,a[0]&=248,ce(v,p),B=0;B<16;B++)j[B]=v[B],Q[B]=D[B]=fe[B]=0;for(D[0]=Q[0]=1,B=254;B>=0;--B)I=a[B>>>3]>>>(B&7)&1,S(D,j,I),S(fe,Q,I),ne(Ie,D,fe),se(D,D,fe),ne(fe,j,Q),se(j,j,Q),Ee(Q,Ie),Ee(te,D),X(D,fe,D),X(fe,j,Ie),ne(Ie,D,fe),se(D,D,fe),Ee(j,D),se(fe,Q,te),X(D,fe,y),ne(D,D,Q),X(fe,fe,D),X(D,Q,te),X(Q,j,v),Ee(j,Ie),S(D,j,I),S(fe,Q,I);for(B=0;B<16;B++)v[B+16]=D[B],v[B+32]=fe[B],v[B+48]=j[B],v[B+64]=Q[B];var me=v.subarray(32),pe=v.subarray(16);return ze(me,me),X(pe,pe,me),x(h,pe),0}function Ue(h,g){return De(h,g,o)}function en(h,g){return n(g,32),Ue(h,g)}function rt(h,g,p){var a=new Uint8Array(32);return De(a,p,g),C(h,s,a,R)}var lt=l,Cn=b;function bt(h,g,p,a,v,I){var B=new Uint8Array(32);return rt(B,v,I),lt(h,g,p,a,B)}function yt(h,g,p,a,v,I){var B=new Uint8Array(32);return rt(B,v,I),Cn(h,g,p,a,B)}var tn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function mt(h,g,p,a){for(var v=new Int32Array(16),I=new Int32Array(16),B,D,j,fe,Q,Ie,te,me,pe,xe,ye,ge,be,ve,ie,ue,ee,oe,ae,J,L,H,K,z,U,Z,le=h[0],Pe=h[1],Te=h[2],_e=h[3],P=h[4],Me=h[5],Ce=h[6],Le=h[7],Ae=g[0],Be=g[1],Oe=g[2],Mt=g[3],je=g[4],Pt=g[5],_t=g[6],Tt=g[7],$t=0;a>=128;){for(ae=0;ae<16;ae++)J=8*ae+$t,v[ae]=p[J+0]<<24|p[J+1]<<16|p[J+2]<<8|p[J+3],I[ae]=p[J+4]<<24|p[J+5]<<16|p[J+6]<<8|p[J+7];for(ae=0;ae<80;ae++)if(B=le,D=Pe,j=Te,fe=_e,Q=P,Ie=Me,te=Ce,me=Le,pe=Ae,xe=Be,ye=Oe,ge=Mt,be=je,ve=Pt,ie=_t,ue=Tt,L=Le,H=Tt,K=H&65535,z=H>>>16,U=L&65535,Z=L>>>16,L=(P>>>14|je<<32-14)^(P>>>18|je<<32-18)^(je>>>41-32|P<<32-(41-32)),H=(je>>>14|P<<32-14)^(je>>>18|P<<32-18)^(P>>>41-32|je<<32-(41-32)),K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,L=P&Me^~P&Ce,H=je&Pt^~je&_t,K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,L=tn[ae*2],H=tn[ae*2+1],K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,L=v[ae%16],H=I[ae%16],K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,z+=K>>>16,U+=z>>>16,Z+=U>>>16,ee=U&65535|Z<<16,oe=K&65535|z<<16,L=ee,H=oe,K=H&65535,z=H>>>16,U=L&65535,Z=L>>>16,L=(le>>>28|Ae<<32-28)^(Ae>>>34-32|le<<32-(34-32))^(Ae>>>39-32|le<<32-(39-32)),H=(Ae>>>28|le<<32-28)^(le>>>34-32|Ae<<32-(34-32))^(le>>>39-32|Ae<<32-(39-32)),K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,L=le&Pe^le&Te^Pe&Te,H=Ae&Be^Ae&Oe^Be&Oe,K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,z+=K>>>16,U+=z>>>16,Z+=U>>>16,me=U&65535|Z<<16,ue=K&65535|z<<16,L=fe,H=ge,K=H&65535,z=H>>>16,U=L&65535,Z=L>>>16,L=ee,H=oe,K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,z+=K>>>16,U+=z>>>16,Z+=U>>>16,fe=U&65535|Z<<16,ge=K&65535|z<<16,Pe=B,Te=D,_e=j,P=fe,Me=Q,Ce=Ie,Le=te,le=me,Be=pe,Oe=xe,Mt=ye,je=ge,Pt=be,_t=ve,Tt=ie,Ae=ue,ae%16===15)for(J=0;J<16;J++)L=v[J],H=I[J],K=H&65535,z=H>>>16,U=L&65535,Z=L>>>16,L=v[(J+9)%16],H=I[(J+9)%16],K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,ee=v[(J+1)%16],oe=I[(J+1)%16],L=(ee>>>1|oe<<32-1)^(ee>>>8|oe<<32-8)^ee>>>7,H=(oe>>>1|ee<<32-1)^(oe>>>8|ee<<32-8)^(oe>>>7|ee<<32-7),K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,ee=v[(J+14)%16],oe=I[(J+14)%16],L=(ee>>>19|oe<<32-19)^(oe>>>61-32|ee<<32-(61-32))^ee>>>6,H=(oe>>>19|ee<<32-19)^(ee>>>61-32|oe<<32-(61-32))^(oe>>>6|ee<<32-6),K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,z+=K>>>16,U+=z>>>16,Z+=U>>>16,v[J]=U&65535|Z<<16,I[J]=K&65535|z<<16;L=le,H=Ae,K=H&65535,z=H>>>16,U=L&65535,Z=L>>>16,L=h[0],H=g[0],K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,z+=K>>>16,U+=z>>>16,Z+=U>>>16,h[0]=le=U&65535|Z<<16,g[0]=Ae=K&65535|z<<16,L=Pe,H=Be,K=H&65535,z=H>>>16,U=L&65535,Z=L>>>16,L=h[1],H=g[1],K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,z+=K>>>16,U+=z>>>16,Z+=U>>>16,h[1]=Pe=U&65535|Z<<16,g[1]=Be=K&65535|z<<16,L=Te,H=Oe,K=H&65535,z=H>>>16,U=L&65535,Z=L>>>16,L=h[2],H=g[2],K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,z+=K>>>16,U+=z>>>16,Z+=U>>>16,h[2]=Te=U&65535|Z<<16,g[2]=Oe=K&65535|z<<16,L=_e,H=Mt,K=H&65535,z=H>>>16,U=L&65535,Z=L>>>16,L=h[3],H=g[3],K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,z+=K>>>16,U+=z>>>16,Z+=U>>>16,h[3]=_e=U&65535|Z<<16,g[3]=Mt=K&65535|z<<16,L=P,H=je,K=H&65535,z=H>>>16,U=L&65535,Z=L>>>16,L=h[4],H=g[4],K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,z+=K>>>16,U+=z>>>16,Z+=U>>>16,h[4]=P=U&65535|Z<<16,g[4]=je=K&65535|z<<16,L=Me,H=Pt,K=H&65535,z=H>>>16,U=L&65535,Z=L>>>16,L=h[5],H=g[5],K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,z+=K>>>16,U+=z>>>16,Z+=U>>>16,h[5]=Me=U&65535|Z<<16,g[5]=Pt=K&65535|z<<16,L=Ce,H=_t,K=H&65535,z=H>>>16,U=L&65535,Z=L>>>16,L=h[6],H=g[6],K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,z+=K>>>16,U+=z>>>16,Z+=U>>>16,h[6]=Ce=U&65535|Z<<16,g[6]=_t=K&65535|z<<16,L=Le,H=Tt,K=H&65535,z=H>>>16,U=L&65535,Z=L>>>16,L=h[7],H=g[7],K+=H&65535,z+=H>>>16,U+=L&65535,Z+=L>>>16,z+=K>>>16,U+=z>>>16,Z+=U>>>16,h[7]=Le=U&65535|Z<<16,g[7]=Tt=K&65535|z<<16,$t+=128,a-=128}return a}function Ke(h,g,p){var a=new Int32Array(8),v=new Int32Array(8),I=new Uint8Array(256),B,D=p;for(a[0]=1779033703,a[1]=3144134277,a[2]=1013904242,a[3]=2773480762,a[4]=1359893119,a[5]=2600822924,a[6]=528734635,a[7]=1541459225,v[0]=4089235720,v[1]=2227873595,v[2]=4271175723,v[3]=1595750129,v[4]=2917565137,v[5]=725511199,v[6]=4215389547,v[7]=327033209,mt(a,v,g,p),p%=128,B=0;B<p;B++)I[B]=g[D-p+B];for(I[p]=128,p=256-128*(p<112?1:0),I[p-9]=0,Y(I,p-8,D/536870912|0,D<<3),mt(a,v,I,p),B=0;B<8;B++)Y(h,8*B,a[B],v[B]);return 0}function Pr(h,g){var p=t(),a=t(),v=t(),I=t(),B=t(),D=t(),j=t(),fe=t(),Q=t();se(p,h[1],h[0]),se(Q,g[1],g[0]),X(p,p,Q),ne(a,h[0],h[1]),ne(Q,g[0],g[1]),X(a,a,Q),X(v,h[3],g[3]),X(v,v,A),X(I,h[2],g[2]),ne(I,I,I),se(B,a,p),se(D,I,v),ne(j,I,v),ne(fe,a,p),X(h[0],B,D),X(h[1],fe,j),X(h[2],j,D),X(h[3],B,fe)}function pt(h,g,p){var a;for(a=0;a<4;a++)S(h[a],g[a],p)}function st(h,g){var p=t(),a=t(),v=t();ze(v,g[2]),X(p,g[0],v),X(a,g[1],v),x(h,a),h[31]^=E(p)<<7}function Br(h,g,p){var a,v;for(w(h[0],u),w(h[1],d),w(h[2],d),w(h[3],u),v=255;v>=0;--v)a=p[v/8|0]>>(v&7)&1,pt(h,g,a),Pr(g,h),Pr(h,h),pt(h,g,a)}function nt(h,g){var p=[t(),t(),t(),t()];w(p[0],O),w(p[1],$),w(p[2],d),X(p[3],O,$),Br(h,p,g)}function at(h,g,p){var a=new Uint8Array(64),v=[t(),t(),t(),t()],I;for(p||n(g,32),Ke(a,g,32),a[0]&=248,a[31]&=127,a[31]|=64,nt(v,a),st(h,v),I=0;I<32;I++)g[I+32]=h[I];return 0}var _r=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ft(h,g){var p,a,v,I;for(a=63;a>=32;--a){for(p=0,v=a-32,I=a-12;v<I;++v)g[v]+=p-16*g[a]*_r[v-(a-32)],p=Math.floor((g[v]+128)/256),g[v]-=p*256;g[v]+=p,g[a]=0}for(p=0,v=0;v<32;v++)g[v]+=p-(g[31]>>4)*_r[v],p=g[v]>>8,g[v]&=255;for(v=0;v<32;v++)g[v]-=p*_r[v];for(a=0;a<32;a++)g[a+1]+=g[a]>>8,h[a]=g[a]&255}function ct(h){var g=new Float64Array(64),p;for(p=0;p<64;p++)g[p]=h[p];for(p=0;p<64;p++)h[p]=0;ft(h,g)}function rn(h,g,p,a){var v=new Uint8Array(64),I=new Uint8Array(64),B=new Uint8Array(64),D,j,fe=new Float64Array(64),Q=[t(),t(),t(),t()];Ke(v,a,32),v[0]&=248,v[31]&=127,v[31]|=64;var Ie=p+64;for(D=0;D<p;D++)h[64+D]=g[D];for(D=0;D<32;D++)h[32+D]=v[32+D];for(Ke(B,h.subarray(32),p+32),ct(B),nt(Q,B),st(h,Q),D=32;D<64;D++)h[D]=a[D];for(Ke(I,h,p+64),ct(I),D=0;D<64;D++)fe[D]=0;for(D=0;D<32;D++)fe[D]=B[D];for(D=0;D<32;D++)for(j=0;j<32;j++)fe[D+j]+=I[D]*v[j];return ft(h.subarray(32),fe),Ie}function xt(h,g){var p=t(),a=t(),v=t(),I=t(),B=t(),D=t(),j=t();return w(h[2],d),ce(h[1],g),Ee(v,h[1]),X(I,v,T),se(v,v,h[2]),ne(I,h[2],I),Ee(B,I),Ee(D,B),X(j,D,B),X(p,j,v),X(p,p,I),Jt(p,p),X(p,p,v),X(p,p,I),X(p,p,I),X(h[0],p,I),Ee(a,h[0]),X(a,a,I),f(a,v)&&X(h[0],h[0],G),Ee(a,h[0]),X(a,a,I),f(a,v)?-1:(E(h[0])===g[31]>>7&&se(h[0],u,h[0]),X(h[3],h[0],h[1]),0)}function ut(h,g,p,a){var v,I=new Uint8Array(32),B=new Uint8Array(64),D=[t(),t(),t(),t()],j=[t(),t(),t(),t()];if(p<64||xt(j,a))return-1;for(v=0;v<p;v++)h[v]=g[v];for(v=0;v<32;v++)h[v+32]=a[v];if(Ke(B,h,p),ct(B),Br(D,j,B),nt(j,g.subarray(32)),Pr(D,j),st(I,D),p-=64,re(g,0,I,0)){for(v=0;v<p;v++)h[v]=0;return-1}for(v=0;v<p;v++)h[v]=g[v+64];return p}var Or=32,it=24,Ye=32,cr=16,Xe=32,ot=32,hr=32,Je=32,ht=32,nn=it,wt=Ye,Et=cr,Vt=64,Ze=32,We=64,Fr=32,dt=64;e.lowlevel={crypto_core_hsalsa20:C,crypto_stream_xor:M,crypto_stream:F,crypto_stream_salsa20_xor:q,crypto_stream_salsa20:N,crypto_onetimeauth:i,crypto_onetimeauth_verify:c,crypto_verify_16:de,crypto_verify_32:re,crypto_secretbox:l,crypto_secretbox_open:b,crypto_scalarmult:De,crypto_scalarmult_base:Ue,crypto_box_beforenm:rt,crypto_box_afternm:lt,crypto_box:bt,crypto_box_open:yt,crypto_box_keypair:en,crypto_hash:Ke,crypto_sign:rn,crypto_sign_keypair:at,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:Or,crypto_secretbox_NONCEBYTES:it,crypto_secretbox_ZEROBYTES:Ye,crypto_secretbox_BOXZEROBYTES:cr,crypto_scalarmult_BYTES:Xe,crypto_scalarmult_SCALARBYTES:ot,crypto_box_PUBLICKEYBYTES:hr,crypto_box_SECRETKEYBYTES:Je,crypto_box_BEFORENMBYTES:ht,crypto_box_NONCEBYTES:nn,crypto_box_ZEROBYTES:wt,crypto_box_BOXZEROBYTES:Et,crypto_sign_BYTES:Vt,crypto_sign_PUBLICKEYBYTES:Ze,crypto_sign_SECRETKEYBYTES:We,crypto_sign_SEEDBYTES:Fr,crypto_hash_BYTES:dt,gf:t,D:T,L:_r,pack25519:x,unpack25519:ce,M:X,A:ne,S:Ee,Z:se,pow2523:Jt,add:Pr,set25519:w,modL:ft,scalarmult:Br,scalarbase:nt};function gt(h,g){if(h.length!==Or)throw new Error("bad key size");if(g.length!==it)throw new Error("bad nonce size")}function Ln(h,g){if(h.length!==hr)throw new Error("bad public key size");if(g.length!==Je)throw new Error("bad secret key size")}function Se(){for(var h=0;h<arguments.length;h++)if(!(arguments[h]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function vt(h){for(var g=0;g<h.length;g++)h[g]=0}e.randomBytes=function(h){var g=new Uint8Array(h);return n(g,h),g},e.secretbox=function(h,g,p){Se(h,g,p),gt(p,g);for(var a=new Uint8Array(Ye+h.length),v=new Uint8Array(a.length),I=0;I<h.length;I++)a[I+Ye]=h[I];return l(v,a,a.length,g,p),v.subarray(cr)},e.secretbox.open=function(h,g,p){Se(h,g,p),gt(p,g);for(var a=new Uint8Array(cr+h.length),v=new Uint8Array(a.length),I=0;I<h.length;I++)a[I+cr]=h[I];return a.length<32||b(v,a,a.length,g,p)!==0?null:v.subarray(Ye)},e.secretbox.keyLength=Or,e.secretbox.nonceLength=it,e.secretbox.overheadLength=cr,e.scalarMult=function(h,g){if(Se(h,g),h.length!==ot)throw new Error("bad n size");if(g.length!==Xe)throw new Error("bad p size");var p=new Uint8Array(Xe);return De(p,h,g),p},e.scalarMult.base=function(h){if(Se(h),h.length!==ot)throw new Error("bad n size");var g=new Uint8Array(Xe);return Ue(g,h),g},e.scalarMult.scalarLength=ot,e.scalarMult.groupElementLength=Xe,e.box=function(h,g,p,a){var v=e.box.before(p,a);return e.secretbox(h,g,v)},e.box.before=function(h,g){Se(h,g),Ln(h,g);var p=new Uint8Array(ht);return rt(p,h,g),p},e.box.after=e.secretbox,e.box.open=function(h,g,p,a){var v=e.box.before(p,a);return e.secretbox.open(h,g,v)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var h=new Uint8Array(hr),g=new Uint8Array(Je);return en(h,g),{publicKey:h,secretKey:g}},e.box.keyPair.fromSecretKey=function(h){if(Se(h),h.length!==Je)throw new Error("bad secret key size");var g=new Uint8Array(hr);return Ue(g,h),{publicKey:g,secretKey:new Uint8Array(h)}},e.box.publicKeyLength=hr,e.box.secretKeyLength=Je,e.box.sharedKeyLength=ht,e.box.nonceLength=nn,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(h,g){if(Se(h,g),g.length!==We)throw new Error("bad secret key size");var p=new Uint8Array(Vt+h.length);return rn(p,h,h.length,g),p},e.sign.open=function(h,g){if(Se(h,g),g.length!==Ze)throw new Error("bad public key size");var p=new Uint8Array(h.length),a=ut(p,h,h.length,g);if(a<0)return null;for(var v=new Uint8Array(a),I=0;I<v.length;I++)v[I]=p[I];return v},e.sign.detached=function(h,g){for(var p=e.sign(h,g),a=new Uint8Array(Vt),v=0;v<a.length;v++)a[v]=p[v];return a},e.sign.detached.verify=function(h,g,p){if(Se(h,g,p),g.length!==Vt)throw new Error("bad signature size");if(p.length!==Ze)throw new Error("bad public key size");var a=new Uint8Array(Vt+h.length),v=new Uint8Array(Vt+h.length),I;for(I=0;I<Vt;I++)a[I]=g[I];for(I=0;I<h.length;I++)a[I+Vt]=h[I];return ut(v,a,a.length,p)>=0},e.sign.keyPair=function(){var h=new Uint8Array(Ze),g=new Uint8Array(We);return at(h,g),{publicKey:h,secretKey:g}},e.sign.keyPair.fromSecretKey=function(h){if(Se(h),h.length!==We)throw new Error("bad secret key size");for(var g=new Uint8Array(Ze),p=0;p<g.length;p++)g[p]=h[32+p];return{publicKey:g,secretKey:new Uint8Array(h)}},e.sign.keyPair.fromSeed=function(h){if(Se(h),h.length!==Fr)throw new Error("bad seed size");for(var g=new Uint8Array(Ze),p=new Uint8Array(We),a=0;a<32;a++)p[a]=h[a];return at(g,p,!0),{publicKey:g,secretKey:p}},e.sign.publicKeyLength=Ze,e.sign.secretKeyLength=We,e.sign.seedLength=Fr,e.sign.signatureLength=Vt,e.hash=function(h){Se(h);var g=new Uint8Array(dt);return Ke(g,h,h.length),g},e.hash.hashLength=dt,e.verify=function(h,g){return Se(h,g),h.length===0||g.length===0||h.length!==g.length?!1:he(h,0,g,0,h.length)===0},e.setPRNG=function(h){n=h},function(){var h=typeof self<"u"?self.crypto||self.msCrypto:null;if(h&&h.getRandomValues){var g=65536;e.setPRNG(function(p,a){var v,I=new Uint8Array(a);for(v=0;v<a;v+=g)h.getRandomValues(I.subarray(v,v+Math.min(a-v,g)));for(v=0;v<a;v++)p[v]=I[v];vt(I)})}else typeof xn<"u"&&(h=ca,h&&h.randomBytes&&e.setPRNG(function(p,a){var v,I=h.randomBytes(a);for(v=0;v<a;v++)p[v]=I[v];vt(I)}))}()})(r.exports?r.exports:self.nacl=self.nacl||{})})(K1);var Oi={},Z1={get exports(){return Oi},set exports(r){Oi=r}};(function(r){(function(e,t){r.exports?r.exports=t():(e.nacl||(e.nacl={}),e.nacl.util=t())})(tt,function(){var e={};function t(n){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(n))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(n){if(typeof n!="string")throw new TypeError("expected string");var s,o=unescape(encodeURIComponent(n)),u=new Uint8Array(o.length);for(s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u},e.encodeUTF8=function(n){var s,o=[];for(s=0;s<n.length;s++)o.push(String.fromCharCode(n[s]));return decodeURIComponent(escape(o.join("")))},typeof atob>"u"?typeof V.from<"u"?(e.encodeBase64=function(n){return V.from(n).toString("base64")},e.decodeBase64=function(n){return t(n),new Uint8Array(Array.prototype.slice.call(V.from(n,"base64"),0))}):(e.encodeBase64=function(n){return new V(n).toString("base64")},e.decodeBase64=function(n){return t(n),new Uint8Array(Array.prototype.slice.call(new V(n,"base64"),0))}):(e.encodeBase64=function(n){var s,o=[],u=n.length;for(s=0;s<u;s++)o.push(String.fromCharCode(n[s]));return btoa(o.join(""))},e.decodeBase64=function(n){t(n);var s,o=atob(n),u=new Uint8Array(o.length);for(s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}),e})})(Z1);var W1=tt&&tt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,s)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Y1=tt&&tt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ks=tt&&tt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&W1(e,r,t);return Y1(e,r),e};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.getEncryptionPublicKey=Wt.decryptSafely=Wt.decrypt=Wt.encryptSafely=Wt.encrypt=void 0;const kr=ks(Bi),er=ks(Oi),ar=It;function Is({publicKey:r,data:e,version:t}){if((0,ar.isNullish)(r))throw new Error("Missing publicKey parameter");if((0,ar.isNullish)(e))throw new Error("Missing data parameter");if((0,ar.isNullish)(t))throw new Error("Missing version parameter");switch(t){case"x25519-xsalsa20-poly1305":{if(typeof e!="string")throw new Error("Message data must be given as a string");const n=kr.box.keyPair();let s;try{s=er.decodeBase64(r)}catch{throw new Error("Bad public key")}const o=er.decodeUTF8(e),u=kr.randomBytes(kr.box.nonceLength),d=kr.box(o,u,s,n.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:er.encodeBase64(u),ephemPublicKey:er.encodeBase64(n.publicKey),ciphertext:er.encodeBase64(d)}}default:throw new Error("Encryption type/version not supported")}}Wt.encrypt=Is;function X1({publicKey:r,data:e,version:t}){if((0,ar.isNullish)(r))throw new Error("Missing publicKey parameter");if((0,ar.isNullish)(e))throw new Error("Missing data parameter");if((0,ar.isNullish)(t))throw new Error("Missing version parameter");const n=2**11,s=16;if(typeof e=="object"&&"toJSON"in e)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const o={data:e,padding:""},d=V.byteLength(JSON.stringify(o),"utf-8")%n;let y=0;d>0&&(y=n-d-s),o.padding="0".repeat(y);const T=JSON.stringify(o);return Is({publicKey:r,data:T,version:t})}Wt.encryptSafely=X1;function $s({encryptedData:r,privateKey:e}){if((0,ar.isNullish)(r))throw new Error("Missing encryptedData parameter");if((0,ar.isNullish)(e))throw new Error("Missing privateKey parameter");switch(r.version){case"x25519-xsalsa20-poly1305":{const t=Ss(e),n=kr.box.keyPair.fromSecretKey(t).secretKey,s=er.decodeBase64(r.nonce),o=er.decodeBase64(r.ciphertext),u=er.decodeBase64(r.ephemPublicKey),d=kr.box.open(o,s,u,n);let y;try{y=er.encodeUTF8(d)}catch{throw new Error("Decryption failed.")}if(y)return y;throw new Error("Decryption failed.")}default:throw new Error("Encryption type/version not supported.")}}Wt.decrypt=$s;function J1({encryptedData:r,privateKey:e}){if((0,ar.isNullish)(r))throw new Error("Missing encryptedData parameter");if((0,ar.isNullish)(e))throw new Error("Missing privateKey parameter");return JSON.parse($s({encryptedData:r,privateKey:e})).data}Wt.decryptSafely=J1;function Q1(r){const e=Ss(r),t=kr.box.keyPair.fromSecretKey(e).publicKey;return er.encodeBase64(t)}Wt.getEncryptionPublicKey=Q1;function Ss(r){const e=V.from(r,"hex").toString("base64");return er.decodeBase64(e)}(function(r){var e=tt&&tt.__createBinding||(Object.create?function(s,o,u,d){d===void 0&&(d=u);var y=Object.getOwnPropertyDescriptor(o,u);(!y||("get"in y?!o.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,d,y)}:function(s,o,u,d){d===void 0&&(d=u),s[d]=o[u]}),t=tt&&tt.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&e(o,s,u)};Object.defineProperty(r,"__esModule",{value:!0}),r.normalize=r.concatSig=void 0,t(br,r),t(ms,r),t(Wt,r);var n=It;Object.defineProperty(r,"concatSig",{enumerable:!0,get:function(){return n.concatSig}}),Object.defineProperty(r,"normalize",{enumerable:!0,get:function(){return n.normalize}})})(Dt);var ur={};/*! https://mths.be/punycode v1.4.1 by @mathias */var wi=2147483647,yn=36,Bs=1,Fi=26,eg=38,tg=700,rg=72,ng=128,ig="-",og=/[^\x20-\x7E]/,sg=/[\x2E\u3002\uFF0E\uFF61]/g,ag={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ei=yn-Bs,Kr=Math.floor,Pi=String.fromCharCode;function yo(r){throw new RangeError(ag[r])}function fg(r,e){for(var t=r.length,n=[];t--;)n[t]=e(r[t]);return n}function cg(r,e){var t=r.split("@"),n="";t.length>1&&(n=t[0]+"@",r=t[1]),r=r.replace(sg,".");var s=r.split("."),o=fg(s,e).join(".");return n+o}function ug(r){for(var e=[],t=0,n=r.length,s,o;t<n;)s=r.charCodeAt(t++),s>=55296&&s<=56319&&t<n?(o=r.charCodeAt(t++),(o&64512)==56320?e.push(((s&1023)<<10)+(o&1023)+65536):(e.push(s),t--)):e.push(s);return e}function xo(r,e){return r+22+75*(r<26)-((e!=0)<<5)}function hg(r,e,t){var n=0;for(r=t?Kr(r/tg):r>>1,r+=Kr(r/e);r>Ei*Fi>>1;n+=yn)r=Kr(r/Ei);return Kr(n+(Ei+1)*r/(r+eg))}function dg(r){var e,t,n,s,o,u,d,y,T,A,O,$=[],G,Y,he,de;for(r=ug(r),G=r.length,e=ng,t=0,o=rg,u=0;u<G;++u)O=r[u],O<128&&$.push(Pi(O));for(n=s=$.length,s&&$.push(ig);n<G;){for(d=wi,u=0;u<G;++u)O=r[u],O>=e&&O<d&&(d=O);for(Y=n+1,d-e>Kr((wi-t)/Y)&&yo("overflow"),t+=(d-e)*Y,e=d,u=0;u<G;++u)if(O=r[u],O<e&&++t>wi&&yo("overflow"),O==e){for(y=t,T=yn;A=T<=o?Bs:T>=o+Fi?Fi:T-o,!(y<A);T+=yn)de=y-A,he=yn-A,$.push(Pi(xo(A+de%he,0))),y=Kr(de/he);$.push(Pi(xo(y,0))),o=hg(t,Y,n==s),t=0,++n}++t,++e}return $.join("")}function lg(r){return cg(r,function(e){return og.test(e)?"xn--"+dg(e):e})}function mg(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var Os=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function ln(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}}function pg(r,e,t,n){return e=e||"&",t=t||"=",r===null&&(r=void 0),typeof r=="object"?wo(gg(r),function(s){var o=encodeURIComponent(ln(s))+t;return Os(r[s])?wo(r[s],function(u){return o+encodeURIComponent(ln(u))}).join(e):o+encodeURIComponent(ln(r[s]))}).join(e):n?encodeURIComponent(ln(n))+t+encodeURIComponent(ln(r)):""}function wo(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var gg=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};function Eo(r,e,t,n){e=e||"&",t=t||"=";var s={};if(typeof r!="string"||r.length===0)return s;var o=/\+/g;r=r.split(e);var u=1e3;n&&typeof n.maxKeys=="number"&&(u=n.maxKeys);var d=r.length;u>0&&d>u&&(d=u);for(var y=0;y<d;++y){var T=r[y].replace(o,"%20"),A=T.indexOf(t),O,$,G,Y;A>=0?(O=T.substr(0,A),$=T.substr(A+1)):(O=T,$=""),G=decodeURIComponent(O),Y=decodeURIComponent($),mg(s,G)?Os(s[G])?s[G].push(Y):s[G]=[s[G],Y]:s[G]=Y}return s}const vg={parse:On,resolve:Ls,resolveObject:Hs,format:Cs,Url:nr};function nr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var bg=/^([a-z0-9.+-]+:)/i,yg=/:[0-9]*$/,xg=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,wg=["<",">",'"',"`"," ","\r",`
`,"	"],Eg=["{","}","|","\\","^","`"].concat(wg),Ci=["'"].concat(Eg),Po=["%","/","?",";","#"].concat(Ci),_o=["/","?","#"],Pg=255,To=/^[+a-z0-9A-Z_-]{0,63}$/,_g=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Tg={javascript:!0,"javascript:":!0},Li={javascript:!0,"javascript:":!0},Yr={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function On(r,e,t){if(r&&Uo(r)&&r instanceof nr)return r;var n=new nr;return n.parse(r,e,t),n}nr.prototype.parse=function(r,e,t){return Fs(this,r,e,t)};function Fs(r,e,t,n){if(!Gi(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),o=s!==-1&&s<e.indexOf("#")?"?":"#",u=e.split(o),d=/\\/g;u[0]=u[0].replace(d,"/"),e=u.join(o);var y=e;if(y=y.trim(),!n&&e.split("#").length===1){var T=xg.exec(y);if(T)return r.path=y,r.href=y,r.pathname=T[1],T[2]?(r.search=T[2],t?r.query=Eo(r.search.substr(1)):r.query=r.search.substr(1)):t&&(r.search="",r.query={}),r}var A=bg.exec(y);if(A){A=A[0];var O=A.toLowerCase();r.protocol=O,y=y.substr(A.length)}if(n||A||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var $=y.substr(0,2)==="//";$&&!(A&&Li[A])&&(y=y.substr(2),r.slashes=!0)}var G,Y,he,de;if(!Li[A]&&($||A&&!Yr[A])){var re=-1;for(G=0;G<_o.length;G++)Y=y.indexOf(_o[G]),Y!==-1&&(re===-1||Y<re)&&(re=Y);var we,W;for(re===-1?W=y.lastIndexOf("@"):W=y.lastIndexOf("@",re),W!==-1&&(we=y.slice(0,W),y=y.slice(W+1),r.auth=decodeURIComponent(we)),re=-1,G=0;G<Po.length;G++)Y=y.indexOf(Po[G]),Y!==-1&&(re===-1||Y<re)&&(re=Y);re===-1&&(re=y.length),r.host=y.slice(0,re),y=y.slice(re),Ns(r),r.hostname=r.hostname||"";var _=r.hostname[0]==="["&&r.hostname[r.hostname.length-1]==="]";if(!_){var C=r.hostname.split(/\./);for(G=0,he=C.length;G<he;G++){var R=C[G];if(R&&!R.match(To)){for(var q="",N=0,F=R.length;N<F;N++)R.charCodeAt(N)>127?q+="x":q+=R[N];if(!q.match(To)){var M=C.slice(0,G),m=C.slice(G+1),i=R.match(_g);i&&(M.push(i[1]),m.unshift(i[2])),m.length&&(y="/"+m.join(".")+y),r.hostname=M.join(".");break}}}}r.hostname.length>Pg?r.hostname="":r.hostname=r.hostname.toLowerCase(),_||(r.hostname=lg(r.hostname)),de=r.port?":"+r.port:"";var c=r.hostname||"";r.host=c+de,r.href+=r.host,_&&(r.hostname=r.hostname.substr(1,r.hostname.length-2),y[0]!=="/"&&(y="/"+y))}if(!Tg[O])for(G=0,he=Ci.length;G<he;G++){var l=Ci[G];if(y.indexOf(l)!==-1){var b=encodeURIComponent(l);b===l&&(b=escape(l)),y=y.split(l).join(b)}}var w=y.indexOf("#");w!==-1&&(r.hash=y.substr(w),y=y.slice(0,w));var k=y.indexOf("?");if(k!==-1?(r.search=y.substr(k),r.query=y.substr(k+1),t&&(r.query=Eo(r.query)),y=y.slice(0,k)):t&&(r.search="",r.query={}),y&&(r.pathname=y),Yr[O]&&r.hostname&&!r.pathname&&(r.pathname="/"),r.pathname||r.search){de=r.pathname||"";var S=r.search||"";r.path=de+S}return r.href=Ki(r),r}function Cs(r){return Gi(r)&&(r=Fs({},r)),Ki(r)}function Ki(r){var e=r.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=r.protocol||"",n=r.pathname||"",s=r.hash||"",o=!1,u="";r.host?o=e+r.host:r.hostname&&(o=e+(r.hostname.indexOf(":")===-1?r.hostname:"["+this.hostname+"]"),r.port&&(o+=":"+r.port)),r.query&&Uo(r.query)&&Object.keys(r.query).length&&(u=pg(r.query));var d=r.search||u&&"?"+u||"";return t&&t.substr(-1)!==":"&&(t+=":"),r.slashes||(!t||Yr[t])&&o!==!1?(o="//"+(o||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):o||(o=""),s&&s.charAt(0)!=="#"&&(s="#"+s),d&&d.charAt(0)!=="?"&&(d="?"+d),n=n.replace(/[?#]/g,function(y){return encodeURIComponent(y)}),d=d.replace("#","%23"),t+o+n+d+s}nr.prototype.format=function(){return Ki(this)};function Ls(r,e){return On(r,!1,!0).resolve(e)}nr.prototype.resolve=function(r){return this.resolveObject(On(r,!1,!0)).format()};function Hs(r,e){return r?On(r,!1,!0).resolveObject(e):e}nr.prototype.resolveObject=function(r){if(Gi(r)){var e=new nr;e.parse(r,!1,!0),r=e}for(var t=new nr,n=Object.keys(this),s=0;s<n.length;s++){var o=n[s];t[o]=this[o]}if(t.hash=r.hash,r.href==="")return t.href=t.format(),t;if(r.slashes&&!r.protocol){for(var u=Object.keys(r),d=0;d<u.length;d++){var y=u[d];y!=="protocol"&&(t[y]=r[y])}return Yr[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}var T;if(r.protocol&&r.protocol!==t.protocol){if(!Yr[r.protocol]){for(var A=Object.keys(r),O=0;O<A.length;O++){var $=A[O];t[$]=r[$]}return t.href=t.format(),t}if(t.protocol=r.protocol,!r.host&&!Li[r.protocol]){for(T=(r.pathname||"").split("/");T.length&&!(r.host=T.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),T[0]!==""&&T.unshift(""),T.length<2&&T.unshift(""),t.pathname=T.join("/")}else t.pathname=r.pathname;if(t.search=r.search,t.query=r.query,t.host=r.host||"",t.auth=r.auth,t.hostname=r.hostname||r.host,t.port=r.port,t.pathname||t.search){var G=t.pathname||"",Y=t.search||"";t.path=G+Y}return t.slashes=t.slashes||r.slashes,t.href=t.format(),t}var he=t.pathname&&t.pathname.charAt(0)==="/",de=r.host||r.pathname&&r.pathname.charAt(0)==="/",re=de||he||t.host&&r.pathname,we=re,W=t.pathname&&t.pathname.split("/")||[],_=t.protocol&&!Yr[t.protocol];T=r.pathname&&r.pathname.split("/")||[],_&&(t.hostname="",t.port=null,t.host&&(W[0]===""?W[0]=t.host:W.unshift(t.host)),t.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(T[0]===""?T[0]=r.host:T.unshift(r.host)),r.host=null),re=re&&(T[0]===""||W[0]===""));var C;if(de)t.host=r.host||r.host===""?r.host:t.host,t.hostname=r.hostname||r.hostname===""?r.hostname:t.hostname,t.search=r.search,t.query=r.query,W=T;else if(T.length)W||(W=[]),W.pop(),W=W.concat(T),t.search=r.search,t.query=r.query;else if(!ua(r.search))return _&&(t.hostname=t.host=W.shift(),C=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1,C&&(t.auth=C.shift(),t.host=t.hostname=C.shift())),t.search=r.search,t.query=r.query,(!Hn(t.pathname)||!Hn(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!W.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var R=W.slice(-1)[0],q=(t.host||r.host||W.length>1)&&(R==="."||R==="..")||R==="",N=0,F=W.length;F>=0;F--)R=W[F],R==="."?W.splice(F,1):R===".."?(W.splice(F,1),N++):N&&(W.splice(F,1),N--);if(!re&&!we)for(;N--;N)W.unshift("..");re&&W[0]!==""&&(!W[0]||W[0].charAt(0)!=="/")&&W.unshift(""),q&&W.join("/").substr(-1)!=="/"&&W.push("");var M=W[0]===""||W[0]&&W[0].charAt(0)==="/";return _&&(t.hostname=t.host=M?"":W.length?W.shift():"",C=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1,C&&(t.auth=C.shift(),t.host=t.hostname=C.shift())),re=re||t.host&&W.length,re&&!M&&W.unshift(""),W.length?t.pathname=W.join("/"):(t.pathname=null,t.path=null),(!Hn(t.pathname)||!Hn(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=r.auth||t.auth,t.slashes=t.slashes||r.slashes,t.href=t.format(),t};nr.prototype.parseHost=function(){return Ns(this)};function Ns(r){var e=r.host,t=yg.exec(e);t&&(t=t[0],t!==":"&&(r.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(r.hostname=e)}const Ag=Object.freeze(Object.defineProperty({__proto__:null,Url:nr,default:vg,format:Cs,parse:On,resolve:Ls,resolveObject:Hs},Symbol.toStringTag,{value:"Module"})),Zi=zo(Ag);var kt={},Ds=Zi,Hi=kt.ValidationError=function(e,t,n,s,o,u){if(Array.isArray(s)?(this.path=s,this.property=s.reduce(function(y,T){return y+Gs(T)},"instance")):s!==void 0&&(this.property=s),e&&(this.message=e),n){var d=n.$id||n.id;this.schema=d||n}t!==void 0&&(this.instance=t),this.name=o,this.argument=u,this.stack=this.toString()};Hi.prototype.toString=function(){return this.property+" "+this.message};var di=kt.ValidatorResult=function(e,t,n,s){this.instance=e,this.schema=t,this.options=n,this.path=s.path,this.propertyPath=s.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&n.disableFormat===!0};di.prototype.addError=function(e){var t;if(typeof e=="string")t=new Hi(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new Hi(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new Ir(this);if(this.throwError)throw t;return t};di.prototype.importErrors=function(e){typeof e=="string"||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))};function Mg(r,e){return e+": "+r.toString()+`
`}di.prototype.toString=function(e){return this.errors.map(Mg).join("")};Object.defineProperty(di.prototype,"valid",{get:function(){return!this.errors.length}});kt.ValidatorResultError=Ir;function Ir(r){Error.captureStackTrace&&Error.captureStackTrace(this,Ir),this.instance=r.instance,this.schema=r.schema,this.options=r.options,this.errors=r.errors}Ir.prototype=new Error;Ir.prototype.constructor=Ir;Ir.prototype.name="Validation Error";var Ao=kt.SchemaError=function r(e,t){this.message=e,this.schema=t,Error.call(this,e),Error.captureStackTrace(this,r)};Ao.prototype=Object.create(Error.prototype,{constructor:{value:Ao,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var Ni=kt.SchemaContext=function(e,t,n,s,o){this.schema=e,this.options=t,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce(function(u,d){return u+Gs(d)},"instance")):this.propertyPath=n,this.base=s,this.schemas=o};Ni.prototype.resolve=function(e){return Ds.resolve(this.base,e)};Ni.prototype.makeChild=function(e,t){var n=t===void 0?this.path:this.path.concat([t]),s=e.$id||e.id,o=Ds.resolve(this.base,s||""),u=new Ni(e,this.options,n,o,Object.create(this.schemas));return s&&!u.schemas[o]&&(u.schemas[o]=e),u};var tr=kt.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(r){return typeof r=="string"&&parseFloat(r)===parseInt(r,10)&&!isNaN(r)},regex:function(r){var e=!0;try{new RegExp(r)}catch{e=!1}return e},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};tr.regexp=tr.regex;tr.pattern=tr.regex;tr.ipv4=tr["ip-address"];kt.isFormat=function(e,t,n){if(typeof e=="string"&&tr[t]!==void 0){if(tr[t]instanceof RegExp)return tr[t].test(e);if(typeof tr[t]=="function")return tr[t](e)}else if(n&&n.customFormats&&typeof n.customFormats[t]=="function")return n.customFormats[t](e);return!0};var Gs=kt.makeSuffix=function(e){return e=e.toString(),!e.match(/[.\s\[\]]/)&&!e.match(/^[\d]/)?"."+e:e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]"};kt.deepCompareStrict=function r(e,t){if(typeof e!=typeof t)return!1;if(Array.isArray(e))return!Array.isArray(t)||e.length!==t.length?!1:e.every(function(o,u){return r(e[u],t[u])});if(typeof e=="object"){if(!e||!t)return e===t;var n=Object.keys(e),s=Object.keys(t);return n.length!==s.length?!1:n.every(function(o){return r(e[o],t[o])})}return e===t};function kg(r,e,t,n){typeof t=="object"?e[n]=Wi(r[n],t):r.indexOf(t)===-1&&e.push(t)}function Ig(r,e,t){e[t]=r[t]}function $g(r,e,t,n){typeof e[n]!="object"||!e[n]?t[n]=e[n]:r[n]?t[n]=Wi(r[n],e[n]):t[n]=e[n]}function Wi(r,e){var t=Array.isArray(e),n=t&&[]||{};return t?(r=r||[],n=n.concat(r),e.forEach(kg.bind(null,r,n))):(r&&typeof r=="object"&&Object.keys(r).forEach(Ig.bind(null,r,n)),Object.keys(e).forEach($g.bind(null,r,e,n))),n}kt.deepMerge=Wi;kt.objectGetPath=function(e,t){for(var n=t.split("/").slice(1),s;typeof(s=n.shift())=="string";){var o=decodeURIComponent(s.replace(/~0/,"~").replace(/~1/g,"/"));if(!(o in e))return;e=e[o]}return e};function Sg(r){return"/"+encodeURIComponent(r).replace(/~/g,"%7E")}kt.encodePath=function(e){return e.map(Sg).join("")};kt.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;typeof e!="number"&&(e=Number(e));var n=e.toString().split("e");if(n.length===2){if(n[1][0]!=="-")return t;t=Number(n[1].slice(1))}var s=n[0].split(".");return s.length===2&&(t+=s[1].length),t};kt.isSchema=function(e){return typeof e=="object"&&e||typeof e=="boolean"};var qt=kt,He=qt.ValidatorResult,Er=qt.SchemaError,Yi={};Yi.ignoreProperties={id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0};var Ne=Yi.validators={};Ne.type=function(e,t,n,s){if(e===void 0)return null;var o=new He(e,t,n,s),u=Array.isArray(t.type)?t.type:[t.type];if(!u.some(this.testType.bind(this,e,t,n,s))){var d=u.map(function(y){if(y){var T=y.$id||y.id;return T?"<"+T+">":y+""}});o.addError({name:"type",argument:d,message:"is not of a type(s) "+d})}return o};function Xi(r,e,t,n,s){var o=e.throwError,u=e.throwAll;e.throwError=!1,e.throwAll=!1;var d=this.validateSchema(r,s,e,t);return e.throwError=o,e.throwAll=u,!d.valid&&n instanceof Function&&n(d),d.valid}Ne.anyOf=function(e,t,n,s){if(e===void 0)return null;var o=new He(e,t,n,s),u=new He(e,t,n,s);if(!Array.isArray(t.anyOf))throw new Er("anyOf must be an array");if(!t.anyOf.some(Xi.bind(this,e,n,s,function(y){u.importErrors(y)}))){var d=t.anyOf.map(function(y,T){var A=y.$id||y.id;return A?"<"+A+">":y.title&&JSON.stringify(y.title)||y.$ref&&"<"+y.$ref+">"||"[subschema "+T+"]"});n.nestedErrors&&o.importErrors(u),o.addError({name:"anyOf",argument:d,message:"is not any of "+d.join(",")})}return o};Ne.allOf=function(e,t,n,s){if(e===void 0)return null;if(!Array.isArray(t.allOf))throw new Er("allOf must be an array");var o=new He(e,t,n,s),u=this;return t.allOf.forEach(function(d,y){var T=u.validateSchema(e,d,n,s);if(!T.valid){var A=d.$id||d.id,O=A||d.title&&JSON.stringify(d.title)||d.$ref&&"<"+d.$ref+">"||"[subschema "+y+"]";o.addError({name:"allOf",argument:{id:O,length:T.errors.length,valid:T},message:"does not match allOf schema "+O+" with "+T.errors.length+" error[s]:"}),o.importErrors(T)}}),o};Ne.oneOf=function(e,t,n,s){if(e===void 0)return null;if(!Array.isArray(t.oneOf))throw new Er("oneOf must be an array");var o=new He(e,t,n,s),u=new He(e,t,n,s),d=t.oneOf.filter(Xi.bind(this,e,n,s,function(T){u.importErrors(T)})).length,y=t.oneOf.map(function(T,A){var O=T.$id||T.id;return O||T.title&&JSON.stringify(T.title)||T.$ref&&"<"+T.$ref+">"||"[subschema "+A+"]"});return d!==1&&(n.nestedErrors&&o.importErrors(u),o.addError({name:"oneOf",argument:y,message:"is not exactly one from "+y.join(",")})),o};Ne.if=function(e,t,n,s){if(e===void 0)return null;if(!qt.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var o=Xi.call(this,e,n,s,null,t.if),u=new He(e,t,n,s),d;if(o){if(t.then===void 0)return;if(!qt.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');d=this.validateSchema(e,t.then,n,s.makeChild(t.then)),u.importErrors(d)}else{if(t.else===void 0)return;if(!qt.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');d=this.validateSchema(e,t.else,n,s.makeChild(t.else)),u.importErrors(d)}return u};function Ji(r,e){if(Object.hasOwnProperty.call(r,e))return r[e];if(e in r){for(;r=Object.getPrototypeOf(r);)if(Object.propertyIsEnumerable.call(r,e))return r[e]}}Ne.propertyNames=function(e,t,n,s){if(this.types.object(e)){var o=new He(e,t,n,s),u=t.propertyNames!==void 0?t.propertyNames:{};if(!qt.isSchema(u))throw new Er('Expected "propertyNames" to be a schema (object or boolean)');for(var d in e)if(Ji(e,d)!==void 0){var y=this.validateSchema(d,u,n,s.makeChild(u));o.importErrors(y)}return o}};Ne.properties=function(e,t,n,s){if(this.types.object(e)){var o=new He(e,t,n,s),u=t.properties||{};for(var d in u){var y=u[d];if(y!==void 0){if(y===null)throw new Er('Unexpected null, expected schema in "properties"');typeof n.preValidateProperty=="function"&&n.preValidateProperty(e,d,y,n,s);var T=Ji(e,d),A=this.validateSchema(T,y,n,s.makeChild(y,d));A.instance!==o.instance[d]&&(o.instance[d]=A.instance),o.importErrors(A)}}return o}};function Rs(r,e,t,n,s,o){if(this.types.object(r)&&!(e.properties&&e.properties[s]!==void 0))if(e.additionalProperties===!1)o.addError({name:"additionalProperties",argument:s,message:"is not allowed to have the additional property "+JSON.stringify(s)});else{var u=e.additionalProperties||{};typeof t.preValidateProperty=="function"&&t.preValidateProperty(r,s,u,t,n);var d=this.validateSchema(r[s],u,t,n.makeChild(u,s));d.instance!==o.instance[s]&&(o.instance[s]=d.instance),o.importErrors(d)}}Ne.patternProperties=function(e,t,n,s){if(this.types.object(e)){var o=new He(e,t,n,s),u=t.patternProperties||{};for(var d in e){var y=!0;for(var T in u){var A=u[T];if(A!==void 0){if(A===null)throw new Er('Unexpected null, expected schema in "patternProperties"');try{var O=new RegExp(T,"u")}catch{O=new RegExp(T)}if(O.test(d)){y=!1,typeof n.preValidateProperty=="function"&&n.preValidateProperty(e,d,A,n,s);var $=this.validateSchema(e[d],A,n,s.makeChild(A,d));$.instance!==o.instance[d]&&(o.instance[d]=$.instance),o.importErrors($)}}}y&&Rs.call(this,e,t,n,s,d,o)}return o}};Ne.additionalProperties=function(e,t,n,s){if(this.types.object(e)){if(t.patternProperties)return null;var o=new He(e,t,n,s);for(var u in e)Rs.call(this,e,t,n,s,u,o);return o}};Ne.minProperties=function(e,t,n,s){if(this.types.object(e)){var o=new He(e,t,n,s),u=Object.keys(e);return u.length>=t.minProperties||o.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),o}};Ne.maxProperties=function(e,t,n,s){if(this.types.object(e)){var o=new He(e,t,n,s),u=Object.keys(e);return u.length<=t.maxProperties||o.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),o}};Ne.items=function(e,t,n,s){var o=this;if(this.types.array(e)&&t.items!==void 0){var u=new He(e,t,n,s);return e.every(function(d,y){if(Array.isArray(t.items))var T=t.items[y]===void 0?t.additionalItems:t.items[y];else var T=t.items;if(T===void 0)return!0;if(T===!1)return u.addError({name:"items",message:"additionalItems not permitted"}),!1;var A=o.validateSchema(d,T,n,s.makeChild(T,y));return A.instance!==u.instance[y]&&(u.instance[y]=A.instance),u.importErrors(A),!0}),u}};Ne.contains=function(e,t,n,s){var o=this;if(this.types.array(e)&&t.contains!==void 0){if(!qt.isSchema(t.contains))throw new Error('Expected "contains" keyword to be a schema');var u=new He(e,t,n,s),d=e.some(function(y,T){var A=o.validateSchema(y,t.contains,n,s.makeChild(t.contains,T));return A.errors.length===0});return d===!1&&u.addError({name:"contains",argument:t.contains,message:"must contain an item matching given schema"}),u}};Ne.minimum=function(e,t,n,s){if(this.types.number(e)){var o=new He(e,t,n,s);return t.exclusiveMinimum&&t.exclusiveMinimum===!0?e>t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),o}};Ne.maximum=function(e,t,n,s){if(this.types.number(e)){var o=new He(e,t,n,s);return t.exclusiveMaximum&&t.exclusiveMaximum===!0?e<t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),o}};Ne.exclusiveMinimum=function(e,t,n,s){if(typeof t.exclusiveMinimum!="boolean"&&this.types.number(e)){var o=new He(e,t,n,s),u=e>t.exclusiveMinimum;return u||o.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),o}};Ne.exclusiveMaximum=function(e,t,n,s){if(typeof t.exclusiveMaximum!="boolean"&&this.types.number(e)){var o=new He(e,t,n,s),u=e<t.exclusiveMaximum;return u||o.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),o}};var zs=function(e,t,n,s,o,u){if(this.types.number(e)){var d=t[o];if(d==0)throw new Er(o+" cannot be zero");var y=new He(e,t,n,s),T=qt.getDecimalPlaces(e),A=qt.getDecimalPlaces(d),O=Math.max(T,A),$=Math.pow(10,O);return Math.round(e*$)%Math.round(d*$)!==0&&y.addError({name:o,argument:d,message:u+JSON.stringify(d)}),y}};Ne.multipleOf=function(e,t,n,s){return zs.call(this,e,t,n,s,"multipleOf","is not a multiple of (divisible by) ")};Ne.divisibleBy=function(e,t,n,s){return zs.call(this,e,t,n,s,"divisibleBy","is not divisible by (multiple of) ")};Ne.required=function(e,t,n,s){var o=new He(e,t,n,s);return e===void 0&&t.required===!0?o.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach(function(u){Ji(e,u)===void 0&&o.addError({name:"required",argument:u,message:"requires property "+JSON.stringify(u)})}),o};Ne.pattern=function(e,t,n,s){if(this.types.string(e)){var o=new He(e,t,n,s),u=t.pattern;try{var d=new RegExp(u,"u")}catch{d=new RegExp(u)}return e.match(d)||o.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),o}};Ne.format=function(e,t,n,s){if(e!==void 0){var o=new He(e,t,n,s);return!o.disableFormat&&!qt.isFormat(e,t.format,this)&&o.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),o}};Ne.minLength=function(e,t,n,s){if(this.types.string(e)){var o=new He(e,t,n,s),u=e.match(/[\uDC00-\uDFFF]/g),d=e.length-(u?u.length:0);return d>=t.minLength||o.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),o}};Ne.maxLength=function(e,t,n,s){if(this.types.string(e)){var o=new He(e,t,n,s),u=e.match(/[\uDC00-\uDFFF]/g),d=e.length-(u?u.length:0);return d<=t.maxLength||o.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),o}};Ne.minItems=function(e,t,n,s){if(this.types.array(e)){var o=new He(e,t,n,s);return e.length>=t.minItems||o.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),o}};Ne.maxItems=function(e,t,n,s){if(this.types.array(e)){var o=new He(e,t,n,s);return e.length<=t.maxItems||o.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),o}};function Bg(r,e,t){var n,s=t.length;for(n=e+1,s;n<s;n++)if(qt.deepCompareStrict(r,t[n]))return!1;return!0}Ne.uniqueItems=function(e,t,n,s){if(t.uniqueItems===!0&&this.types.array(e)){var o=new He(e,t,n,s);return e.every(Bg)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}};Ne.dependencies=function(e,t,n,s){if(this.types.object(e)){var o=new He(e,t,n,s);for(var u in t.dependencies)if(e[u]!==void 0){var d=t.dependencies[u],y=s.makeChild(d,u);if(typeof d=="string"&&(d=[d]),Array.isArray(d))d.forEach(function(A){e[A]===void 0&&o.addError({name:"dependencies",argument:y.propertyPath,message:"property "+A+" not found, required by "+y.propertyPath})});else{var T=this.validateSchema(e,d,n,y);o.instance!==T.instance&&(o.instance=T.instance),T&&T.errors.length&&(o.addError({name:"dependencies",argument:y.propertyPath,message:"does not meet dependency required by "+y.propertyPath}),o.importErrors(T))}}return o}};Ne.enum=function(e,t,n,s){if(e===void 0)return null;if(!Array.isArray(t.enum))throw new Er("enum expects an array",t);var o=new He(e,t,n,s);return t.enum.some(qt.deepCompareStrict.bind(null,e))||o.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),o};Ne.const=function(e,t,n,s){if(e===void 0)return null;var o=new He(e,t,n,s);return qt.deepCompareStrict(t.const,e)||o.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),o};Ne.not=Ne.disallow=function(e,t,n,s){var o=this;if(e===void 0)return null;var u=new He(e,t,n,s),d=t.not||t.disallow;return d?(Array.isArray(d)||(d=[d]),d.forEach(function(y){if(o.testType(e,t,n,s,y)){var T=y&&(y.$id||y.id),A=T||y;u.addError({name:"not",argument:A,message:"is of prohibited type "+A})}}),u):null};var Og=Yi,Fn={},Mo=Zi,Fg=kt;Fn.SchemaScanResult=Us;function Us(r,e){this.id=r,this.ref=e}Fn.scan=function(e,t){function n(y,T){if(!(!T||typeof T!="object")){if(T.$ref){var A=Mo.resolve(y,T.$ref);d[A]=d[A]?d[A]+1:0;return}var O=T.$id||T.id,$=O?Mo.resolve(y,O):y;if($){if($.indexOf("#")<0&&($+="#"),u[$]){if(!Fg.deepCompareStrict(u[$],T))throw new Error("Schema <"+$+"> already exists with different definition");return u[$]}u[$]=T,$[$.length-1]=="#"&&(u[$.substring(0,$.length-1)]=T)}s($+"/items",Array.isArray(T.items)?T.items:[T.items]),s($+"/extends",Array.isArray(T.extends)?T.extends:[T.extends]),n($+"/additionalItems",T.additionalItems),o($+"/properties",T.properties),n($+"/additionalProperties",T.additionalProperties),o($+"/definitions",T.definitions),o($+"/patternProperties",T.patternProperties),o($+"/dependencies",T.dependencies),s($+"/disallow",T.disallow),s($+"/allOf",T.allOf),s($+"/anyOf",T.anyOf),s($+"/oneOf",T.oneOf),n($+"/not",T.not)}}function s(y,T){if(Array.isArray(T))for(var A=0;A<T.length;A++)n(y+"/"+A,T[A])}function o(y,T){if(!(!T||typeof T!="object"))for(var A in T)n(y+"/"+A,T[A])}var u={},d={};return n(e,t),new Us(u,d)};var js=Zi,qs=Og,Sr=kt,Vs=Fn.scan,Ks=Sr.ValidatorResult,Cg=Sr.ValidatorResultError,An=Sr.SchemaError,Zs=Sr.SchemaContext,Ws="/",St=function r(){this.customFormats=Object.create(r.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(fr),this.attributes=Object.create(qs.validators)};St.prototype.customFormats={};St.prototype.schemas=null;St.prototype.types=null;St.prototype.attributes=null;St.prototype.unresolvedRefs=null;St.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var s=Vs(t||Ws,e),o=t||e.$id||e.id;for(var u in s.id)this.schemas[u]=s.id[u];for(var u in s.ref)this.unresolvedRefs.push(u);return this.unresolvedRefs=this.unresolvedRefs.filter(function(d){return typeof n.schemas[d]>"u"}),this.schemas[o]};St.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])};St.prototype.addSubSchemaObject=function(e,t){if(!(!t||typeof t!="object"))for(var n in t)this.addSubSchema(e,t[n])};St.prototype.setSchemas=function(e){this.schemas=e};St.prototype.getSchema=function(e){return this.schemas[e]};St.prototype.validate=function(e,t,n,s){if(typeof t!="boolean"&&typeof t!="object"||t===null)throw new An("Expected `schema` to be an object or boolean");n||(n={});var o=t.$id||t.id,u=js.resolve(n.base||Ws,o||"");if(!s){s=new Zs(t,n,[],u,Object.create(this.schemas)),s.schemas[u]||(s.schemas[u]=t);var d=Vs(u,t);for(var y in d.id){var T=d.id[y];s.schemas[y]=T}}if(n.required&&e===void 0){var A=new Ks(e,t,n,s);return A.addError("is required, but is undefined"),A}var A=this.validateSchema(e,t,n,s);if(A){if(n.throwAll&&A.errors.length)throw new Cg(A)}else throw new Error("Result undefined");return A};function Ys(r){var e=typeof r=="string"?r:r.$ref;return typeof e=="string"?e:!1}St.prototype.validateSchema=function(e,t,n,s){var o=new Ks(e,t,n,s);if(typeof t=="boolean")t===!0?t={}:t===!1&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var u={schema:t,ctx:s};t.extends.forEach(this.schemaTraverser.bind(this,u)),t=u.schema,u.schema=null,u.ctx=null,u=null}else t=Sr.deepMerge(t,this.superResolve(t.extends,s));var d=Ys(t);if(d){var y=this.resolve(t,d,s),T=new Zs(y.subschema,n,s.path,y.switchSchema,s.schemas);return this.validateSchema(e,y.subschema,n,T)}var A=n&&n.skipAttributes||[];for(var O in t)if(!qs.ignoreProperties[O]&&A.indexOf(O)<0){var $=null,G=this.attributes[O];if(G)$=G.call(this,e,t,n,s);else if(n.allowUnknownAttributes===!1)throw new An("Unsupported attribute: "+O,t);$&&o.importErrors($)}if(typeof n.rewrite=="function"){var Y=n.rewrite.call(this,e,t,n,s);o.instance=Y}return o};St.prototype.schemaTraverser=function(e,t){e.schema=Sr.deepMerge(e.schema,this.superResolve(t,e.ctx))};St.prototype.superResolve=function(e,t){var n=Ys(e);return n?this.resolve(e,n,t).subschema:e};St.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var s=js.parse(t),o=s&&s.hash,u=o&&o.length&&t.substr(0,t.length-o.length);if(!u||!n.schemas[u])throw new An("no such schema <"+t+">",e);var d=Sr.objectGetPath(n.schemas[u],o.substr(1));if(d===void 0)throw new An("no such schema "+o+" located in <"+u+">",e);return{subschema:d,switchSchema:t}};St.prototype.testType=function(e,t,n,s,o){if(o!==void 0){if(o===null)throw new An('Unexpected null in "type" keyword');if(typeof this.types[o]=="function")return this.types[o].call(this,e);if(o&&typeof o=="object"){var u=this.validateSchema(e,o,n,s);return u===void 0||!(u&&u.errors.length)}return!0}};var fr=St.prototype.types={};fr.string=function(e){return typeof e=="string"};fr.number=function(e){return typeof e=="number"&&isFinite(e)};fr.integer=function(e){return typeof e=="number"&&e%1===0};fr.boolean=function(e){return typeof e=="boolean"};fr.array=function(e){return Array.isArray(e)};fr.null=function(e){return e===null};fr.date=function(e){return e instanceof Date};fr.any=function(e){return!0};fr.object=function(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof Date)};var Lg=St,Hg=ur.Validator=Lg;ur.ValidatorResult=kt.ValidatorResult;ur.ValidatorResultError=kt.ValidatorResultError;ur.ValidationError=kt.ValidationError;ur.SchemaError=kt.SchemaError;ur.SchemaScanResult=Fn.SchemaScanResult;ur.scan=Fn.scan;ur.validate=function(r,e,t){var n=new Hg;return n.validate(r,e,t)};function ko(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function mr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ko(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ko(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Io(r){return r.length===2+20*2}function Ng(r){let{getAccounts:e,getPrivateKey:t,processDecryptMessage:n,processEncryptionPublicKey:s,processEthSignMessage:o,processPersonalMessage:u,processTransaction:d,processSignTransaction:y,processTypedMessage:T,processTypedMessageV3:A,processTypedMessageV4:O}=r;if(!e)throw new Error("opts.getAccounts is required");async function $(F,M){if(typeof F=="string"&&F.length>0){const i=(await e(M)).map(l=>l.toLowerCase()),c=F.toLowerCase();if(i.includes(c))return c}throw $e.ethErrors.rpc.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function G(F,M){M.result=await e(F)}async function Y(F,M){const m=await e(F);M.result=m[0]||null}async function he(F,M){if(!d)throw $e.ethErrors.rpc.methodNotSupported();const m=F.params[0]||{from:""};m.from=await $(m.from,F),M.result=await d(m,F)}async function de(F,M){if(!y)throw $e.ethErrors.rpc.methodNotSupported();const m=F.params[0]||{from:""};m.from=await $(m.from,F),M.result=await y(m,F)}async function re(F,M){if(!o)throw $e.ethErrors.rpc.methodNotSupported();const m=await $(F.params[0],F),i=F.params[1],c=F.params[2]||{},l=mr(mr({},c),{},{from:m,data:i});M.result=await o(l,F)}async function we(F,M){if(!T)throw $e.ethErrors.rpc.methodNotSupported();const m=F.params[0],i=await $(F.params[1],F),c="V1",l=F.params[2]||{},b=mr(mr({},l),{},{from:i,data:m});M.result=await T(b,F,c)}async function W(F,M){if(!A)throw $e.ethErrors.rpc.methodNotSupported();const m=await $(F.params[0],F),i=F.params[1],c="V3",l={data:i,from:m,version:c};M.result=await A(l,F,c)}async function _(F,M){if(!O)throw $e.ethErrors.rpc.methodNotSupported();const m=await $(F.params[0],F),i=F.params[1],c="V4",l={data:i,from:m,version:c};M.result=await O(l,F,c)}async function C(F,M){if(!u)throw $e.ethErrors.rpc.methodNotSupported();const m=F.params[0],i=F.params[1],c=F.params[2]||{};let l,b;if(Io(m)&&!Io(i)){let k="The eth_personalSign method requires params ordered ";k+="[message, address]. This was previously handled incorrectly, ",k+="and has been corrected automatically. ",k+="Please switch this param order for smooth behavior in the future.",M.warning=k,l=m,b=i}else b=m,l=i;l=await $(l,F);const w=mr(mr({},c),{},{from:l,data:b});M.result=await u(w,F)}async function R(F,M){if(!s)throw $e.ethErrors.rpc.methodNotSupported();const m=await $(F.params[0],F);M.result=await s(m,F)}async function q(F,M){if(!n)throw $e.ethErrors.rpc.methodNotSupported();const m=F.params[0],i=await $(F.params[1],F),c=F.params[2]||{},l=mr(mr({},c),{},{from:i,data:m});M.result=n(l,F)}async function N(F,M){if(!t)throw $e.ethErrors.rpc.methodNotSupported();M.result=t(F)}return Yn({eth_accounts:Nt(G),eth_private_key:Nt(N),private_key:Nt(N),eth_coinbase:Nt(Y),eth_sendTransaction:Nt(he),eth_signTransaction:Nt(de),eth_sign:Nt(re),eth_signTypedData:Nt(we),eth_signTypedData_v3:Nt(W),eth_signTypedData_v4:Nt(_),personal_sign:Nt(C),eth_getEncryptionPublicKey:Nt(R),eth_decrypt:Nt(q)})}function Xs(r){const{getAccounts:e,getPrivateKey:t,processTransaction:n,processSignTransaction:s,processEthSignMessage:o,processTypedMessage:u,processTypedMessageV3:d,processTypedMessageV4:y,processPersonalMessage:T,processEncryptionPublicKey:A,processDecryptMessage:O}=r;return Ko([Yn({eth_syncing:!1}),Ng({getAccounts:e,getPrivateKey:t,processTransaction:n,processEthSignMessage:o,processSignTransaction:s,processTypedMessage:u,processTypedMessageV3:d,processTypedMessageV4:y,processPersonalMessage:T,processEncryptionPublicKey:A,processDecryptMessage:O})])}function Dg(r){let{addChain:e,switchChain:t}=r;async function n(o,u){var d;const y=(d=o.params)!==null&&d!==void 0&&d.length?o.params[0]:void 0;if(!y)throw $e.ethErrors.rpc.invalidParams("Missing chain params");if(!y.chainId)throw $e.ethErrors.rpc.invalidParams("Missing chainId in chainParams");if(!y.rpcUrls||y.rpcUrls.length===0)throw $e.ethErrors.rpc.invalidParams("Missing rpcUrls in chainParams");if(!y.nativeCurrency)throw $e.ethErrors.rpc.invalidParams("Missing nativeCurrency in chainParams");u.result=await e(y)}async function s(o,u){var d;const y=(d=o.params)!==null&&d!==void 0&&d.length?o.params[0]:void 0;if(!y)throw $e.ethErrors.rpc.invalidParams("Missing chainId");u.result=await t(y)}return Yn({wallet_addEthereumChain:Nt(n),wallet_switchEthereumChain:Nt(s)})}function Gg(r){let{updatePrivatekey:e}=r;async function t(n,s){var o;const u=(o=n.params)!==null&&o!==void 0&&o.length?n.params[0]:void 0;if(!(u!=null&&u.privateKey))throw $e.ethErrors.rpc.invalidParams("Missing privateKey");s.result=await e(u)}return Yn({wallet_updateAccount:Nt(t)})}function Rg(r){return(e,t,n,s)=>e.method==="eth_chainId"?(t.result=r,s()):n()}function zg(r){return(e,t,n,s)=>e.method==="eth_provider_config"?(t.result=r,s()):n()}function Js(r){const{chainId:e,rpcTarget:t}=r,n=la({rpcTarget:t});return{networkMiddleware:Ko([Rg(e),zg(r),n]),fetchMiddleware:n}}function Ug(r){let{connector:e}=r;return{getPrivateKey:async()=>{throw $e.ethErrors.rpc.methodNotSupported()},getAccounts:async t=>{const{accounts:n}=e;if(n&&n.length)return n;throw new Error("Failed to get accounts")},processTransaction:async(t,n)=>await e.sendTransaction(t),processSignTransaction:async(t,n)=>await e.signTransaction(t),processEthSignMessage:async(t,n)=>await e.signMessage([t.from,t.data]),processPersonalMessage:async(t,n)=>await e.signPersonalMessage([t.data,t.from]),processTypedMessage:async(t,n)=>await e.signTypedData([t.from,t.data]),processTypedMessageV3:async t=>await e.signTypedData([t.from,t.data]),processTypedMessageV4:async t=>await e.signTypedData([t.from,t.data]),processEncryptionPublicKey:async t=>{throw $e.ethErrors.rpc.methodNotSupported()},processDecryptMessage:t=>{throw $e.ethErrors.rpc.methodNotSupported()}}}function $o(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function zr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$o(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$o(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}class So extends jo{constructor(e){let{config:t,state:n,connector:s}=e;super({config:{chainConfig:zr(zr({},t.chainConfig),{},{chainNamespace:zn.EIP155}),skipLookupNetwork:!!t.skipLookupNetwork},state:zr(zr({},n||{}),{},{chainId:"loading",accounts:[]})}),Yt(this,"connector",null),this.connector=s||null}async enable(){if(!this.connector)throw $e.ethErrors.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e)}async switchChain(e){let{chainId:t,addChain:n=!0,lookup:s=!0}=e;if(!this.connector)throw $e.ethErrors.provider.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const o=this.getChainConfig(t);this.update({chainId:"loading"});const{rpcTarget:u,displayName:d}=o;if(n)try{await this.connector.sendCustomRequest({method:"wallet_addEthereumChain",params:[{chainId:t,chainName:d,rpcUrls:[u],blockExplorerUrls:[o.blockExplorer],nativeCurrency:{name:o.tickerName,symbol:o.ticker,decimals:o.decimals||18}}]})}catch(y){Qt.error(y)}try{await this.connector.sendCustomRequest({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(y){if(Qt.error(y),y.message!=="JSON RPC response format is invalid")throw y}this.configure({chainConfig:o}),s&&await this.lookupNetwork(this.connector)}async addChain(e){if(!this.connector)throw Qi.notReady("Wallet adapter is not ready yet");const{rpcTarget:t,displayName:n}=e;try{await this.connector.sendCustomRequest({method:"wallet_addEthereumChain",params:[{chainId:e.chainId,chainName:n,rpcUrls:[t],blockExplorerUrls:[e.blockExplorer],nativeCurrency:{name:e.tickerName,symbol:e.ticker,decimals:e.decimals||18}}]}),super.addChain(e)}catch(s){throw Qt.error(s),s}}async lookupNetwork(e){if(!e.connected)throw eo.notConnectedError("Wallet connect connector is not connected");if(!this.provider)throw $e.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const{chainId:t}=this.config.chainConfig,n=mn(e.chainId.toString())?e.chainId:`0x${e.chainId.toString(16)}`;if(t!==n)throw Qi.rpcConnectionError(`Invalid network, net_version is: ${n}, expected: ${t}`);return this.provider.emit("connect",{chainId:t}),this.provider.emit("chainChanged",this.state.chainId),n}async setupEngine(e){const t=Ug({connector:e});this.update({accounts:e.accounts||[]});const n=Xs(t),s=new qo,{networkMiddleware:o}=Js(this.config.chainConfig);s.push(n),s.push(o);const u=Vo(s);this.updateProviderEngineProxy(u),this.config.skipLookupNetwork||await this.lookupNetwork(e)}async onConnectorStateUpdate(e){e.on("session_update",async(t,n)=>{if(!this.provider)throw eo.notConnectedError("Wallet connect connector is not connected");if(t){this.provider.emit("error",t);return}const{accounts:s,chainId:o,rpcUrl:u}=n.params[0];s!=null&&s.length&&this.state.accounts[0]!==s[0]&&(this.update({accounts:s}),this.provider.emit("accountsChanged",s));const d=`0x${o.toString(16)}`;if(o&&this.state.chainId!==d){const y=ha(zn.EIP155,o)||{};this.configure({chainConfig:zr(zr({},y),{},{chainId:d,rpcTarget:u,chainNamespace:zn.EIP155})}),await this.setupEngine(e)}})}}Yt(So,"getProviderInstance",async r=>{const e=new So({config:{chainConfig:r.chainConfig,skipLookupNetwork:r.skipLookupNetwork}});return await e.setupProvider(r.connector),e});const Qs=new Xt("1e18"),ea=new Xt("1e9"),ta=new Xt("1"),jg={hex:r=>typeof r=="string"?new Xt(Ve.stripHexPrefix(r),16):new Xt(r,16),dec:r=>new Xt(r,10)},qg={WEI:r=>r.div(Qs),GWEI:r=>r.div(ea),ETH:r=>r.div(ta)},Vg={WEI:r=>r.times(Qs).dp(0,Xt.ROUND_HALF_UP),GWEI:r=>r.times(ea).dp(9,Xt.ROUND_HALF_UP),ETH:r=>r.times(ta).dp(9,Xt.ROUND_HALF_UP)},Kg={hex:r=>r.toString(16),dec:r=>new Xt(r).toString(10)},Zg=r=>{const{value:e,fromNumericBase:t,fromDenomination:n,toNumericBase:s,toDenomination:o,numberOfDecimals:u}=r;let d=jg[t](e);return n&&(d=qg[n](d)),o&&(d=Vg[o](d)),u&&(d=d.dp(u,Xt.ROUND_HALF_DOWN)),s&&(d=Kg[s](d)),d},ra=(r,e)=>{let{fromNumericBase:t="hex",toNumericBase:n,fromDenomination:s,toDenomination:o,numberOfDecimals:u}=e;return Zg({fromNumericBase:t,toNumericBase:n,fromDenomination:s,toDenomination:o,numberOfDecimals:u,value:r||"0"})};function jr(r){return ra(r,{fromNumericBase:"dec",toNumericBase:"hex",fromDenomination:"GWEI",toDenomination:"WEI"})}function na(r){return ra(r,{fromNumericBase:"hex",toNumericBase:"dec",fromDenomination:"WEI",toDenomination:"GWEI"})}function Bo(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function pr(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Bo(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Bo(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Tr(r){const e=jr(r);return na(e)}async function Wg(r){const e=await Zo(r);return pr(pr({},e),{},{estimatedBaseFee:Tr(e.estimatedBaseFee),low:pr(pr({},e.low),{},{suggestedMaxPriorityFeePerGas:Tr(e.low.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Tr(e.low.suggestedMaxFeePerGas)}),medium:pr(pr({},e.medium),{},{suggestedMaxPriorityFeePerGas:Tr(e.medium.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Tr(e.medium.suggestedMaxFeePerGas)}),high:pr(pr({},e.high),{},{suggestedMaxPriorityFeePerGas:Tr(e.high.suggestedMaxPriorityFeePerGas),suggestedMaxFeePerGas:Tr(e.high.suggestedMaxFeePerGas)})})}async function Yg(r){const e=await Zo(r,{referrer:r,referrerPolicy:"no-referrer-when-downgrade",method:"GET",mode:"cors"});return{low:e.SafeGasPrice,medium:e.ProposeGasPrice,high:e.FastGasPrice}}const _i=(r,e)=>{var t;try{Rt.ok(r&&typeof r=="object","Params must be an object."),Rt.ok("data"in r,'Params must include a "data" field.'),Rt.ok("from"in r,'Params must include a "from" field.'),Rt.ok(typeof r.from=="string"&&Ve.isValidAddress(r.from),'"from" field must be a valid, lowercase, hexadecimal Ethereum address string.');let n=null,s=null;switch(r.version){case Dt.SignTypedDataVersion.V1:typeof r.data=="string"?Rt.doesNotThrow(()=>{n=JSON.parse(r.data)},'"data" must be a valid JSON string.'):n=r.data,Rt.ok(Array.isArray(n),"params.data must be an array."),Rt.doesNotThrow(()=>{Dt.typedSignatureHash(n)},"Signing data must be valid EIP-712 typed data.");break;case Dt.SignTypedDataVersion.V3:case Dt.SignTypedDataVersion.V4:typeof r.data=="string"?Rt.doesNotThrow(()=>{n=JSON.parse(r.data)},'"data" must be a valid JSON string.'):n=r.data,Rt.ok(n.primaryType in n.types,`Primary type of "${n.primaryType}" has no type definition.`);const o=ur.validate(n,Dt.TYPED_MESSAGE_SCHEMA.properties);Rt.strictEqual(o.errors.length,0,"Signing data must conform to EIP-712 schema. See https://git.io/fNtcx."),s=(t=n.domain)===null||t===void 0?void 0:t.chainId,s&&(Rt.ok(!Number.isNaN(e),`Cannot sign messages for chainId "${s}", because Web3Auth is switching networks.`),typeof s=="string"&&(s=Number.parseInt(s,mn(s)?16:10)),Rt.strictEqual(s,e,`Provided chainId "${s}" must match the active chainId "${e}"`));break;default:Rt.fail(`Unknown typed data version "${r.version}"`)}}catch(n){throw $e.ethErrors.rpc.invalidInput({message:n?.message})}};function Oo(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function Fo(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Oo(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Oo(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}async function Co(r,e,t){const n=await t.formatTransaction(r),s=await t.getCommonConfiguration();return Wo.TransactionFactory.fromTxData(n,{common:s}).sign(V.from(e,"hex")).serialize()}function Xg(r){let{txFormatter:e,privKey:t,getProviderEngineProxy:n}=r;return{getAccounts:async s=>[`0x${Ve.privateToAddress(V.from(t,"hex")).toString("hex")}`],getPrivateKey:async s=>t,processTransaction:async(s,o)=>{const u=n();if(!u)throw $e.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const d=await Co(s,t,e);return await u.request({method:"eth_sendRawTransaction",params:["0x".concat(d.toString("hex"))]})},processSignTransaction:async(s,o)=>{if(!n())throw $e.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});return`0x${(await Co(s,t,e)).toString("hex")}`},processEthSignMessage:async(s,o)=>da(t,s.data),processPersonalMessage:async(s,o)=>{const u=V.from(t,"hex");return Dt.personalSign({privateKey:u,data:s.data})},processTypedMessage:async(s,o)=>{Qt.debug("processTypedMessage",s);const u=V.from(t,"hex"),d=n();if(!d)throw $e.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const y=await d.request({method:"eth_chainId"}),T=Number.parseInt(y,mn(y)?16:10),A=Fo(Fo({},s),{},{version:Dt.SignTypedDataVersion.V1});_i(A,T);const O=typeof A.data=="string"?JSON.parse(A.data):A.data;return Dt.signTypedData({privateKey:u,data:O,version:Dt.SignTypedDataVersion.V1})},processTypedMessageV3:async(s,o)=>{Qt.debug("processTypedMessageV3",s);const u=V.from(t,"hex"),d=n();if(!d)throw $e.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const y=await d.request({method:"eth_chainId"}),T=Number.parseInt(y,mn(y)?16:10);_i(s,T);const A=typeof s.data=="string"?JSON.parse(s.data):s.data;return Dt.signTypedData({privateKey:u,data:A,version:Dt.SignTypedDataVersion.V3})},processTypedMessageV4:async(s,o)=>{Qt.debug("processTypedMessageV4",s);const u=V.from(t,"hex"),d=n();if(!d)throw $e.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const y=await d.request({method:"eth_chainId"}),T=Number.parseInt(y,mn(y)?16:10);_i(s,T);const A=typeof s.data=="string"?JSON.parse(s.data):s.data;return Dt.signTypedData({privateKey:u,data:A,version:Dt.SignTypedDataVersion.V4})},processEncryptionPublicKey:async(s,o)=>(Qt.info("processEncryptionPublicKey",s),Dt.getEncryptionPublicKey(t)),processDecryptMessage:(s,o)=>{Qt.info("processDecryptMessage",s);const u=Ve.stripHexPrefix(s.data),d=V.from(u,"hex");return Dt.decrypt({encryptedData:JSON.parse(d.toString("utf8")),privateKey:t})}}}function Jg(r,e){return r==null||e===null||e===void 0?null:new Xt(r,10).lt(e,10)}function Gn(r){return Ve.addHexPrefix(r.toString(16))}function Ti(r){return Un.isBN(r)?r:new Un(Ve.stripHexPrefix(r),16)}function Qg(r,e,t){const n=new Un(e),s=new Un(t);return r.mul(n).div(s)}const e2="https://gas-api.metaswap.codefi.network/networks/<chain_id>/gasPrices",t2="https://gas-api.metaswap.codefi.network/networks/<chain_id>/suggestedGasFees",Lo={LEGACY:"0x0",ACCESS_LIST:"0x1",FEE_MARKET:"0x2"},Rn={SENT_ETHER:"sentEther",CONTRACT_INTERACTION:"contractInteraction",DEPLOY_CONTRACT:"contractDeployment",STANDARD_TRANSACTION:"transaction"},Ur={FEE_MARKET:"fee-market",LEGACY:"legacy",ETH_GASPRICE:"eth_gasPrice",NONE:"none"};function Ho(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function Ai(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ho(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Ho(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}class r2{constructor(e){let{getProviderEngineProxy:t}=e;Yt(this,"chainConfig",null),Yt(this,"getProviderEngineProxy",void 0),Yt(this,"isEIP1559Compatible",!1),this.getProviderEngineProxy=t}get providerProxy(){return this.getProviderEngineProxy()}async init(){this.chainConfig=await this.providerProxy.request({method:"eth_provider_config",params:[]}),this.isEIP1559Compatible=await this.getEIP1559Compatibility()}async getCommonConfiguration(){if(!this.chainConfig)throw new Error("Chain config not initialized");const{displayName:e,chainId:t}=this.chainConfig,n=this.isEIP1559Compatible?gn.Hardfork.London:gn.Hardfork.Berlin,s={name:e,chainId:t==="loading"?0:Number.parseInt(t,16),networkId:t==="loading"?0:Number.parseInt(t,16),defaultHardfork:n};return gn.Common.custom(s)}async formatTransaction(e){if(!this.chainConfig)throw new Error("Chain config not initialized");const t=Ai({},e);if(t.nonce===void 0&&(t.nonce=await this.providerProxy.request({method:"eth_getTransactionCount",params:[e.from,"latest"]})),!this.isEIP1559Compatible&&t.gasPrice){if(t.maxFeePerGas&&delete t.maxFeePerGas,t.maxPriorityFeePerGas&&delete t.maxPriorityFeePerGas,t.gas)t.gasLimit=t.gas;else{const u=await this.getDefaultGasLimit(t);u&&(t.gasLimit=u)}return t}if(t.gas)t.gasLimit=t.gas;else{const u=await this.getDefaultGasLimit(t);u&&(t.gasLimit=u)}const{gasPrice:n,maxFeePerGas:s,maxPriorityFeePerGas:o}=await this.getDefaultGasFees(t);return this.isEIP1559Compatible?(t.gasPrice&&!t.maxFeePerGas&&!t.maxPriorityFeePerGas?(t.maxFeePerGas=t.gasPrice,t.maxPriorityFeePerGas=Jg(typeof o=="string"?Ve.stripHexPrefix(o):o,typeof t.gasPrice=="string"?Ve.stripHexPrefix(t.gasPrice):t.gasPrice)?o:t.gasPrice):(s&&!t.maxFeePerGas&&(t.maxFeePerGas=s),o&&!t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=o),n&&!t.maxFeePerGas&&(t.maxFeePerGas=n),t.maxFeePerGas&&!t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=t.maxFeePerGas)),delete t.gasPrice):(delete t.maxPriorityFeePerGas,delete t.maxFeePerGas),n&&!t.gasPrice&&!t.maxPriorityFeePerGas&&!t.maxFeePerGas&&(t.gasPrice=n),t.type=this.isEIP1559Compatible?Lo.FEE_MARKET:Lo.LEGACY,t.chainId=this.chainConfig.chainId,t}async fetchEthGasPriceEstimate(){const e=await this.providerProxy.request({method:"eth_gasPrice",params:[]});return{gasPrice:na(e).toString()}}async getEIP1559Compatibility(){const e=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]});return!!(e&&e.baseFeePerGas!==void 0)}async fetchGasFeeEstimateData(){if(!this.chainConfig)throw new Error("Chain config not initialized");const e=this.chainConfig.chainId==="0x1",t=Number.parseInt(this.chainConfig.chainId,16);let n;try{if(this.isEIP1559Compatible)n={gasFeeEstimates:await Wg(t2.replace("<chain_id>",`${t}`)),gasEstimateType:Ur.FEE_MARKET};else if(e)n={gasFeeEstimates:await Yg(e2.replace("<chain_id>",`${t}`)),gasEstimateType:Ur.LEGACY};else throw new Error("Main gas fee/price estimation failed. Use fallback")}catch{try{n={gasFeeEstimates:await this.fetchEthGasPriceEstimate(),gasEstimateType:Ur.ETH_GASPRICE}}catch(o){throw new Error(`Gas fee/price estimation failed. Message: ${o.message}`)}}return n}async getDefaultGasFees(e){if(!this.isEIP1559Compatible&&e.gasPrice||this.isEIP1559Compatible&&e.maxFeePerGas&&e.maxPriorityFeePerGas)return{};try{const{gasFeeEstimates:n,gasEstimateType:s}=await this.fetchGasFeeEstimateData();if(this.isEIP1559Compatible&&s===Ur.FEE_MARKET){const{medium:{suggestedMaxPriorityFeePerGas:o,suggestedMaxFeePerGas:u}={}}=n;if(o&&u)return{maxFeePerGas:Ve.addHexPrefix(jr(u)),maxPriorityFeePerGas:Ve.addHexPrefix(jr(o))}}else{if(s===Ur.LEGACY)return{gasPrice:Ve.addHexPrefix(jr(n.medium))};if(s===Ur.ETH_GASPRICE)return{gasPrice:Ve.addHexPrefix(jr(n.gasPrice))}}}catch(n){Qt.error(n)}const{gasPrice:t}=await this.fetchEthGasPriceEstimate();return{gasPrice:Ve.addHexPrefix(jr(t))}}async estimateTxGas(e){const t=Ai({},e);return delete t.gasPrice,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,await this.providerProxy.request({method:"eth_estimateGas",params:[t]})}async analyzeGasUsage(e){const t=await this.providerProxy.request({method:"eth_getBlockByNumber",params:["latest",!1]}),n=Ti(t.gasLimit),s=Qg(n,19,20);let o=Gn(s);try{o=await this.estimateTxGas(e)}catch(u){Qt.warn(u)}return{blockGasLimit:t.gasLimit,estimatedGasHex:o}}addGasBuffer(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1.5;const s=Ti(e),u=Ti(t).muln(.9),d=s.muln(n);return s.gt(u)?Gn(s):d.lt(u)?Gn(d):Gn(u)}async determineTransactionCategory(e){const{data:t,to:n}=e;let s="",o;if(t&&!n)o=Rn.DEPLOY_CONTRACT;else{try{s=await this.providerProxy.request({method:"eth_getCode",params:[n,"latest"]})}catch(d){Qt.warn(d)}o=!s||s==="0x"||s==="0x0"?Rn.SENT_ETHER:Rn.CONTRACT_INTERACTION}return{transactionCategory:o,code:s}}async getDefaultGasLimit(e){const{transactionCategory:t}=await this.determineTransactionCategory(Ai({},e));if(e.gas)return e.gas;if(e.to&&t===Rn.SENT_ETHER){if(e.data)throw Error("TxGasUtil - Trying to call a function on a non-contract address");const u=21e3;return Ve.addHexPrefix(u.toString(16))}const{blockGasLimit:n,estimatedGasHex:s}=await this.analyzeGasUsage(e);return this.addGasBuffer(Ve.addHexPrefix(s),n)}}function No(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function Do(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?No(Object(t),!0).forEach(function(n){Yt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):No(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}class Go extends jo{constructor(e){let{config:t,state:n}=e;super({config:{chainConfig:Do(Do({},t.chainConfig),{},{chainNamespace:zn.EIP155})},state:n})}async enable(){if(!this.state.privateKey)throw $e.ethErrors.provider.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){const t=new r2({getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),n=Xg({txFormatter:t,privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),s=Xs(n),o=this.getChainSwitchMiddleware(),u=new qo,{networkMiddleware:d}=Js(this.config.chainConfig);u.push(s),u.push(o),u.push(this.getAccountMiddleware()),u.push(d);const y=Vo(u);this.updateProviderEngineProxy(y),await t.init(),await this.lookupNetwork()}async updateAccount(e){if(!this._providerEngineProxy)throw $e.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});await this._providerEngineProxy.request({method:"eth_private_key"})!==e.privateKey&&(await this.setupProvider(e.privateKey),this._providerEngineProxy.emit("accountsChanged",{accounts:await this._providerEngineProxy.request({method:"eth_accounts"})}))}async switchChain(e){if(!this._providerEngineProxy)throw $e.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const t=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:t});const n=await this._providerEngineProxy.request({method:"eth_private_key"});await this.setupProvider(n)}async lookupNetwork(){if(!this._providerEngineProxy)throw $e.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const{chainId:e}=this.config.chainConfig;if(!e)throw $e.ethErrors.rpc.invalidParams("chainId is required while lookupNetwork");const t=await this._providerEngineProxy.request({method:"net_version",params:[]});if(parseInt(e,16)!==parseInt(t,10))throw $e.ethErrors.provider.chainDisconnected(`Invalid network, net_version is: ${t}`);return this.state.chainId!==e&&(this._providerEngineProxy.emit("chainChanged",e),this._providerEngineProxy.emit("connect",{chainId:e})),this.update({chainId:e}),t}getChainSwitchMiddleware(){return Dg({addChain:async n=>{const{chainId:s,chainName:o,rpcUrls:u,blockExplorerUrls:d,nativeCurrency:y}=n;this.addChain({chainNamespace:"eip155",chainId:s,ticker:y?.symbol||"ETH",tickerName:y?.name||"Ether",displayName:o,rpcTarget:u[0],blockExplorer:d?.[0]||"",decimals:y?.decimals||18})},switchChain:async n=>{const{chainId:s}=n;await this.switchChain({chainId:s})}})}getAccountMiddleware(){return Gg({updatePrivatekey:async t=>{const{privateKey:n}=t;await this.updateAccount({privateKey:n})}})}}Yt(Go,"getProviderInstance",async r=>{const e=new Go({config:{chainConfig:r.chainConfig}});return await e.setupProvider(r.privKey),e});export{Go as EthereumPrivateKeyProvider,r2 as TransactionFormatter,So as WalletConnectProvider,Xg as getProviderHandlers};
